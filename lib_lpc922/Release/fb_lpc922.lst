                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.1.0 #7066 (Jun 14 2012) (Linux)
                              4 ; This file was generated Sat Apr 27 22:17:53 2013
                              5 ;--------------------------------------------------------
                              6 	.module fb_lpc922
                              7 	.optsdcc -mmcs51 --model-small
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _eeprom
                             13 	.globl _userram
                             14 	.globl _read_obj_value
                             15 	.globl _read_value_req
                             16 	.globl _write_value_req
                             17 	.globl _P3_1
                             18 	.globl _P3_0
                             19 	.globl _P1_7
                             20 	.globl _P1_6
                             21 	.globl _P1_5
                             22 	.globl _P1_4
                             23 	.globl _P1_3
                             24 	.globl _P1_2
                             25 	.globl _P1_1
                             26 	.globl _P1_0
                             27 	.globl _P0_7
                             28 	.globl _P0_6
                             29 	.globl _P0_5
                             30 	.globl _P0_4
                             31 	.globl _P0_3
                             32 	.globl _P0_2
                             33 	.globl _P0_1
                             34 	.globl _P0_0
                             35 	.globl _I2CON_0
                             36 	.globl _I2CON_2
                             37 	.globl _I2CON_3
                             38 	.globl _I2CON_4
                             39 	.globl _I2CON_5
                             40 	.globl _I2CON_6
                             41 	.globl _SCON_7
                             42 	.globl _SCON_6
                             43 	.globl _SCON_5
                             44 	.globl _SCON_4
                             45 	.globl _SCON_3
                             46 	.globl _SCON_2
                             47 	.globl _SCON_1
                             48 	.globl _SCON_0
                             49 	.globl _IP0_0
                             50 	.globl _IP0_1
                             51 	.globl _IP0_2
                             52 	.globl _IP0_3
                             53 	.globl _IP0_4
                             54 	.globl _IP0_5
                             55 	.globl _IP0_6
                             56 	.globl _IP1_0
                             57 	.globl _IP1_1
                             58 	.globl _IP1_2
                             59 	.globl _IP1_6
                             60 	.globl _IEN1_0
                             61 	.globl _IEN1_1
                             62 	.globl _IEN1_2
                             63 	.globl _IEN0_0
                             64 	.globl _IEN0_1
                             65 	.globl _IEN0_2
                             66 	.globl _IEN0_3
                             67 	.globl _IEN0_4
                             68 	.globl _IEN0_5
                             69 	.globl _IEN0_6
                             70 	.globl _IEN0_7
                             71 	.globl _TCON_0
                             72 	.globl _TCON_1
                             73 	.globl _TCON_2
                             74 	.globl _TCON_3
                             75 	.globl _TCON_4
                             76 	.globl _TCON_5
                             77 	.globl _TCON_6
                             78 	.globl _TCON_7
                             79 	.globl _PSW_7
                             80 	.globl _PSW_6
                             81 	.globl _PSW_5
                             82 	.globl _PSW_4
                             83 	.globl _PSW_3
                             84 	.globl _PSW_2
                             85 	.globl _PSW_1
                             86 	.globl _PSW_0
                             87 	.globl _IEN1
                             88 	.globl _IP0H
                             89 	.globl _WFEED2
                             90 	.globl _WFEED1
                             91 	.globl _WDL
                             92 	.globl _WDCON
                             93 	.globl _TRIM
                             94 	.globl _TAMOD
                             95 	.globl _SSTAT
                             96 	.globl _RTCL
                             97 	.globl _RTCH
                             98 	.globl _RTCCON
                             99 	.globl _RSTSRC
                            100 	.globl _PT0AD
                            101 	.globl _PCONA
                            102 	.globl _P3M2
                            103 	.globl _P3M1
                            104 	.globl _P1M2
                            105 	.globl _P1M1
                            106 	.globl _P0M2
                            107 	.globl _P0M1
                            108 	.globl _KBPATN
                            109 	.globl _KBMASK
                            110 	.globl _KBCON
                            111 	.globl _IP1H
                            112 	.globl _IP1
                            113 	.globl _I2STAT
                            114 	.globl _I2SCLL
                            115 	.globl _I2SCLH
                            116 	.globl _I2DAT
                            117 	.globl _I2CON
                            118 	.globl _I2ADR
                            119 	.globl _FMDATA
                            120 	.globl _FMCON
                            121 	.globl _FMADRL
                            122 	.globl _FMADRH
                            123 	.globl _DIVM
                            124 	.globl _CMP2
                            125 	.globl _CMP1
                            126 	.globl _BRGCON
                            127 	.globl _BRGR1
                            128 	.globl _BRGR0
                            129 	.globl _SADEN
                            130 	.globl _SADDR
                            131 	.globl _AUXR1
                            132 	.globl _SBUF
                            133 	.globl _SCON
                            134 	.globl _IP0
                            135 	.globl _IEN0
                            136 	.globl _TH1
                            137 	.globl _TH0
                            138 	.globl _TL1
                            139 	.globl _TL0
                            140 	.globl _TMOD
                            141 	.globl _TCON
                            142 	.globl _PCON
                            143 	.globl _DPH
                            144 	.globl _DPL
                            145 	.globl _SP
                            146 	.globl _B
                            147 	.globl _ACC
                            148 	.globl _PSW
                            149 	.globl _P3
                            150 	.globl _P1
                            151 	.globl _P0
                            152 	.globl _inc_pcount
                            153 	.globl _connected
                            154 	.globl _transparency
                            155 	.globl _send_nack
                            156 	.globl _send_ack
                            157 	.globl _wait_for_ack
                            158 	.globl _fbtx_bit
                            159 	.globl _auto_ack
                            160 	.globl _tel_sent
                            161 	.globl _tel_arrived
                            162 	.globl _its_me
                            163 	.globl _nack
                            164 	.globl _ack
                            165 	.globl _fb_parity
                            166 	.globl _interrupted
                            167 	.globl _parity_ok
                            168 	.globl _status60
                            169 	.globl _tx_nextsend
                            170 	.globl _tx_nextwrite
                            171 	.globl _repeat_count
                            172 	.globl _fb_state
                            173 	.globl _fb_pattern
                            174 	.globl _fbrx_byte
                            175 	.globl _cs
                            176 	.globl _telpos
                            177 	.globl _tx_buffer
                            178 	.globl _telegramm
                            179 	.globl _senders_pcount
                            180 	.globl _mem_adrl
                            181 	.globl _mem_adrh
                            182 	.globl _mem_length
                            183 	.globl _pcount
                            184 	.globl _conl
                            185 	.globl _conh
                            186 	.globl _X1_int
                            187 	.globl _T1_int
                            188 	.globl _init_rx
                            189 	.globl _init_tx
                            190 	.globl _gapos_in_gat
                            191 	.globl _build_tel
                            192 	.globl _send_obj_value
                            193 	.globl _process_tel
                            194 	.globl _write_memory
                            195 	.globl _set_pa
                            196 	.globl _read_objflags
                            197 	.globl _find_first_objno
                            198 	.globl _restart_hw
                            199 ;--------------------------------------------------------
                            200 ; special function registers
                            201 ;--------------------------------------------------------
                            202 	.area RSEG    (ABS,DATA)
   0000                     203 	.org 0x0000
                    0080    204 G$P0$0$0 == 0x0080
                    0080    205 _P0	=	0x0080
                    0090    206 G$P1$0$0 == 0x0090
                    0090    207 _P1	=	0x0090
                    00B0    208 G$P3$0$0 == 0x00b0
                    00B0    209 _P3	=	0x00b0
                    00D0    210 G$PSW$0$0 == 0x00d0
                    00D0    211 _PSW	=	0x00d0
                    00E0    212 G$ACC$0$0 == 0x00e0
                    00E0    213 _ACC	=	0x00e0
                    00F0    214 G$B$0$0 == 0x00f0
                    00F0    215 _B	=	0x00f0
                    0081    216 G$SP$0$0 == 0x0081
                    0081    217 _SP	=	0x0081
                    0082    218 G$DPL$0$0 == 0x0082
                    0082    219 _DPL	=	0x0082
                    0083    220 G$DPH$0$0 == 0x0083
                    0083    221 _DPH	=	0x0083
                    0087    222 G$PCON$0$0 == 0x0087
                    0087    223 _PCON	=	0x0087
                    0088    224 G$TCON$0$0 == 0x0088
                    0088    225 _TCON	=	0x0088
                    0089    226 G$TMOD$0$0 == 0x0089
                    0089    227 _TMOD	=	0x0089
                    008A    228 G$TL0$0$0 == 0x008a
                    008A    229 _TL0	=	0x008a
                    008B    230 G$TL1$0$0 == 0x008b
                    008B    231 _TL1	=	0x008b
                    008C    232 G$TH0$0$0 == 0x008c
                    008C    233 _TH0	=	0x008c
                    008D    234 G$TH1$0$0 == 0x008d
                    008D    235 _TH1	=	0x008d
                    00A8    236 G$IEN0$0$0 == 0x00a8
                    00A8    237 _IEN0	=	0x00a8
                    00B8    238 G$IP0$0$0 == 0x00b8
                    00B8    239 _IP0	=	0x00b8
                    0098    240 G$SCON$0$0 == 0x0098
                    0098    241 _SCON	=	0x0098
                    0099    242 G$SBUF$0$0 == 0x0099
                    0099    243 _SBUF	=	0x0099
                    00A2    244 G$AUXR1$0$0 == 0x00a2
                    00A2    245 _AUXR1	=	0x00a2
                    00A9    246 G$SADDR$0$0 == 0x00a9
                    00A9    247 _SADDR	=	0x00a9
                    00B9    248 G$SADEN$0$0 == 0x00b9
                    00B9    249 _SADEN	=	0x00b9
                    00BE    250 G$BRGR0$0$0 == 0x00be
                    00BE    251 _BRGR0	=	0x00be
                    00BF    252 G$BRGR1$0$0 == 0x00bf
                    00BF    253 _BRGR1	=	0x00bf
                    00BD    254 G$BRGCON$0$0 == 0x00bd
                    00BD    255 _BRGCON	=	0x00bd
                    00AC    256 G$CMP1$0$0 == 0x00ac
                    00AC    257 _CMP1	=	0x00ac
                    00AD    258 G$CMP2$0$0 == 0x00ad
                    00AD    259 _CMP2	=	0x00ad
                    0095    260 G$DIVM$0$0 == 0x0095
                    0095    261 _DIVM	=	0x0095
                    00E7    262 G$FMADRH$0$0 == 0x00e7
                    00E7    263 _FMADRH	=	0x00e7
                    00E6    264 G$FMADRL$0$0 == 0x00e6
                    00E6    265 _FMADRL	=	0x00e6
                    00E4    266 G$FMCON$0$0 == 0x00e4
                    00E4    267 _FMCON	=	0x00e4
                    00E5    268 G$FMDATA$0$0 == 0x00e5
                    00E5    269 _FMDATA	=	0x00e5
                    00DB    270 G$I2ADR$0$0 == 0x00db
                    00DB    271 _I2ADR	=	0x00db
                    00D8    272 G$I2CON$0$0 == 0x00d8
                    00D8    273 _I2CON	=	0x00d8
                    00DA    274 G$I2DAT$0$0 == 0x00da
                    00DA    275 _I2DAT	=	0x00da
                    00DD    276 G$I2SCLH$0$0 == 0x00dd
                    00DD    277 _I2SCLH	=	0x00dd
                    00DC    278 G$I2SCLL$0$0 == 0x00dc
                    00DC    279 _I2SCLL	=	0x00dc
                    00D9    280 G$I2STAT$0$0 == 0x00d9
                    00D9    281 _I2STAT	=	0x00d9
                    00F8    282 G$IP1$0$0 == 0x00f8
                    00F8    283 _IP1	=	0x00f8
                    00F7    284 G$IP1H$0$0 == 0x00f7
                    00F7    285 _IP1H	=	0x00f7
                    0094    286 G$KBCON$0$0 == 0x0094
                    0094    287 _KBCON	=	0x0094
                    0086    288 G$KBMASK$0$0 == 0x0086
                    0086    289 _KBMASK	=	0x0086
                    0093    290 G$KBPATN$0$0 == 0x0093
                    0093    291 _KBPATN	=	0x0093
                    0084    292 G$P0M1$0$0 == 0x0084
                    0084    293 _P0M1	=	0x0084
                    0085    294 G$P0M2$0$0 == 0x0085
                    0085    295 _P0M2	=	0x0085
                    0091    296 G$P1M1$0$0 == 0x0091
                    0091    297 _P1M1	=	0x0091
                    0092    298 G$P1M2$0$0 == 0x0092
                    0092    299 _P1M2	=	0x0092
                    00B1    300 G$P3M1$0$0 == 0x00b1
                    00B1    301 _P3M1	=	0x00b1
                    00B2    302 G$P3M2$0$0 == 0x00b2
                    00B2    303 _P3M2	=	0x00b2
                    00B5    304 G$PCONA$0$0 == 0x00b5
                    00B5    305 _PCONA	=	0x00b5
                    00F6    306 G$PT0AD$0$0 == 0x00f6
                    00F6    307 _PT0AD	=	0x00f6
                    00DF    308 G$RSTSRC$0$0 == 0x00df
                    00DF    309 _RSTSRC	=	0x00df
                    00D1    310 G$RTCCON$0$0 == 0x00d1
                    00D1    311 _RTCCON	=	0x00d1
                    00D2    312 G$RTCH$0$0 == 0x00d2
                    00D2    313 _RTCH	=	0x00d2
                    00D3    314 G$RTCL$0$0 == 0x00d3
                    00D3    315 _RTCL	=	0x00d3
                    00BA    316 G$SSTAT$0$0 == 0x00ba
                    00BA    317 _SSTAT	=	0x00ba
                    008F    318 G$TAMOD$0$0 == 0x008f
                    008F    319 _TAMOD	=	0x008f
                    0096    320 G$TRIM$0$0 == 0x0096
                    0096    321 _TRIM	=	0x0096
                    00A7    322 G$WDCON$0$0 == 0x00a7
                    00A7    323 _WDCON	=	0x00a7
                    00C1    324 G$WDL$0$0 == 0x00c1
                    00C1    325 _WDL	=	0x00c1
                    00C2    326 G$WFEED1$0$0 == 0x00c2
                    00C2    327 _WFEED1	=	0x00c2
                    00C3    328 G$WFEED2$0$0 == 0x00c3
                    00C3    329 _WFEED2	=	0x00c3
                    00B7    330 G$IP0H$0$0 == 0x00b7
                    00B7    331 _IP0H	=	0x00b7
                    00E8    332 G$IEN1$0$0 == 0x00e8
                    00E8    333 _IEN1	=	0x00e8
                            334 ;--------------------------------------------------------
                            335 ; special function bits
                            336 ;--------------------------------------------------------
                            337 	.area RSEG    (ABS,DATA)
   0000                     338 	.org 0x0000
                    00D0    339 G$PSW_0$0$0 == 0x00d0
                    00D0    340 _PSW_0	=	0x00d0
                    00D1    341 G$PSW_1$0$0 == 0x00d1
                    00D1    342 _PSW_1	=	0x00d1
                    00D2    343 G$PSW_2$0$0 == 0x00d2
                    00D2    344 _PSW_2	=	0x00d2
                    00D3    345 G$PSW_3$0$0 == 0x00d3
                    00D3    346 _PSW_3	=	0x00d3
                    00D4    347 G$PSW_4$0$0 == 0x00d4
                    00D4    348 _PSW_4	=	0x00d4
                    00D5    349 G$PSW_5$0$0 == 0x00d5
                    00D5    350 _PSW_5	=	0x00d5
                    00D6    351 G$PSW_6$0$0 == 0x00d6
                    00D6    352 _PSW_6	=	0x00d6
                    00D7    353 G$PSW_7$0$0 == 0x00d7
                    00D7    354 _PSW_7	=	0x00d7
                    008F    355 G$TCON_7$0$0 == 0x008f
                    008F    356 _TCON_7	=	0x008f
                    008E    357 G$TCON_6$0$0 == 0x008e
                    008E    358 _TCON_6	=	0x008e
                    008D    359 G$TCON_5$0$0 == 0x008d
                    008D    360 _TCON_5	=	0x008d
                    008C    361 G$TCON_4$0$0 == 0x008c
                    008C    362 _TCON_4	=	0x008c
                    008B    363 G$TCON_3$0$0 == 0x008b
                    008B    364 _TCON_3	=	0x008b
                    008A    365 G$TCON_2$0$0 == 0x008a
                    008A    366 _TCON_2	=	0x008a
                    0089    367 G$TCON_1$0$0 == 0x0089
                    0089    368 _TCON_1	=	0x0089
                    0088    369 G$TCON_0$0$0 == 0x0088
                    0088    370 _TCON_0	=	0x0088
                    00AF    371 G$IEN0_7$0$0 == 0x00af
                    00AF    372 _IEN0_7	=	0x00af
                    00AE    373 G$IEN0_6$0$0 == 0x00ae
                    00AE    374 _IEN0_6	=	0x00ae
                    00AD    375 G$IEN0_5$0$0 == 0x00ad
                    00AD    376 _IEN0_5	=	0x00ad
                    00AC    377 G$IEN0_4$0$0 == 0x00ac
                    00AC    378 _IEN0_4	=	0x00ac
                    00AB    379 G$IEN0_3$0$0 == 0x00ab
                    00AB    380 _IEN0_3	=	0x00ab
                    00AA    381 G$IEN0_2$0$0 == 0x00aa
                    00AA    382 _IEN0_2	=	0x00aa
                    00A9    383 G$IEN0_1$0$0 == 0x00a9
                    00A9    384 _IEN0_1	=	0x00a9
                    00A8    385 G$IEN0_0$0$0 == 0x00a8
                    00A8    386 _IEN0_0	=	0x00a8
                    00EA    387 G$IEN1_2$0$0 == 0x00ea
                    00EA    388 _IEN1_2	=	0x00ea
                    00E9    389 G$IEN1_1$0$0 == 0x00e9
                    00E9    390 _IEN1_1	=	0x00e9
                    00E8    391 G$IEN1_0$0$0 == 0x00e8
                    00E8    392 _IEN1_0	=	0x00e8
                    00FE    393 G$IP1_6$0$0 == 0x00fe
                    00FE    394 _IP1_6	=	0x00fe
                    00FA    395 G$IP1_2$0$0 == 0x00fa
                    00FA    396 _IP1_2	=	0x00fa
                    00F9    397 G$IP1_1$0$0 == 0x00f9
                    00F9    398 _IP1_1	=	0x00f9
                    00F8    399 G$IP1_0$0$0 == 0x00f8
                    00F8    400 _IP1_0	=	0x00f8
                    00BE    401 G$IP0_6$0$0 == 0x00be
                    00BE    402 _IP0_6	=	0x00be
                    00BD    403 G$IP0_5$0$0 == 0x00bd
                    00BD    404 _IP0_5	=	0x00bd
                    00BC    405 G$IP0_4$0$0 == 0x00bc
                    00BC    406 _IP0_4	=	0x00bc
                    00BB    407 G$IP0_3$0$0 == 0x00bb
                    00BB    408 _IP0_3	=	0x00bb
                    00BA    409 G$IP0_2$0$0 == 0x00ba
                    00BA    410 _IP0_2	=	0x00ba
                    00B9    411 G$IP0_1$0$0 == 0x00b9
                    00B9    412 _IP0_1	=	0x00b9
                    00B8    413 G$IP0_0$0$0 == 0x00b8
                    00B8    414 _IP0_0	=	0x00b8
                    0098    415 G$SCON_0$0$0 == 0x0098
                    0098    416 _SCON_0	=	0x0098
                    0099    417 G$SCON_1$0$0 == 0x0099
                    0099    418 _SCON_1	=	0x0099
                    009A    419 G$SCON_2$0$0 == 0x009a
                    009A    420 _SCON_2	=	0x009a
                    009B    421 G$SCON_3$0$0 == 0x009b
                    009B    422 _SCON_3	=	0x009b
                    009C    423 G$SCON_4$0$0 == 0x009c
                    009C    424 _SCON_4	=	0x009c
                    009D    425 G$SCON_5$0$0 == 0x009d
                    009D    426 _SCON_5	=	0x009d
                    009E    427 G$SCON_6$0$0 == 0x009e
                    009E    428 _SCON_6	=	0x009e
                    009F    429 G$SCON_7$0$0 == 0x009f
                    009F    430 _SCON_7	=	0x009f
                    00DE    431 G$I2CON_6$0$0 == 0x00de
                    00DE    432 _I2CON_6	=	0x00de
                    00DD    433 G$I2CON_5$0$0 == 0x00dd
                    00DD    434 _I2CON_5	=	0x00dd
                    00DC    435 G$I2CON_4$0$0 == 0x00dc
                    00DC    436 _I2CON_4	=	0x00dc
                    00DB    437 G$I2CON_3$0$0 == 0x00db
                    00DB    438 _I2CON_3	=	0x00db
                    00DA    439 G$I2CON_2$0$0 == 0x00da
                    00DA    440 _I2CON_2	=	0x00da
                    00D8    441 G$I2CON_0$0$0 == 0x00d8
                    00D8    442 _I2CON_0	=	0x00d8
                    0080    443 G$P0_0$0$0 == 0x0080
                    0080    444 _P0_0	=	0x0080
                    0081    445 G$P0_1$0$0 == 0x0081
                    0081    446 _P0_1	=	0x0081
                    0082    447 G$P0_2$0$0 == 0x0082
                    0082    448 _P0_2	=	0x0082
                    0083    449 G$P0_3$0$0 == 0x0083
                    0083    450 _P0_3	=	0x0083
                    0084    451 G$P0_4$0$0 == 0x0084
                    0084    452 _P0_4	=	0x0084
                    0085    453 G$P0_5$0$0 == 0x0085
                    0085    454 _P0_5	=	0x0085
                    0086    455 G$P0_6$0$0 == 0x0086
                    0086    456 _P0_6	=	0x0086
                    0087    457 G$P0_7$0$0 == 0x0087
                    0087    458 _P0_7	=	0x0087
                    0090    459 G$P1_0$0$0 == 0x0090
                    0090    460 _P1_0	=	0x0090
                    0091    461 G$P1_1$0$0 == 0x0091
                    0091    462 _P1_1	=	0x0091
                    0092    463 G$P1_2$0$0 == 0x0092
                    0092    464 _P1_2	=	0x0092
                    0093    465 G$P1_3$0$0 == 0x0093
                    0093    466 _P1_3	=	0x0093
                    0094    467 G$P1_4$0$0 == 0x0094
                    0094    468 _P1_4	=	0x0094
                    0095    469 G$P1_5$0$0 == 0x0095
                    0095    470 _P1_5	=	0x0095
                    0096    471 G$P1_6$0$0 == 0x0096
                    0096    472 _P1_6	=	0x0096
                    0097    473 G$P1_7$0$0 == 0x0097
                    0097    474 _P1_7	=	0x0097
                    00B0    475 G$P3_0$0$0 == 0x00b0
                    00B0    476 _P3_0	=	0x00b0
                    00B1    477 G$P3_1$0$0 == 0x00b1
                    00B1    478 _P3_1	=	0x00b1
                            479 ;--------------------------------------------------------
                            480 ; overlayable register banks
                            481 ;--------------------------------------------------------
                            482 	.area REG_BANK_0	(REL,OVR,DATA)
   0000                     483 	.ds 8
                            484 ;--------------------------------------------------------
                            485 ; overlayable bit register bank
                            486 ;--------------------------------------------------------
                            487 	.area BIT_BANK	(REL,OVR,DATA)
   0000                     488 bits:
   0000                     489 	.ds 1
                    8000    490 	b0 = bits[0]
                    8100    491 	b1 = bits[1]
                    8200    492 	b2 = bits[2]
                    8300    493 	b3 = bits[3]
                    8400    494 	b4 = bits[4]
                    8500    495 	b5 = bits[5]
                    8600    496 	b6 = bits[6]
                    8700    497 	b7 = bits[7]
                            498 ;--------------------------------------------------------
                            499 ; internal ram data
                            500 ;--------------------------------------------------------
                            501 	.area DSEG    (DATA)
                    0000    502 G$conh$0$0==.
   0000                     503 _conh::
   0000                     504 	.ds 1
                    0001    505 G$conl$0$0==.
   0001                     506 _conl::
   0001                     507 	.ds 1
                    0002    508 G$pcount$0$0==.
   0002                     509 _pcount::
   0002                     510 	.ds 1
                    0003    511 G$mem_length$0$0==.
   0003                     512 _mem_length::
   0003                     513 	.ds 1
                    0004    514 G$mem_adrh$0$0==.
   0004                     515 _mem_adrh::
   0004                     516 	.ds 1
                    0005    517 G$mem_adrl$0$0==.
   0005                     518 _mem_adrl::
   0005                     519 	.ds 1
                    0006    520 G$senders_pcount$0$0==.
   0006                     521 _senders_pcount::
   0006                     522 	.ds 1
                    0007    523 G$telegramm$0$0==.
   0007                     524 _telegramm::
   0007                     525 	.ds 23
                    001E    526 G$tx_buffer$0$0==.
   001E                     527 _tx_buffer::
   001E                     528 	.ds 8
                    0026    529 G$telpos$0$0==.
   0026                     530 _telpos::
   0026                     531 	.ds 1
                    0027    532 G$cs$0$0==.
   0027                     533 _cs::
   0027                     534 	.ds 1
                    0028    535 G$fbrx_byte$0$0==.
   0028                     536 _fbrx_byte::
   0028                     537 	.ds 1
                    0029    538 G$fb_pattern$0$0==.
   0029                     539 _fb_pattern::
   0029                     540 	.ds 1
                    002A    541 G$fb_state$0$0==.
   002A                     542 _fb_state::
   002A                     543 	.ds 1
                    002B    544 G$repeat_count$0$0==.
   002B                     545 _repeat_count::
   002B                     546 	.ds 1
                    002C    547 G$tx_nextwrite$0$0==.
   002C                     548 _tx_nextwrite::
   002C                     549 	.ds 1
                    002D    550 G$tx_nextsend$0$0==.
   002D                     551 _tx_nextsend::
   002D                     552 	.ds 1
                    002E    553 G$status60$0$0==.
   002E                     554 _status60::
   002E                     555 	.ds 1
                            556 ;--------------------------------------------------------
                            557 ; overlayable items in internal ram 
                            558 ;--------------------------------------------------------
                            559 	.area OSEG    (OVR,DATA)
                            560 ;--------------------------------------------------------
                            561 ; indirectly addressable internal ram data
                            562 ;--------------------------------------------------------
                            563 	.area ISEG    (DATA)
                            564 ;--------------------------------------------------------
                            565 ; absolute internal ram data
                            566 ;--------------------------------------------------------
                            567 	.area IABS    (ABS,DATA)
                            568 	.area IABS    (ABS,DATA)
                            569 ;--------------------------------------------------------
                            570 ; bit data
                            571 ;--------------------------------------------------------
                            572 	.area BSEG    (BIT)
                    0000    573 G$parity_ok$0$0==.
   0000                     574 _parity_ok::
   0000                     575 	.ds 1
                    0001    576 G$interrupted$0$0==.
   0001                     577 _interrupted::
   0001                     578 	.ds 1
                    0002    579 G$fb_parity$0$0==.
   0002                     580 _fb_parity::
   0002                     581 	.ds 1
                    0003    582 G$ack$0$0==.
   0003                     583 _ack::
   0003                     584 	.ds 1
                    0004    585 G$nack$0$0==.
   0004                     586 _nack::
   0004                     587 	.ds 1
                    0005    588 G$its_me$0$0==.
   0005                     589 _its_me::
   0005                     590 	.ds 1
                    0006    591 G$tel_arrived$0$0==.
   0006                     592 _tel_arrived::
   0006                     593 	.ds 1
                    0007    594 G$tel_sent$0$0==.
   0007                     595 _tel_sent::
   0007                     596 	.ds 1
                    0008    597 G$auto_ack$0$0==.
   0008                     598 _auto_ack::
   0008                     599 	.ds 1
                    0009    600 G$fbtx_bit$0$0==.
   0009                     601 _fbtx_bit::
   0009                     602 	.ds 1
                    000A    603 G$wait_for_ack$0$0==.
   000A                     604 _wait_for_ack::
   000A                     605 	.ds 1
                    000B    606 G$send_ack$0$0==.
   000B                     607 _send_ack::
   000B                     608 	.ds 1
                    000C    609 G$send_nack$0$0==.
   000C                     610 _send_nack::
   000C                     611 	.ds 1
                    000D    612 G$transparency$0$0==.
   000D                     613 _transparency::
   000D                     614 	.ds 1
                    000E    615 G$connected$0$0==.
   000E                     616 _connected::
   000E                     617 	.ds 1
                    000F    618 G$inc_pcount$0$0==.
   000F                     619 _inc_pcount::
   000F                     620 	.ds 1
                            621 ;--------------------------------------------------------
                            622 ; paged external ram data
                            623 ;--------------------------------------------------------
                            624 	.area PSEG    (PAG,XDATA)
                            625 ;--------------------------------------------------------
                            626 ; external ram data
                            627 ;--------------------------------------------------------
                            628 	.area XSEG    (XDATA)
                            629 ;--------------------------------------------------------
                            630 ; absolute external ram data
                            631 ;--------------------------------------------------------
                            632 	.area XABS    (ABS,XDATA)
                            633 ;--------------------------------------------------------
                            634 ; external initialized ram data
                            635 ;--------------------------------------------------------
                            636 	.area XISEG   (XDATA)
                            637 	.area HOME    (CODE)
                            638 	.area GSINIT0 (CODE)
                            639 	.area GSINIT1 (CODE)
                            640 	.area GSINIT2 (CODE)
                            641 	.area GSINIT3 (CODE)
                            642 	.area GSINIT4 (CODE)
                            643 	.area GSINIT5 (CODE)
                            644 	.area GSINIT  (CODE)
                            645 	.area GSFINAL (CODE)
                            646 	.area CSEG    (CODE)
                            647 ;--------------------------------------------------------
                            648 ; global & static initialisations
                            649 ;--------------------------------------------------------
                            650 	.area HOME    (CODE)
                            651 	.area GSINIT  (CODE)
                            652 	.area GSFINAL (CODE)
                            653 	.area GSINIT  (CODE)
                            654 ;--------------------------------------------------------
                            655 ; Home
                            656 ;--------------------------------------------------------
                            657 	.area HOME    (CODE)
                            658 	.area HOME    (CODE)
                            659 ;--------------------------------------------------------
                            660 ; code
                            661 ;--------------------------------------------------------
                            662 	.area CSEG    (CODE)
                            663 ;------------------------------------------------------------
                            664 ;Allocation info for local variables in function 'X1_int'
                            665 ;------------------------------------------------------------
                    0000    666 	G$X1_int$0$0 ==.
                    0000    667 	C$fb_lpc922.c$63$0$0 ==.
                            668 ;	../fb_lpc922.c:63: void X1_int(void) __interrupt (2)		// Flanke des Startbits löst int1 aus
                            669 ;	-----------------------------------------
                            670 ;	 function X1_int
                            671 ;	-----------------------------------------
   0000                     672 _X1_int:
                    0007    673 	ar7 = 0x07
                    0006    674 	ar6 = 0x06
                    0005    675 	ar5 = 0x05
                    0004    676 	ar4 = 0x04
                    0003    677 	ar3 = 0x03
                    0002    678 	ar2 = 0x02
                    0001    679 	ar1 = 0x01
                    0000    680 	ar0 = 0x00
   0000 C0 E0               681 	push	acc
   0002 C0 D0               682 	push	psw
                    0004    683 	C$fb_lpc922.c$66$1$1 ==.
                            684 ;	../fb_lpc922.c:66: EX1=0;			// int1 stoppen								1 cycle = 0,27127us
   0004 C2 AA               685 	clr	_IEN0_2
                    0006    686 	C$fb_lpc922.c$67$1$1 ==.
                            687 ;	../fb_lpc922.c:67: TR1=0;			// Timer 1 stoppen
   0006 C2 8E               688 	clr	_TCON_6
                    0008    689 	C$fb_lpc922.c$68$1$1 ==.
                            690 ;	../fb_lpc922.c:68: TMOD=(TMOD & 0x0F) + 0x20;	// Timer 1 als 8-Bit autoreload
   0008 74 0F               691 	mov	a,#0x0F
   000A 55 89               692 	anl	a,_TMOD
   000C 24 20               693 	add	a,#0x20
   000E F5 89               694 	mov	_TMOD,a
                    0010    695 	C$fb_lpc922.c$69$1$1 ==.
                            696 ;	../fb_lpc922.c:69: TL1=53;//108;//128;		// Timer laden so dass in state 2 bei 75µs abgefragt wird
   0010 75 8B 35            697 	mov	_TL1,#0x35
                    0013    698 	C$fb_lpc922.c$70$1$1 ==.
                            699 ;	../fb_lpc922.c:70: TH1=128;//128;			// autoreload auf 35µs setzen (gilt für sprung von 2 auf 3)
   0013 75 8D 80            700 	mov	_TH1,#0x80
                    0016    701 	C$fb_lpc922.c$71$1$1 ==.
                            702 ;	../fb_lpc922.c:71: TF1=0;			// Timer1-flag löschen						1 cycle
   0016 C2 8F               703 	clr	_TCON_7
                    0018    704 	C$fb_lpc922.c$72$1$1 ==.
                            705 ;	../fb_lpc922.c:72: TR1=1;			// Timer1 starten							1 cycle
   0018 D2 8E               706 	setb	_TCON_6
                    001A    707 	C$fb_lpc922.c$73$1$1 ==.
                            708 ;	../fb_lpc922.c:73: ET1=1;			// Timer1-int aktiv							1 cycle
   001A D2 AB               709 	setb	_IEN0_3
                    001C    710 	C$fb_lpc922.c$74$1$1 ==.
                            711 ;	../fb_lpc922.c:74: fb_state=2;		// nächster state
   001C 75*2A 02            712 	mov	_fb_state,#0x02
                    001F    713 	C$fb_lpc922.c$75$1$1 ==.
                            714 ;	../fb_lpc922.c:75: fb_parity=0;	// Parity Bit löschen
   001F C2*02               715 	clr	_fb_parity
                    0021    716 	C$fb_lpc922.c$76$1$1 ==.
                            717 ;	../fb_lpc922.c:76: parity_ok=1;	// wird bei Fehler gelöscht
   0021 D2*00               718 	setb	_parity_ok
                    0023    719 	C$fb_lpc922.c$77$1$1 ==.
                            720 ;	../fb_lpc922.c:77: fb_pattern=0;
   0023 75*29 00            721 	mov	_fb_pattern,#0x00
                    0026    722 	C$fb_lpc922.c$78$1$1 ==.
                            723 ;	../fb_lpc922.c:78: fbrx_byte=0;
   0026 75*28 00            724 	mov	_fbrx_byte,#0x00
                    0029    725 	C$fb_lpc922.c$79$1$1 ==.
                            726 ;	../fb_lpc922.c:79: interrupted=1;	// signalisiert app, dass unterbrochen wurde
   0029 D2*01               727 	setb	_interrupted
   002B D0 D0               728 	pop	psw
   002D D0 E0               729 	pop	acc
                    002F    730 	C$fb_lpc922.c$80$1$1 ==.
                    002F    731 	XG$X1_int$0$0 ==.
   002F 32                  732 	reti
                            733 ;	eliminated unneeded mov psw,# (no regs used in bank)
                            734 ;	eliminated unneeded push/pop dpl
                            735 ;	eliminated unneeded push/pop dph
                            736 ;	eliminated unneeded push/pop b
                            737 ;------------------------------------------------------------
                            738 ;Allocation info for local variables in function 'T1_int'
                            739 ;------------------------------------------------------------
                            740 ;fbrx_bit                  Allocated to registers b0 
                            741 ;send_byte                 Allocated to registers r7 
                            742 ;------------------------------------------------------------
                    0030    743 	G$T1_int$0$0 ==.
                    0030    744 	C$fb_lpc922.c$84$1$1 ==.
                            745 ;	../fb_lpc922.c:84: void T1_int(void) __interrupt (3) 	// Timer 1 Interrupt
                            746 ;	-----------------------------------------
                            747 ;	 function T1_int
                            748 ;	-----------------------------------------
   0030                     749 _T1_int:
   0030 C0*00               750 	push	bits
   0032 C0 E0               751 	push	acc
   0034 C0 F0               752 	push	b
   0036 C0 82               753 	push	dpl
   0038 C0 83               754 	push	dph
   003A C0 07               755 	push	(0+7)
   003C C0 06               756 	push	(0+6)
   003E C0 05               757 	push	(0+5)
   0040 C0 04               758 	push	(0+4)
   0042 C0 03               759 	push	(0+3)
   0044 C0 02               760 	push	(0+2)
   0046 C0 01               761 	push	(0+1)
   0048 C0 00               762 	push	(0+0)
   004A C0 D0               763 	push	psw
   004C 75 D0 00            764 	mov	psw,#0x00
                    004F    765 	C$fb_lpc922.c$90$1$1 ==.
                            766 ;	../fb_lpc922.c:90: switch (fb_state){
   004F E5*2A               767 	mov	a,_fb_state
   0051 FF                  768 	mov	r7,a
   0052 24 F1               769 	add	a,#0xff - 0x0E
   0054 50 03               770 	jnc	00269$
   0056 02s03r4D            771 	ljmp	00217$
   0059                     772 00269$:
   0059 EF                  773 	mov	a,r7
   005A 2F                  774 	add	a,r7
   005B 2F                  775 	add	a,r7
   005C 90s00r60            776 	mov	dptr,#00270$
   005F 73                  777 	jmp	@a+dptr
   0060                     778 00270$:
   0060 02s00r8D            779 	ljmp	00101$
   0063 02s03r4D            780 	ljmp	00217$
   0066 02s01r00            781 	ljmp	00115$
   0069 02s01rBA            782 	ljmp	00151$
   006C 02s01rC3            783 	ljmp	00152$
   006F 02s02r38            784 	ljmp	00173$
   0072 02s03r4D            785 	ljmp	00217$
   0075 02s03r4D            786 	ljmp	00217$
   0078 02s03r4D            787 	ljmp	00217$
   007B 02s03r4D            788 	ljmp	00217$
   007E 02s02r5C            789 	ljmp	00180$
   0081 02s02rC4            790 	ljmp	00201$
   0084 02s03r4D            791 	ljmp	00217$
   0087 02s02rE8            792 	ljmp	00208$
   008A 02s03r36            793 	ljmp	00216$
                    008D    794 	C$fb_lpc922.c$94$2$2 ==.
                            795 ;	../fb_lpc922.c:94: case 0:
   008D                     796 00101$:
                    008D    797 	C$fb_lpc922.c$95$2$2 ==.
                            798 ;	../fb_lpc922.c:95: TR1=0;			// Timer 1 stoppen
   008D C2 8E               799 	clr	_TCON_6
                    008F    800 	C$fb_lpc922.c$96$2$2 ==.
                            801 ;	../fb_lpc922.c:96: TMOD=(TMOD & 0x0F) + 0x20;	// Timer 1 als 8-Bit autoreload
   008F 74 0F               802 	mov	a,#0x0F
   0091 55 89               803 	anl	a,_TMOD
   0093 24 20               804 	add	a,#0x20
   0095 F5 89               805 	mov	_TMOD,a
                    0097    806 	C$fb_lpc922.c$97$2$2 ==.
                            807 ;	../fb_lpc922.c:97: TL1=128;		// Timer laden
   0097 75 8B 80            808 	mov	_TL1,#0x80
                    009A    809 	C$fb_lpc922.c$98$2$2 ==.
                            810 ;	../fb_lpc922.c:98: TH1=128;
   009A 75 8D 80            811 	mov	_TH1,#0x80
                    009D    812 	C$fb_lpc922.c$99$2$2 ==.
                            813 ;	../fb_lpc922.c:99: TF1=0;			// Timer1-flag löschen						1 cycle
   009D C2 8F               814 	clr	_TCON_7
                    009F    815 	C$fb_lpc922.c$100$2$2 ==.
                            816 ;	../fb_lpc922.c:100: TR1=1;			// Timer1 starten							1 cycle
   009F D2 8E               817 	setb	_TCON_6
                    00A1    818 	C$fb_lpc922.c$101$2$2 ==.
                            819 ;	../fb_lpc922.c:101: if(tx_nextsend != tx_nextwrite) { 			// wenn zu sendendes Objekt vorhanden
   00A1 E5*2C               820 	mov	a,_tx_nextwrite
   00A3 B5*2D 02            821 	cjne	a,_tx_nextsend,00271$
   00A6 80 51               822 	sjmp	00113$
   00A8                     823 00271$:
                    00A8    824 	C$fb_lpc922.c$102$3$3 ==.
                            825 ;	../fb_lpc922.c:102: if(build_tel(tx_buffer[tx_nextsend])) {	// wenn Telegramm gebildet werden konnte
   00A8 E5*2D               826 	mov	a,_tx_nextsend
   00AA 24r1E               827 	add	a,#_tx_buffer
   00AC F9                  828 	mov	r1,a
   00AD 87 82               829 	mov	dpl,@r1
   00AF 12s04r33            830 	lcall	_build_tel
   00B2 50 3D               831 	jnc	00110$
                    00B4    832 	C$fb_lpc922.c$103$4$4 ==.
                            833 ;	../fb_lpc922.c:103: EX1=0; 				//Um zu vermeiden dass man in die Abfrage hinein-empfängt
   00B4 C2 AA               834 	clr	_IEN0_2
                    00B6    835 	C$fb_lpc922.c$104$4$4 ==.
                            836 ;	../fb_lpc922.c:104: if(!fb_state) { 	//nur bilden wenn vorher kein rx_intit durch ext int kam
   00B6 E5*2A               837 	mov	a,_fb_state
   00B8 70 32               838 	jnz	00108$
                    00BA    839 	C$fb_lpc922.c$105$5$5 ==.
                            840 ;	../fb_lpc922.c:105: if((tx_buffer[tx_nextsend]&0x20)==0) {	// wenn erstmaliges Senden des Objektes
   00BA E5*2D               841 	mov	a,_tx_nextsend
   00BC 24r1E               842 	add	a,#_tx_buffer
   00BE F9                  843 	mov	r1,a
   00BF E7                  844 	mov	a,@r1
   00C0 FF                  845 	mov	r7,a
   00C1 20 E5 07            846 	jb	acc.5,00103$
                    00C4    847 	C$fb_lpc922.c$106$6$6 ==.
                            848 ;	../fb_lpc922.c:106: tx_buffer[tx_nextsend]|=0x20;		// Bit für "wird gerade gesendet"
   00C4 74 20               849 	mov	a,#0x20
   00C6 4F                  850 	orl	a,r7
   00C7 F7                  851 	mov	@r1,a
                    00C8    852 	C$fb_lpc922.c$107$6$6 ==.
                            853 ;	../fb_lpc922.c:107: repeat_count=0;						// Wiederholungszähler für nicht geackte Telegramme
   00C8 75*2B 00            854 	mov	_repeat_count,#0x00
   00CB                     855 00103$:
                    00CB    856 	C$fb_lpc922.c$109$5$5 ==.
                            857 ;	../fb_lpc922.c:109: if (repeat_count<4) init_tx();		// Senden starten
   00CB 74 FC               858 	mov	a,#0x100 - 0x04
   00CD 25*2B               859 	add	a,_repeat_count
   00CF 40 05               860 	jc	00105$
   00D1 12s03r98            861 	lcall	_init_tx
   00D4 80 16               862 	sjmp	00108$
   00D6                     863 00105$:
                    00D6    864 	C$fb_lpc922.c$111$6$7 ==.
                            865 ;	../fb_lpc922.c:111: tx_nextsend++;
   00D6 05*2D               866 	inc	_tx_nextsend
                    00D8    867 	C$fb_lpc922.c$112$6$7 ==.
                            868 ;	../fb_lpc922.c:112: tx_nextsend&=0x07;
   00D8 53*2D 07            869 	anl	_tx_nextsend,#0x07
                    00DB    870 	C$fb_lpc922.c$113$6$7 ==.
                            871 ;	../fb_lpc922.c:113: wait_for_ack=0;
   00DB C2*0A               872 	clr	_wait_for_ack
                    00DD    873 	C$fb_lpc922.c$114$6$7 ==.
                            874 ;	../fb_lpc922.c:114: inc_pcount=0;
   00DD C2*0F               875 	clr	_inc_pcount
                    00DF    876 	C$fb_lpc922.c$115$6$7 ==.
                            877 ;	../fb_lpc922.c:115: init_rx();
   00DF 12s03r6C            878 	lcall	_init_rx
                    00E2    879 	C$fb_lpc922.c$116$6$7 ==.
                            880 ;	../fb_lpc922.c:116: TR1=0;		// hier nicht noch einmal die ganze busfree Zeit warten
   00E2 C2 8E               881 	clr	_TCON_6
                    00E4    882 	C$fb_lpc922.c$117$6$7 ==.
                            883 ;	../fb_lpc922.c:117: TH1=0xF0;
   00E4 75 8D F0            884 	mov	_TH1,#0xF0
                    00E7    885 	C$fb_lpc922.c$118$6$7 ==.
                            886 ;	../fb_lpc922.c:118: TL1=0x00;
   00E7 75 8B 00            887 	mov	_TL1,#0x00
                    00EA    888 	C$fb_lpc922.c$119$6$7 ==.
                            889 ;	../fb_lpc922.c:119: TR1=1;
   00EA D2 8E               890 	setb	_TCON_6
   00EC                     891 00108$:
                    00EC    892 	C$fb_lpc922.c$122$4$4 ==.
                            893 ;	../fb_lpc922.c:122: EX1=1;	// ext1 int einschalten falls Empfang...
   00EC D2 AA               894 	setb	_IEN0_2
   00EE 02s03r4D            895 	ljmp	00217$
   00F1                     896 00110$:
                    00F1    897 	C$fb_lpc922.c$125$4$8 ==.
                            898 ;	../fb_lpc922.c:125: tx_nextsend++; //hier Zeiger erhöhen wenn Telegramm nicht gebildet werden konnte
   00F1 05*2D               899 	inc	_tx_nextsend
                    00F3    900 	C$fb_lpc922.c$126$4$8 ==.
                            901 ;	../fb_lpc922.c:126: tx_nextsend&=0x07;
   00F3 53*2D 07            902 	anl	_tx_nextsend,#0x07
   00F6 02s03r4D            903 	ljmp	00217$
   00F9                     904 00113$:
                    00F9    905 	C$fb_lpc922.c$130$3$9 ==.
                            906 ;	../fb_lpc922.c:130: TR1=0;		// nichts mehr zu tun, also statemachine stoppen
   00F9 C2 8E               907 	clr	_TCON_6
                    00FB    908 	C$fb_lpc922.c$131$3$9 ==.
                            909 ;	../fb_lpc922.c:131: EX1=1;		// sicherstellen, dass ext. Int. 1 aktiv ist
   00FB D2 AA               910 	setb	_IEN0_2
                    00FD    911 	C$fb_lpc922.c$133$2$2 ==.
                            912 ;	../fb_lpc922.c:133: break;
   00FD 02s03r4D            913 	ljmp	00217$
                    0100    914 	C$fb_lpc922.c$136$2$2 ==.
                            915 ;	../fb_lpc922.c:136: case 2: // T=75us
   0100                     916 00115$:
                    0100    917 	C$fb_lpc922.c$137$2$2 ==.
                            918 ;	../fb_lpc922.c:137: fbrx_bit=!IE1;				// Flipflop des ext. Int. 1 auslesen, ist 1 bei fallender Flanke am Pin
   0100 A2 8B               919 	mov	c,_TCON_3
   0102 B3                  920 	cpl	c
   0103 92*00               921 	mov	b0,c
                    0105    922 	C$fb_lpc922.c$138$2$2 ==.
                            923 ;	../fb_lpc922.c:138: IE1=0;						// Flipflop zurücksetzen
   0105 C2 8B               924 	clr	_TCON_3
                    0107    925 	C$fb_lpc922.c$139$2$2 ==.
                            926 ;	../fb_lpc922.c:139: fb_state=3;// nächster state: 3
   0107 75*2A 03            927 	mov	_fb_state,#0x03
                    010A    928 	C$fb_lpc922.c$140$2$2 ==.
                            929 ;	../fb_lpc922.c:140: TH1=0;// reload auf 70µs (zeit swischen state 3 und 2)
   010A 75 8D 00            930 	mov	_TH1,#0x00
                    010D    931 	C$fb_lpc922.c$141$2$2 ==.
                            932 ;	../fb_lpc922.c:141: if(fb_pattern==0) {			// fb_pattern=0 bedeutet, dass bisher nur das Startbit empfangen wurde
   010D E5*29               933 	mov	a,_fb_pattern
   010F 70 0A               934 	jnz	00149$
                    0111    935 	C$fb_lpc922.c$142$3$10 ==.
                            936 ;	../fb_lpc922.c:142: fb_pattern=1;			// 70us nach Startbit, als näcstes kommt Datenbit 0
   0111 75*29 01            937 	mov	_fb_pattern,#0x01
                    0114    938 	C$fb_lpc922.c$143$3$10 ==.
                            939 ;	../fb_lpc922.c:143: ack=0;					// Empfang eines neuen Bytes, also ack/nack Flags zurücksetzen
   0114 C2*03               940 	clr	_ack
                    0116    941 	C$fb_lpc922.c$144$3$10 ==.
                            942 ;	../fb_lpc922.c:144: nack=0;
   0116 C2*04               943 	clr	_nack
   0118 02s03r4D            944 	ljmp	00217$
   011B                     945 00149$:
                    011B    946 	C$fb_lpc922.c$147$3$11 ==.
                            947 ;	../fb_lpc922.c:147: if(fb_pattern<129) {					// Daten-Bit LSB first
   011B 74 7F               948 	mov	a,#0x100 - 0x81
   011D 25*29               949 	add	a,_fb_pattern
   011F 40 1C               950 	jc	00146$
                    0121    951 	C$fb_lpc922.c$148$4$12 ==.
                            952 ;	../fb_lpc922.c:148: if(fbrx_bit) {
   0121 30*00 08            953 	jnb	b0,00117$
                    0124    954 	C$fb_lpc922.c$149$5$13 ==.
                            955 ;	../fb_lpc922.c:149: fb_parity=!fb_parity;			// Paritybit berechnen
   0124 B2*02               956 	cpl	_fb_parity
                    0126    957 	C$fb_lpc922.c$150$5$13 ==.
                            958 ;	../fb_lpc922.c:150: fbrx_byte+=fb_pattern;			// Datenbit speichern
   0126 E5*29               959 	mov	a,_fb_pattern
   0128 25*28               960 	add	a,_fbrx_byte
   012A F5*28               961 	mov	_fbrx_byte,a
   012C                     962 00117$:
                    012C    963 	C$fb_lpc922.c$152$4$12 ==.
                            964 ;	../fb_lpc922.c:152: fb_pattern=fb_pattern<<1;			// nächstes Bit
   012C E5*29               965 	mov	a,_fb_pattern
   012E 25*29               966 	add	a,_fb_pattern
                    0130    967 	C$fb_lpc922.c$153$4$12 ==.
                            968 ;	../fb_lpc922.c:153: if(fb_pattern==0) fb_pattern=129;	// alle Daten-Bits gelesen, Parity-Bit folgt
   0130 F5*29               969 	mov	_fb_pattern,a
   0132 60 03               970 	jz	00279$
   0134 02s03r4D            971 	ljmp	00217$
   0137                     972 00279$:
   0137 75*29 81            973 	mov	_fb_pattern,#0x81
   013A 02s03r4D            974 	ljmp	00217$
   013D                     975 00146$:
                    013D    976 	C$fb_lpc922.c$156$4$14 ==.
                            977 ;	../fb_lpc922.c:156: TR1=0;
   013D C2 8E               978 	clr	_TCON_6
                    013F    979 	C$fb_lpc922.c$157$4$14 ==.
                            980 ;	../fb_lpc922.c:157: TF1=0; //prüfen ob erforderlich!!!
   013F C2 8F               981 	clr	_TCON_7
                    0141    982 	C$fb_lpc922.c$158$4$14 ==.
                            983 ;	../fb_lpc922.c:158: if(fb_parity==fbrx_bit) {				// Parity-Bit OK
   0141 A2*02               984 	mov	c,_fb_parity
   0143 20*00 01            985 	jb	b0,00280$
   0146 B3                  986 	cpl	c
   0147                     987 00280$:
   0147 50 26               988 	jnc	00130$
                    0149    989 	C$fb_lpc922.c$159$5$15 ==.
                            990 ;	../fb_lpc922.c:159: if (telpos==0) {						// erstes empfangenes Byte
   0149 E5*26               991 	mov	a,_telpos
   014B 70 0E               992 	jnz	00125$
                    014D    993 	C$fb_lpc922.c$160$6$16 ==.
                            994 ;	../fb_lpc922.c:160: if (fbrx_byte==0xCC) ack=1;				// ACK empfangen
   014D 74 CC               995 	mov	a,#0xCC
   014F B5*28 02            996 	cjne	a,_fbrx_byte,00121$
   0152 D2*03               997 	setb	_ack
   0154                     998 00121$:
                    0154    999 	C$fb_lpc922.c$161$6$16 ==.
                           1000 ;	../fb_lpc922.c:161: if (fbrx_byte==0x0C) nack=1;			// NACK empfangen
   0154 74 0C              1001 	mov	a,#0x0C
   0156 B5*28 02           1002 	cjne	a,_fbrx_byte,00125$
   0159 D2*04              1003 	setb	_nack
   015B                    1004 00125$:
                    015B   1005 	C$fb_lpc922.c$163$5$15 ==.
                           1006 ;	../fb_lpc922.c:163: if (!ack && !nack) {					// Datenbyte empfangen
   015B 20*03 13           1007 	jb	_ack,00131$
   015E 20*04 10           1008 	jb	_nack,00131$
                    0161   1009 	C$fb_lpc922.c$164$6$17 ==.
                           1010 ;	../fb_lpc922.c:164: telegramm[telpos]=fbrx_byte;			// Byte speichern
   0161 E5*26              1011 	mov	a,_telpos
   0163 24r07              1012 	add	a,#_telegramm
   0165 F8                 1013 	mov	r0,a
                    0166   1014 	C$fb_lpc922.c$165$6$17 ==.
                           1015 ;	../fb_lpc922.c:165: cs^=fbrx_byte;							// Checksum berechnen
   0166 E5*28              1016 	mov	a,_fbrx_byte
   0168 F6                 1017 	mov	@r0,a
   0169 62*27              1018 	xrl	_cs,a
                    016B   1019 	C$fb_lpc922.c$166$6$17 ==.
                           1020 ;	../fb_lpc922.c:166: telpos++;								// Telegrammzeiger erhöhen
   016B 05*26              1021 	inc	_telpos
   016D 80 02              1022 	sjmp	00131$
   016F                    1023 00130$:
                    016F   1024 	C$fb_lpc922.c$169$4$14 ==.
                           1025 ;	../fb_lpc922.c:169: else parity_ok=0;						// Parity Error
   016F C2*00              1026 	clr	_parity_ok
   0171                    1027 00131$:
                    0171   1028 	C$fb_lpc922.c$171$4$14 ==.
                           1029 ;	../fb_lpc922.c:171: if (wait_for_ack) {						// es wird ein ACK erwartet
                    0171   1030 	C$fb_lpc922.c$172$5$18 ==.
                           1031 ;	../fb_lpc922.c:172: wait_for_ack=0;							// Flag zurücksetzen, da wir es ja gerade abarbeiten
   0171 10*0A 02           1032 	jbc	_wait_for_ack,00289$
   0174 80 1D              1033 	sjmp	00143$
   0176                    1034 00289$:
                    0176   1035 	C$fb_lpc922.c$173$5$18 ==.
                           1036 ;	../fb_lpc922.c:173: if (ack && parity_ok) {					// ACK empfangen und auch erwartet
   0176 30*03 14           1037 	jnb	_ack,00135$
   0179 30*00 11           1038 	jnb	_parity_ok,00135$
                    017C   1039 	C$fb_lpc922.c$174$6$19 ==.
                           1040 ;	../fb_lpc922.c:174: repeat_count=4;						// keine Wiederholtelegramme mehr senden
   017C 75*2B 04           1041 	mov	_repeat_count,#0x04
                    017F   1042 	C$fb_lpc922.c$175$6$19 ==.
                           1043 ;	../fb_lpc922.c:175: if(inc_pcount) {
                    017F   1044 	C$fb_lpc922.c$176$7$20 ==.
                           1045 ;	../fb_lpc922.c:176: inc_pcount=0;
   017F 10*0F 02           1046 	jbc	_inc_pcount,00292$
   0182 80 09              1047 	sjmp	00135$
   0184                    1048 00292$:
                    0184   1049 	C$fb_lpc922.c$177$7$20 ==.
                           1050 ;	../fb_lpc922.c:177: pcount+=4;
   0184 E5*02              1051 	mov	a,_pcount
   0186 24 04              1052 	add	a,#0x04
   0188 F5*02              1053 	mov	_pcount,a
                    018A   1054 	C$fb_lpc922.c$178$7$20 ==.
                           1055 ;	../fb_lpc922.c:178: pcount&=0x3C;
   018A 53*02 3C           1056 	anl	_pcount,#0x3C
   018D                    1057 00135$:
                    018D   1058 	C$fb_lpc922.c$181$5$18 ==.
                           1059 ;	../fb_lpc922.c:181: init_rx();
   018D 12s03r6C           1060 	lcall	_init_rx
   0190 02s03r4D           1061 	ljmp	00217$
   0193                    1062 00143$:
                    0193   1063 	C$fb_lpc922.c$184$5$21 ==.
                           1064 ;	../fb_lpc922.c:184: if (parity_ok && (!ack && !nack)) {		// ganz normales Datenbyte
   0193 30*00 1E           1065 	jnb	_parity_ok,00138$
   0196 20*03 1B           1066 	jb	_ack,00138$
   0199 20*04 18           1067 	jb	_nack,00138$
                    019C   1068 	C$fb_lpc922.c$185$6$22 ==.
                           1069 ;	../fb_lpc922.c:185: TMOD=(TMOD & 0x0F) +0x10;			// Timer 1 als 16-Bit Timer
   019C 74 0F              1070 	mov	a,#0x0F
   019E 55 89              1071 	anl	a,_TMOD
   01A0 24 10              1072 	add	a,#0x10
   01A2 F5 89              1073 	mov	_TMOD,a
                    01A4   1074 	C$fb_lpc922.c$186$6$22 ==.
                           1075 ;	../fb_lpc922.c:186: TH1=0xFA;//0xFA;							// Timer 1 auf Timeout-Position setzen (370us)
   01A4 75 8D FA           1076 	mov	_TH1,#0xFA
                    01A7   1077 	C$fb_lpc922.c$187$6$22 ==.
                           1078 ;	../fb_lpc922.c:187: TL1=0x70;//4f 0xAB; (bis hierher sinds 91µs)
   01A7 75 8B 70           1079 	mov	_TL1,#0x70
                    01AA   1080 	C$fb_lpc922.c$188$6$22 ==.
                           1081 ;	../fb_lpc922.c:188: TR1=1;
   01AA D2 8E              1082 	setb	_TCON_6
                    01AC   1083 	C$fb_lpc922.c$189$6$22 ==.
                           1084 ;	../fb_lpc922.c:189: fb_state=4;							// nächster state: timeout = Telegramm fertig
   01AC 75*2A 04           1085 	mov	_fb_state,#0x04
                    01AF   1086 	C$fb_lpc922.c$190$6$22 ==.
                           1087 ;	../fb_lpc922.c:190: EX1=1;								// int1 aktiv, falls noch ein Byte kommt
   01AF D2 AA              1088 	setb	_IEN0_2
   01B1 02s03r4D           1089 	ljmp	00217$
   01B4                    1090 00138$:
                    01B4   1091 	C$fb_lpc922.c$192$5$21 ==.
                           1092 ;	../fb_lpc922.c:192: else init_rx();							// irgendwas empfangen
   01B4 12s03r6C           1093 	lcall	_init_rx
                    01B7   1094 	C$fb_lpc922.c$196$2$2 ==.
                           1095 ;	../fb_lpc922.c:196: break;
   01B7 02s03r4D           1096 	ljmp	00217$
                    01BA   1097 	C$fb_lpc922.c$198$2$2 ==.
                           1098 ;	../fb_lpc922.c:198: case 3: // T=104us=0us
   01BA                    1099 00151$:
                    01BA   1100 	C$fb_lpc922.c$199$2$2 ==.
                           1101 ;	../fb_lpc922.c:199: TH1=128;// reload auf 35µs (Zeit zwischen State 2 und 3)
   01BA 75 8D 80           1102 	mov	_TH1,#0x80
                    01BD   1103 	C$fb_lpc922.c$200$2$2 ==.
                           1104 ;	../fb_lpc922.c:200: fb_state=2;//1
   01BD 75*2A 02           1105 	mov	_fb_state,#0x02
                    01C0   1106 	C$fb_lpc922.c$201$2$2 ==.
                           1107 ;	../fb_lpc922.c:201: break;
   01C0 02s03r4D           1108 	ljmp	00217$
                    01C3   1109 	C$fb_lpc922.c$203$2$2 ==.
                           1110 ;	../fb_lpc922.c:203: case 4:	//	Timeout, d.h. Telegramm-Ende
   01C3                    1111 00152$:
                    01C3   1112 	C$fb_lpc922.c$204$2$2 ==.
                           1113 ;	../fb_lpc922.c:204: if (auto_ack && telpos>4) {		// wenn ACK gesendet werden soll und Telegramm zumindest 5 Bytes hat
   01C3 30*08 64           1114 	jnb	_auto_ack,00170$
   01C6 E5*26              1115 	mov	a,_telpos
   01C8 24 FB              1116 	add	a,#0xff - 0x04
   01CA 50 5E              1117 	jnc	00170$
                    01CC   1118 	C$fb_lpc922.c$205$3$23 ==.
                           1119 ;	../fb_lpc922.c:205: TR1=0;
   01CC C2 8E              1120 	clr	_TCON_6
                    01CE   1121 	C$fb_lpc922.c$206$3$23 ==.
                           1122 ;	../fb_lpc922.c:206: TMOD=(TMOD & 0x0F) +0x10;	// Timer 1 als 16-Bit Timer
   01CE 74 0F              1123 	mov	a,#0x0F
   01D0 55 89              1124 	anl	a,_TMOD
   01D2 24 10              1125 	add	a,#0x10
   01D4 F5 89              1126 	mov	_TMOD,a
                    01D6   1127 	C$fb_lpc922.c$207$3$23 ==.
                           1128 ;	../fb_lpc922.c:207: TH1=0xEF;					// Timer 1 auf ACK-Position setzen (15 Bit Pause = 2708µs (26 Bit) nach Beginn Startbit vom letzten Datenbyte)
   01D6 75 8D EF           1129 	mov	_TH1,#0xEF
                    01D9   1130 	C$fb_lpc922.c$208$3$23 ==.
                           1131 ;	../fb_lpc922.c:208: TL1=0x42;
   01D9 75 8B 42           1132 	mov	_TL1,#0x42
                    01DC   1133 	C$fb_lpc922.c$209$3$23 ==.
                           1134 ;	../fb_lpc922.c:209: TR1=1;
   01DC D2 8E              1135 	setb	_TCON_6
                    01DE   1136 	C$fb_lpc922.c$210$3$23 ==.
                           1137 ;	../fb_lpc922.c:210: its_me=transparency;			// indiziert, ob dieses Gerät adressiert wurde, bei transparecy=1 immer
   01DE A2*0D              1138 	mov	c,_transparency
   01E0 92*05              1139 	mov	_its_me,c
                    01E2   1140 	C$fb_lpc922.c$211$3$23 ==.
                           1141 ;	../fb_lpc922.c:211: if(telegramm[5]&0x80) {
   01E2 E5*0C              1142 	mov	a,(_telegramm + 0x0005)
   01E4 30 E7 1F           1143 	jnb	acc.7,00162$
                    01E7   1144 	C$fb_lpc922.c$212$4$24 ==.
                           1145 ;	../fb_lpc922.c:212: if (gapos_in_gat(telegramm[3],telegramm[4])!=0xFF) its_me=1;	// Gruppenadresse
   01E7 85*0A 82           1146 	mov	dpl,(_telegramm + 0x0003)
   01EA C0*0B              1147 	push	(_telegramm + 0x0004)
   01EC 12s03rE2           1148 	lcall	_gapos_in_gat
   01EF AF 82              1149 	mov	r7,dpl
   01F1 15 81              1150 	dec	sp
   01F3 BF FF 02           1151 	cjne	r7,#0xFF,00299$
   01F6 80 02              1152 	sjmp	00154$
   01F8                    1153 00299$:
   01F8 D2*05              1154 	setb	_its_me
   01FA                    1155 00154$:
                    01FA   1156 	C$fb_lpc922.c$213$4$24 ==.
                           1157 ;	../fb_lpc922.c:213: if (telegramm[3]==0 && telegramm[4]==0) its_me=1;				// Broadcast
   01FA E5*0A              1158 	mov	a,(_telegramm + 0x0003)
   01FC 70 1C              1159 	jnz	00163$
   01FE E5*0B              1160 	mov	a,(_telegramm + 0x0004)
   0200 70 18              1161 	jnz	00163$
   0202 D2*05              1162 	setb	_its_me
   0204 80 14              1163 	sjmp	00163$
   0206                    1164 00162$:
                    0206   1165 	C$fb_lpc922.c$215$3$23 ==.
                           1166 ;	../fb_lpc922.c:215: else if(telegramm[3]==eeprom[ADDRTAB+1] && telegramm[4]==eeprom[ADDRTAB+2]) its_me=1;	// phys. Adresse
   0206 90 1D 17           1167 	mov	dptr,#(_eeprom + 0x0017)
   0209 E4                 1168 	clr	a
   020A 93                 1169 	movc	a,@a+dptr
   020B FF                 1170 	mov	r7,a
   020C B5*0A 0B           1171 	cjne	a,(_telegramm + 0x0003),00163$
   020F 90 1D 18           1172 	mov	dptr,#(_eeprom + 0x0018)
   0212 E4                 1173 	clr	a
   0213 93                 1174 	movc	a,@a+dptr
   0214 FF                 1175 	mov	r7,a
   0215 B5*0B 02           1176 	cjne	a,(_telegramm + 0x0004),00163$
   0218 D2*05              1177 	setb	_its_me
   021A                    1178 00163$:
                    021A   1179 	C$fb_lpc922.c$216$3$23 ==.
                           1180 ;	../fb_lpc922.c:216: if ((cs==0xFF) && its_me) tel_arrived=1;
   021A 74 FF              1181 	mov	a,#0xFF
   021C B5*27 05           1182 	cjne	a,_cs,00165$
   021F 30*05 02           1183 	jnb	_its_me,00165$
   0222 D2*06              1184 	setb	_tel_arrived
   0224                    1185 00165$:
                    0224   1186 	C$fb_lpc922.c$217$3$23 ==.
                           1187 ;	../fb_lpc922.c:217: fb_state=5;					// nächster state: ACK-Position erreicht
   0224 75*2A 05           1188 	mov	_fb_state,#0x05
   0227 02s03r4D           1189 	ljmp	00217$
   022A                    1190 00170$:
                    022A   1191 	C$fb_lpc922.c$221$3$25 ==.
                           1192 ;	../fb_lpc922.c:221: if (telpos>1) tel_arrived=1;	// trotzdem den Eingang eines Telegramms anzeigen
   022A E5*26              1193 	mov	a,_telpos
   022C 24 FE              1194 	add	a,#0xff - 0x01
   022E 50 02              1195 	jnc	00168$
   0230 D2*06              1196 	setb	_tel_arrived
   0232                    1197 00168$:
                    0232   1198 	C$fb_lpc922.c$222$3$25 ==.
                           1199 ;	../fb_lpc922.c:222: init_rx();						// wieder in den Empfang zurück
   0232 12s03r6C           1200 	lcall	_init_rx
                    0235   1201 	C$fb_lpc922.c$224$2$2 ==.
                           1202 ;	../fb_lpc922.c:224: break;
   0235 02s03r4D           1203 	ljmp	00217$
                    0238   1204 	C$fb_lpc922.c$226$2$2 ==.
                           1205 ;	../fb_lpc922.c:226: case 5:	// ACK-Position erreicht
   0238                    1206 00173$:
                    0238   1207 	C$fb_lpc922.c$227$2$2 ==.
                           1208 ;	../fb_lpc922.c:227: TR1=0;
   0238 C2 8E              1209 	clr	_TCON_6
                    023A   1210 	C$fb_lpc922.c$228$2$2 ==.
                           1211 ;	../fb_lpc922.c:228: if (cs==0xFF) {	// Checksum OK
   023A 74 FF              1212 	mov	a,#0xFF
   023C B5*27 13           1213 	cjne	a,_cs,00178$
                    023F   1214 	C$fb_lpc922.c$229$3$26 ==.
                           1215 ;	../fb_lpc922.c:229: if (its_me) {					// Gerät adressiert
   023F 30*05 0A           1216 	jnb	_its_me,00175$
                    0242   1217 	C$fb_lpc922.c$230$4$27 ==.
                           1218 ;	../fb_lpc922.c:230: send_ack=1;
   0242 D2*0B              1219 	setb	_send_ack
                    0244   1220 	C$fb_lpc922.c$231$4$27 ==.
                           1221 ;	../fb_lpc922.c:231: init_tx();						// Senden initiieren
   0244 12s03r98           1222 	lcall	_init_tx
                    0247   1223 	C$fb_lpc922.c$232$4$27 ==.
                           1224 ;	../fb_lpc922.c:232: wait_for_ack=0;					// bei ACK senden nicht erneut auf ACK warten
   0247 C2*0A              1225 	clr	_wait_for_ack
   0249 02s03r4D           1226 	ljmp	00217$
   024C                    1227 00175$:
                    024C   1228 	C$fb_lpc922.c$234$3$26 ==.
                           1229 ;	../fb_lpc922.c:234: else init_rx();					// Gerät nicht adressiert, also zurück zu Empfang
   024C 12s03r6C           1230 	lcall	_init_rx
   024F 02s03r4D           1231 	ljmp	00217$
   0252                    1232 00178$:
                    0252   1233 	C$fb_lpc922.c$237$3$28 ==.
                           1234 ;	../fb_lpc922.c:237: send_nack=1;
   0252 D2*0C              1235 	setb	_send_nack
                    0254   1236 	C$fb_lpc922.c$238$3$28 ==.
                           1237 ;	../fb_lpc922.c:238: init_tx();
   0254 12s03r98           1238 	lcall	_init_tx
                    0257   1239 	C$fb_lpc922.c$239$3$28 ==.
                           1240 ;	../fb_lpc922.c:239: wait_for_ack=0;					// bei NACK senden nicht erneut auf ACK warten
   0257 C2*0A              1241 	clr	_wait_for_ack
                    0259   1242 	C$fb_lpc922.c$241$2$2 ==.
                           1243 ;	../fb_lpc922.c:241: break;
   0259 02s03r4D           1244 	ljmp	00217$
                    025C   1245 	C$fb_lpc922.c$245$2$2 ==.
                           1246 ;	../fb_lpc922.c:245: case 10:	// Byte Senden, T=0us
   025C                    1247 00180$:
                    025C   1248 	C$fb_lpc922.c$246$2$2 ==.
                           1249 ;	../fb_lpc922.c:246: send_byte=telegramm[telpos];
   025C E5*26              1250 	mov	a,_telpos
   025E 24r07              1251 	add	a,#_telegramm
   0260 F9                 1252 	mov	r1,a
   0261 87 07              1253 	mov	ar7,@r1
                    0263   1254 	C$fb_lpc922.c$247$2$2 ==.
                           1255 ;	../fb_lpc922.c:247: if (send_ack) send_byte=0xCC;
   0263 30*0B 02           1256 	jnb	_send_ack,00182$
   0266 7F CC              1257 	mov	r7,#0xCC
   0268                    1258 00182$:
                    0268   1259 	C$fb_lpc922.c$248$2$2 ==.
                           1260 ;	../fb_lpc922.c:248: if (send_nack) send_byte=0x0C;
   0268 30*0C 02           1261 	jnb	_send_nack,00184$
   026B 7F 0C              1262 	mov	r7,#0x0C
   026D                    1263 00184$:
                    026D   1264 	C$fb_lpc922.c$249$2$2 ==.
                           1265 ;	../fb_lpc922.c:249: EX1=0;					// Empfang verhindern
   026D C2 AA              1266 	clr	_IEN0_2
                    026F   1267 	C$fb_lpc922.c$250$2$2 ==.
                           1268 ;	../fb_lpc922.c:250: if(fb_state==10){
   026F 74 0A              1269 	mov	a,#0x0A
   0271 B5*2A 02           1270 	cjne	a,_fb_state,00315$
   0274 80 03              1271 	sjmp	00316$
   0276                    1272 00315$:
   0276 02s03r4D           1273 	ljmp	00217$
   0279                    1274 00316$:
                    0279   1275 	C$fb_lpc922.c$251$3$29 ==.
                           1276 ;	../fb_lpc922.c:251: if (fb_pattern<=128) {			// Startbit und Datenbits (pattern=0:startbit, 1 2 4 8 .. 128 Datenbits, 129 parity)
   0279 E5*29              1277 	mov	a,_fb_pattern
   027B 24 7F              1278 	add	a,#0xff - 0x80
   027D 40 2C              1279 	jc	00197$
                    027F   1280 	C$fb_lpc922.c$252$4$30 ==.
                           1281 ;	../fb_lpc922.c:252: if ((send_byte & fb_pattern)==0) {	// wenn Bit logisch 0 ist
   027F E5*29              1282 	mov	a,_fb_pattern
   0281 5F                 1283 	anl	a,r7
   0282 70 08              1284 	jnz	00186$
                    0284   1285 	C$fb_lpc922.c$254$5$31 ==.
                           1286 ;	../fb_lpc922.c:254: FBOUTC=1;						// Bus runter ziehen
   0284 D2 96              1287 	setb	_P1_6
                    0286   1288 	C$fb_lpc922.c$256$5$31 ==.
                           1289 ;	../fb_lpc922.c:256: fbtx_bit=0;						// fbtx_bit dient zur späteren Kollisionsprüfung
   0286 C2*09              1290 	clr	_fbtx_bit
                    0288   1291 	C$fb_lpc922.c$257$5$31 ==.
                           1292 ;	../fb_lpc922.c:257: fb_parity=!fb_parity;			// Parity-Bit berechnen
   0288 B2*02              1293 	cpl	_fb_parity
   028A 80 02              1294 	sjmp	00187$
   028C                    1295 00186$:
                    028C   1296 	C$fb_lpc922.c$259$4$30 ==.
                           1297 ;	../fb_lpc922.c:259: else fbtx_bit=1;
   028C D2*09              1298 	setb	_fbtx_bit
   028E                    1299 00187$:
                    028E   1300 	C$fb_lpc922.c$260$4$30 ==.
                           1301 ;	../fb_lpc922.c:260: if (fb_pattern==0) {				// wenn Startbit: parity zurücksetzen
   028E E5*29              1302 	mov	a,_fb_pattern
   0290 70 07              1303 	jnz	00189$
                    0292   1304 	C$fb_lpc922.c$261$5$32 ==.
                           1305 ;	../fb_lpc922.c:261: fb_pattern=1;					// auf erstes Datenbit zeigen
   0292 75*29 01           1306 	mov	_fb_pattern,#0x01
                    0295   1307 	C$fb_lpc922.c$262$5$32 ==.
                           1308 ;	../fb_lpc922.c:262: fb_parity=0;
   0295 C2*02              1309 	clr	_fb_parity
   0297 80 06              1310 	sjmp	00190$
   0299                    1311 00189$:
                    0299   1312 	C$fb_lpc922.c$264$4$30 ==.
                           1313 ;	../fb_lpc922.c:264: else fb_pattern=fb_pattern<<1;		// nächstes Datenbit
   0299 E5*29              1314 	mov	a,_fb_pattern
   029B 25*29              1315 	add	a,_fb_pattern
   029D F5*29              1316 	mov	_fb_pattern,a
   029F                    1317 00190$:
                    029F   1318 	C$fb_lpc922.c$265$4$30 ==.
                           1319 ;	../fb_lpc922.c:265: if(fb_pattern==0) fb_pattern=129;	// alle Daten-Bits gesendet, Parity-Bit folgt
   029F E5*29              1320 	mov	a,_fb_pattern
   02A1 70 03              1321 	jnz	00192$
   02A3 75*29 81           1322 	mov	_fb_pattern,#0x81
   02A6                    1323 00192$:
                    02A6   1324 	C$fb_lpc922.c$266$4$30 ==.
                           1325 ;	../fb_lpc922.c:266: fb_state=11;
   02A6 75*2A 0B           1326 	mov	_fb_state,#0x0B
   02A9 80 13              1327 	sjmp	00198$
   02AB                    1328 00197$:
                    02AB   1329 	C$fb_lpc922.c$269$4$33 ==.
                           1330 ;	../fb_lpc922.c:269: if (!fb_parity) {				// wenn Parity-Bit logisch 0
   02AB 20*02 06           1331 	jb	_fb_parity,00194$
                    02AE   1332 	C$fb_lpc922.c$270$5$34 ==.
                           1333 ;	../fb_lpc922.c:270: FBOUTC=1;						// Bus runterziehen
   02AE D2 96              1334 	setb	_P1_6
                    02B0   1335 	C$fb_lpc922.c$271$5$34 ==.
                           1336 ;	../fb_lpc922.c:271: fbtx_bit=0;						// fbtx_bit dient zur späteren Kollisionsprüfung
   02B0 C2*09              1337 	clr	_fbtx_bit
   02B2 80 02              1338 	sjmp	00195$
   02B4                    1339 00194$:
                    02B4   1340 	C$fb_lpc922.c$273$4$33 ==.
                           1341 ;	../fb_lpc922.c:273: else fbtx_bit=1;
   02B4 D2*09              1342 	setb	_fbtx_bit
   02B6                    1343 00195$:
                    02B6   1344 	C$fb_lpc922.c$274$4$33 ==.
                           1345 ;	../fb_lpc922.c:274: telpos++;					// nächstes Byte
   02B6 05*26              1346 	inc	_telpos
                    02B8   1347 	C$fb_lpc922.c$275$4$33 ==.
                           1348 ;	../fb_lpc922.c:275: fb_pattern=0;				// wieder mit Startbit beginnen
   02B8 75*29 00           1349 	mov	_fb_pattern,#0x00
                    02BB   1350 	C$fb_lpc922.c$276$4$33 ==.
                           1351 ;	../fb_lpc922.c:276: fb_state=13;				// Prüfen ob Telegramm fertig
   02BB 75*2A 0D           1352 	mov	_fb_state,#0x0D
   02BE                    1353 00198$:
                    02BE   1354 	C$fb_lpc922.c$278$3$29 ==.
                           1355 ;	../fb_lpc922.c:278: TH1=18; //reload 70µ -delay interrupt (von state 11 auf 13)
   02BE 75 8D 12           1356 	mov	_TH1,#0x12
                    02C1   1357 	C$fb_lpc922.c$280$2$2 ==.
                           1358 ;	../fb_lpc922.c:280: break;
   02C1 02s03r4D           1359 	ljmp	00217$
                    02C4   1360 	C$fb_lpc922.c$282$2$2 ==.
                           1361 ;	../fb_lpc922.c:282: case 11:	// Sendestufe aus, T=35us
   02C4                    1362 00201$:
                    02C4   1363 	C$fb_lpc922.c$283$2$2 ==.
                           1364 ;	../fb_lpc922.c:283: if(telpos==0 && fb_pattern==1) {	// 1. Byte Startbit
   02C4 E5*26              1365 	mov	a,_telpos
   02C6 70 07              1366 	jnz	00203$
   02C8 74 01              1367 	mov	a,#0x01
   02CA B5*29 02           1368 	cjne	a,_fb_pattern,00203$
                    02CD   1369 	C$fb_lpc922.c$284$3$35 ==.
                           1370 ;	../fb_lpc922.c:284: repeat_count++;		// angefangener Sendeversuch, also Zähler erhöhen
   02CD 05*2B              1371 	inc	_repeat_count
   02CF                    1372 00203$:
                    02CF   1373 	C$fb_lpc922.c$286$2$2 ==.
                           1374 ;	../fb_lpc922.c:286: FBOUTC=0;				// Sendestufe aus
   02CF C2 96              1375 	clr	_P1_6
                    02D1   1376 	C$fb_lpc922.c$287$2$2 ==.
                           1377 ;	../fb_lpc922.c:287: if (fbtx_bit & IE1) {	// Kollision
   02D1 A2*09              1378 	mov	c,_fbtx_bit
   02D3 82 8B              1379 	anl	c,_TCON_3
   02D5 50 07              1380 	jnc	00206$
                    02D7   1381 	C$fb_lpc922.c$288$3$36 ==.
                           1382 ;	../fb_lpc922.c:288: wait_for_ack=0;
   02D7 C2*0A              1383 	clr	_wait_for_ack
                    02D9   1384 	C$fb_lpc922.c$289$3$36 ==.
                           1385 ;	../fb_lpc922.c:289: init_rx();				// Senden abbrechen und Empfang initialisieren
   02D9 12s03r6C           1386 	lcall	_init_rx
   02DC 80 06              1387 	sjmp	00207$
   02DE                    1388 00206$:
                    02DE   1389 	C$fb_lpc922.c$292$3$37 ==.
                           1390 ;	../fb_lpc922.c:292: fb_state=10;//12;
   02DE 75*2A 0A           1391 	mov	_fb_state,#0x0A
                    02E1   1392 	C$fb_lpc922.c$293$3$37 ==.
                           1393 ;	../fb_lpc922.c:293: TH1=110;// 35µs + delay (von state 10 auf 11)
   02E1 75 8D 6E           1394 	mov	_TH1,#0x6E
   02E4                    1395 00207$:
                    02E4   1396 	C$fb_lpc922.c$295$2$2 ==.
                           1397 ;	../fb_lpc922.c:295: IE1=0;					// Flipflop löschen
   02E4 C2 8B              1398 	clr	_TCON_3
                    02E6   1399 	C$fb_lpc922.c$296$2$2 ==.
                           1400 ;	../fb_lpc922.c:296: break;
                    02E6   1401 	C$fb_lpc922.c$302$2$2 ==.
                           1402 ;	../fb_lpc922.c:302: case 13:	// Byte übertragen, T=35us, prüfen ob Telegramm fertig
   02E6 80 65              1403 	sjmp	00217$
   02E8                    1404 00208$:
                    02E8   1405 	C$fb_lpc922.c$303$2$2 ==.
                           1406 ;	../fb_lpc922.c:303: FBOUTC=0;
   02E8 C2 96              1407 	clr	_P1_6
                    02EA   1408 	C$fb_lpc922.c$304$2$2 ==.
                           1409 ;	../fb_lpc922.c:304: TR1=0;
   02EA C2 8E              1410 	clr	_TCON_6
                    02EC   1411 	C$fb_lpc922.c$305$2$2 ==.
                           1412 ;	../fb_lpc922.c:305: TMOD=(TMOD & 0x0F) +0x10;	// Timer 1 als 16-Bit Timer
   02EC 74 0F              1413 	mov	a,#0x0F
   02EE 55 89              1414 	anl	a,_TMOD
   02F0 24 10              1415 	add	a,#0x10
   02F2 F5 89              1416 	mov	_TMOD,a
                    02F4   1417 	C$fb_lpc922.c$306$2$2 ==.
                           1418 ;	../fb_lpc922.c:306: TH1=0xFB;					// Timer 1 auf Interbyte Abstand setzen (3 Bit Pause = 312µs
   02F4 75 8D FB           1419 	mov	_TH1,#0xFB
                    02F7   1420 	C$fb_lpc922.c$307$2$2 ==.
                           1421 ;	../fb_lpc922.c:307: TL1=0x90;
   02F7 75 8B 90           1422 	mov	_TL1,#0x90
                    02FA   1423 	C$fb_lpc922.c$308$2$2 ==.
                           1424 ;	../fb_lpc922.c:308: TR1=1;
   02FA D2 8E              1425 	setb	_TCON_6
                    02FC   1426 	C$fb_lpc922.c$309$2$2 ==.
                           1427 ;	../fb_lpc922.c:309: if (send_ack || send_nack) {	// ACK/NACK senden
   02FC 20*0B 03           1428 	jb	_send_ack,00212$
   02FF 30*0C 05           1429 	jnb	_send_nack,00213$
   0302                    1430 00212$:
                    0302   1431 	C$fb_lpc922.c$310$3$38 ==.
                           1432 ;	../fb_lpc922.c:310: init_rx();					// ACK senden abgeschlossen, also statemachine auf Anfang
   0302 12s03r6C           1433 	lcall	_init_rx
   0305 80 2B              1434 	sjmp	00214$
   0307                    1435 00213$:
                    0307   1436 	C$fb_lpc922.c$313$3$39 ==.
                           1437 ;	../fb_lpc922.c:313: if (telpos>((telegramm[5]&0x0F)+7)) {		// Telegramm fertig gesendet
   0307 74 0F              1438 	mov	a,#0x0F
   0309 55*0C              1439 	anl	a,(_telegramm + 0x0005)
   030B FF                 1440 	mov	r7,a
   030C 7E 00              1441 	mov	r6,#0x00
   030E 74 07              1442 	mov	a,#0x07
   0310 2F                 1443 	add	a,r7
   0311 FF                 1444 	mov	r7,a
   0312 E4                 1445 	clr	a
   0313 3E                 1446 	addc	a,r6
   0314 FE                 1447 	mov	r6,a
   0315 AC*26              1448 	mov	r4,_telpos
   0317 7D 00              1449 	mov	r5,#0x00
   0319 C3                 1450 	clr	c
   031A EF                 1451 	mov	a,r7
   031B 9C                 1452 	subb	a,r4
   031C EE                 1453 	mov	a,r6
   031D 64 80              1454 	xrl	a,#0x80
   031F 8D F0              1455 	mov	b,r5
   0321 63 F0 80           1456 	xrl	b,#0x80
   0324 95 F0              1457 	subb	a,b
   0326 50 07              1458 	jnc	00210$
                    0328   1459 	C$fb_lpc922.c$314$4$40 ==.
                           1460 ;	../fb_lpc922.c:314: tel_sent=1;
   0328 D2*07              1461 	setb	_tel_sent
                    032A   1462 	C$fb_lpc922.c$315$4$40 ==.
                           1463 ;	../fb_lpc922.c:315: init_rx();	// Telegramm senden abgeschlossen, ggf. wiederholen wenn nicht geackt wird
   032A 12s03r6C           1464 	lcall	_init_rx
   032D 80 03              1465 	sjmp	00214$
   032F                    1466 00210$:
                    032F   1467 	C$fb_lpc922.c$317$3$39 ==.
                           1468 ;	../fb_lpc922.c:317: else fb_state=14;		// nächstes Byte: Interbyte Abstand einhalten
   032F 75*2A 0E           1469 	mov	_fb_state,#0x0E
   0332                    1470 00214$:
                    0332   1471 	C$fb_lpc922.c$319$2$2 ==.
                           1472 ;	../fb_lpc922.c:319: IE1=0;
   0332 C2 8B              1473 	clr	_TCON_3
                    0334   1474 	C$fb_lpc922.c$320$2$2 ==.
                           1475 ;	../fb_lpc922.c:320: break;
                    0334   1476 	C$fb_lpc922.c$322$2$2 ==.
                           1477 ;	../fb_lpc922.c:322: case 14:	// Interbyte Abstand erreicht (=Stopbit + 2 Bit)
   0334 80 17              1478 	sjmp	00217$
   0336                    1479 00216$:
                    0336   1480 	C$fb_lpc922.c$323$2$2 ==.
                           1481 ;	../fb_lpc922.c:323: TR1=0;
   0336 C2 8E              1482 	clr	_TCON_6
                    0338   1483 	C$fb_lpc922.c$324$2$2 ==.
                           1484 ;	../fb_lpc922.c:324: TMOD=(TMOD & 0x0F) +0x20;			// Timer 1 als 8-Bit autoreload
   0338 74 0F              1485 	mov	a,#0x0F
   033A 55 89              1486 	anl	a,_TMOD
   033C 24 20              1487 	add	a,#0x20
   033E F5 89              1488 	mov	_TMOD,a
                    0340   1489 	C$fb_lpc922.c$325$2$2 ==.
                           1490 ;	../fb_lpc922.c:325: TH1=110;							// Timer 1 auf 104/3 us laden
   0340 75 8D 6E           1491 	mov	_TH1,#0x6E
                    0343   1492 	C$fb_lpc922.c$326$2$2 ==.
                           1493 ;	../fb_lpc922.c:326: TL1=128;
   0343 75 8B 80           1494 	mov	_TL1,#0x80
                    0346   1495 	C$fb_lpc922.c$327$2$2 ==.
                           1496 ;	../fb_lpc922.c:327: TF1=0;
   0346 C2 8F              1497 	clr	_TCON_7
                    0348   1498 	C$fb_lpc922.c$328$2$2 ==.
                           1499 ;	../fb_lpc922.c:328: TR1=1;
   0348 D2 8E              1500 	setb	_TCON_6
                    034A   1501 	C$fb_lpc922.c$329$2$2 ==.
                           1502 ;	../fb_lpc922.c:329: fb_state=10;
   034A 75*2A 0A           1503 	mov	_fb_state,#0x0A
                    034D   1504 	C$fb_lpc922.c$334$1$1 ==.
                           1505 ;	../fb_lpc922.c:334: }
   034D                    1506 00217$:
                    034D   1507 	C$fb_lpc922.c$335$1$1 ==.
                           1508 ;	../fb_lpc922.c:335: interrupted=1;			// zeigt der app, dass sie unterbrochen wurde
   034D D2*01              1509 	setb	_interrupted
   034F D0 D0              1510 	pop	psw
   0351 D0 00              1511 	pop	(0+0)
   0353 D0 01              1512 	pop	(0+1)
   0355 D0 02              1513 	pop	(0+2)
   0357 D0 03              1514 	pop	(0+3)
   0359 D0 04              1515 	pop	(0+4)
   035B D0 05              1516 	pop	(0+5)
   035D D0 06              1517 	pop	(0+6)
   035F D0 07              1518 	pop	(0+7)
   0361 D0 83              1519 	pop	dph
   0363 D0 82              1520 	pop	dpl
   0365 D0 F0              1521 	pop	b
   0367 D0 E0              1522 	pop	acc
   0369 D0*00              1523 	pop	bits
                    036B   1524 	C$fb_lpc922.c$336$1$1 ==.
                    036B   1525 	XG$T1_int$0$0 ==.
   036B 32                 1526 	reti
                           1527 ;------------------------------------------------------------
                           1528 ;Allocation info for local variables in function 'init_rx'
                           1529 ;------------------------------------------------------------
                    036C   1530 	G$init_rx$0$0 ==.
                    036C   1531 	C$fb_lpc922.c$339$1$1 ==.
                           1532 ;	../fb_lpc922.c:339: void init_rx(void) 	// Empfangen initiieren (statemachine auf Anfang)
                           1533 ;	-----------------------------------------
                           1534 ;	 function init_rx
                           1535 ;	-----------------------------------------
   036C                    1536 _init_rx:
                    036C   1537 	C$fb_lpc922.c$341$1$1 ==.
                           1538 ;	../fb_lpc922.c:341: fb_state=0;
   036C 75*2A 00           1539 	mov	_fb_state,#0x00
                    036F   1540 	C$fb_lpc922.c$342$1$1 ==.
                           1541 ;	../fb_lpc922.c:342: IE1=0;
   036F C2 8B              1542 	clr	_TCON_3
                    0371   1543 	C$fb_lpc922.c$343$1$1 ==.
                           1544 ;	../fb_lpc922.c:343: TR1=0;
   0371 C2 8E              1545 	clr	_TCON_6
                    0373   1546 	C$fb_lpc922.c$344$1$1 ==.
                           1547 ;	../fb_lpc922.c:344: ET1=0;
   0373 C2 AB              1548 	clr	_IEN0_3
                    0375   1549 	C$fb_lpc922.c$345$1$1 ==.
                           1550 ;	../fb_lpc922.c:345: cs=0;
   0375 75*27 00           1551 	mov	_cs,#0x00
                    0378   1552 	C$fb_lpc922.c$346$1$1 ==.
                           1553 ;	../fb_lpc922.c:346: telpos=0;
   0378 75*26 00           1554 	mov	_telpos,#0x00
                    037B   1555 	C$fb_lpc922.c$347$1$1 ==.
                           1556 ;	../fb_lpc922.c:347: TR1=0;
   037B C2 8E              1557 	clr	_TCON_6
                    037D   1558 	C$fb_lpc922.c$348$1$1 ==.
                           1559 ;	../fb_lpc922.c:348: TMOD=(TMOD & 0x0F) +0x10;	// Timer 1 als 16-Bit Timer
   037D 74 0F              1560 	mov	a,#0x0F
   037F 55 89              1561 	anl	a,_TMOD
   0381 24 10              1562 	add	a,#0x10
   0383 F5 89              1563 	mov	_TMOD,a
                    0385   1564 	C$fb_lpc922.c$349$1$1 ==.
                           1565 ;	../fb_lpc922.c:349: TH1=0x89;					// busfree Zeit = 15 Bit (auf ACK) + 11 Bit (ACK) + 53 Bit
   0385 75 8D 89           1566 	mov	_TH1,#0x89
                    0388   1567 	C$fb_lpc922.c$350$1$1 ==.
                           1568 ;	../fb_lpc922.c:350: TL1=0xAF;
   0388 75 8B AF           1569 	mov	_TL1,#0xAF
                    038B   1570 	C$fb_lpc922.c$351$1$1 ==.
                           1571 ;	../fb_lpc922.c:351: send_ack=0;
   038B C2*0B              1572 	clr	_send_ack
                    038D   1573 	C$fb_lpc922.c$352$1$1 ==.
                           1574 ;	../fb_lpc922.c:352: send_nack=0;
   038D C2*0C              1575 	clr	_send_nack
                    038F   1576 	C$fb_lpc922.c$353$1$1 ==.
                           1577 ;	../fb_lpc922.c:353: TF1=0;
   038F C2 8F              1578 	clr	_TCON_7
                    0391   1579 	C$fb_lpc922.c$354$1$1 ==.
                           1580 ;	../fb_lpc922.c:354: TR1=1;
   0391 D2 8E              1581 	setb	_TCON_6
                    0393   1582 	C$fb_lpc922.c$355$1$1 ==.
                           1583 ;	../fb_lpc922.c:355: EX1=1;
   0393 D2 AA              1584 	setb	_IEN0_2
                    0395   1585 	C$fb_lpc922.c$356$1$1 ==.
                           1586 ;	../fb_lpc922.c:356: ET1=1;
   0395 D2 AB              1587 	setb	_IEN0_3
                    0397   1588 	C$fb_lpc922.c$357$1$1 ==.
                    0397   1589 	XG$init_rx$0$0 ==.
   0397 22                 1590 	ret
                           1591 ;------------------------------------------------------------
                           1592 ;Allocation info for local variables in function 'init_tx'
                           1593 ;------------------------------------------------------------
                           1594 ;n                         Allocated to registers r6 
                           1595 ;cs_pos                    Allocated to registers r7 
                           1596 ;------------------------------------------------------------
                    0398   1597 	G$init_tx$0$0 ==.
                    0398   1598 	C$fb_lpc922.c$360$1$1 ==.
                           1599 ;	../fb_lpc922.c:360: void init_tx(void) 		// Checksum des Telegramms berechnen und Senden initiieren
                           1600 ;	-----------------------------------------
                           1601 ;	 function init_tx
                           1602 ;	-----------------------------------------
   0398                    1603 _init_tx:
                    0398   1604 	C$fb_lpc922.c$364$1$1 ==.
                           1605 ;	../fb_lpc922.c:364: TR1=0;
   0398 C2 8E              1606 	clr	_TCON_6
                    039A   1607 	C$fb_lpc922.c$365$1$1 ==.
                           1608 ;	../fb_lpc922.c:365: TMOD=(TMOD & 0x0F) +0x20;			// Timer 1 als 8-Bit autoreload
   039A 74 0F              1609 	mov	a,#0x0F
   039C 55 89              1610 	anl	a,_TMOD
   039E 24 20              1611 	add	a,#0x20
   03A0 F5 89              1612 	mov	_TMOD,a
                    03A2   1613 	C$fb_lpc922.c$366$1$1 ==.
                           1614 ;	../fb_lpc922.c:366: TH1=110;							// von state 10 auf 11
   03A2 75 8D 6E           1615 	mov	_TH1,#0x6E
                    03A5   1616 	C$fb_lpc922.c$367$1$1 ==.
                           1617 ;	../fb_lpc922.c:367: TL1=128;							// von hier bis state 10
   03A5 75 8B 80           1618 	mov	_TL1,#0x80
                    03A8   1619 	C$fb_lpc922.c$368$1$1 ==.
                           1620 ;	../fb_lpc922.c:368: TF1=0;
   03A8 C2 8F              1621 	clr	_TCON_7
                    03AA   1622 	C$fb_lpc922.c$370$1$1 ==.
                           1623 ;	../fb_lpc922.c:370: cs_pos=(telegramm[5]&0x0F)+7;		// Position der Checksum im Telegramm
   03AA 74 0F              1624 	mov	a,#0x0F
   03AC 55*0C              1625 	anl	a,(_telegramm + 0x0005)
   03AE 24 07              1626 	add	a,#0x07
   03B0 FF                 1627 	mov	r7,a
                    03B1   1628 	C$fb_lpc922.c$371$1$1 ==.
                           1629 ;	../fb_lpc922.c:371: cs=0xFF;
   03B1 75*27 FF           1630 	mov	_cs,#0xFF
                    03B4   1631 	C$fb_lpc922.c$372$1$1 ==.
                           1632 ;	../fb_lpc922.c:372: for(n=0;n<cs_pos;n++) {
   03B4 7E 00              1633 	mov	r6,#0x00
   03B6                    1634 00101$:
   03B6 C3                 1635 	clr	c
   03B7 EE                 1636 	mov	a,r6
   03B8 9F                 1637 	subb	a,r7
   03B9 50 0B              1638 	jnc	00104$
                    03BB   1639 	C$fb_lpc922.c$373$2$2 ==.
                           1640 ;	../fb_lpc922.c:373: cs^=telegramm[n];				// Checksum berechnen
   03BB EE                 1641 	mov	a,r6
   03BC 24r07              1642 	add	a,#_telegramm
   03BE F9                 1643 	mov	r1,a
   03BF E7                 1644 	mov	a,@r1
   03C0 FD                 1645 	mov	r5,a
   03C1 62*27              1646 	xrl	_cs,a
                    03C3   1647 	C$fb_lpc922.c$372$1$1 ==.
                           1648 ;	../fb_lpc922.c:372: for(n=0;n<cs_pos;n++) {
   03C3 0E                 1649 	inc	r6
   03C4 80 F0              1650 	sjmp	00101$
   03C6                    1651 00104$:
                    03C6   1652 	C$fb_lpc922.c$375$1$1 ==.
                           1653 ;	../fb_lpc922.c:375: telegramm[cs_pos]=cs;				// Checksum hinter Nutzdaten anfügen
   03C6 EF                 1654 	mov	a,r7
   03C7 24r07              1655 	add	a,#_telegramm
   03C9 F8                 1656 	mov	r0,a
   03CA A6*27              1657 	mov	@r0,_cs
                    03CC   1658 	C$fb_lpc922.c$376$1$1 ==.
                           1659 ;	../fb_lpc922.c:376: ack=0;
   03CC C2*03              1660 	clr	_ack
                    03CE   1661 	C$fb_lpc922.c$377$1$1 ==.
                           1662 ;	../fb_lpc922.c:377: nack=0;
   03CE C2*04              1663 	clr	_nack
                    03D0   1664 	C$fb_lpc922.c$378$1$1 ==.
                           1665 ;	../fb_lpc922.c:378: wait_for_ack=1;
   03D0 D2*0A              1666 	setb	_wait_for_ack
                    03D2   1667 	C$fb_lpc922.c$380$1$1 ==.
                           1668 ;	../fb_lpc922.c:380: fb_state=10;						// nächster state: senden
   03D2 75*2A 0A           1669 	mov	_fb_state,#0x0A
                    03D5   1670 	C$fb_lpc922.c$381$1$1 ==.
                           1671 ;	../fb_lpc922.c:381: fb_pattern=0;						// nächstes zu sendendes Bit, 0=Startbit
   03D5 75*29 00           1672 	mov	_fb_pattern,#0x00
                    03D8   1673 	C$fb_lpc922.c$382$1$1 ==.
                           1674 ;	../fb_lpc922.c:382: telpos=0;							// nächstes zu sendende Byte
   03D8 75*26 00           1675 	mov	_telpos,#0x00
                    03DB   1676 	C$fb_lpc922.c$383$1$1 ==.
                           1677 ;	../fb_lpc922.c:383: EX1=0;								// ext. int1 inaktiv
   03DB C2 AA              1678 	clr	_IEN0_2
                    03DD   1679 	C$fb_lpc922.c$384$1$1 ==.
                           1680 ;	../fb_lpc922.c:384: TR1=1;								// Timer 1 starten
   03DD D2 8E              1681 	setb	_TCON_6
                    03DF   1682 	C$fb_lpc922.c$385$1$1 ==.
                           1683 ;	../fb_lpc922.c:385: ET1=1;								// Timer 1 int. aktiv
   03DF D2 AB              1684 	setb	_IEN0_3
                    03E1   1685 	C$fb_lpc922.c$386$1$1 ==.
                    03E1   1686 	XG$init_tx$0$0 ==.
   03E1 22                 1687 	ret
                           1688 ;------------------------------------------------------------
                           1689 ;Allocation info for local variables in function 'gapos_in_gat'
                           1690 ;------------------------------------------------------------
                           1691 ;gal                       Allocated to stack - _bp -3
                           1692 ;gah                       Allocated to registers r7 
                           1693 ;ga_position               Allocated to registers r6 
                           1694 ;n                         Allocated to registers r5 
                           1695 ;------------------------------------------------------------
                    03E2   1696 	G$gapos_in_gat$0$0 ==.
                    03E2   1697 	C$fb_lpc922.c$393$1$1 ==.
                           1698 ;	../fb_lpc922.c:393: unsigned char gapos_in_gat(unsigned char gah, unsigned char gal)
                           1699 ;	-----------------------------------------
                           1700 ;	 function gapos_in_gat
                           1701 ;	-----------------------------------------
   03E2                    1702 _gapos_in_gat:
   03E2 C0*00              1703 	push	_bp
   03E4 85 81*00           1704 	mov	_bp,sp
   03E7 AF 82              1705 	mov	r7,dpl
                    03E9   1706 	C$fb_lpc922.c$397$1$1 ==.
                           1707 ;	../fb_lpc922.c:397: ga_position=0xFF; 			// default return Wert 0xFF = nicht gefunden
   03E9 7E FF              1708 	mov	r6,#0xFF
                    03EB   1709 	C$fb_lpc922.c$398$1$1 ==.
                           1710 ;	../fb_lpc922.c:398: if (eeprom[ADDRTAB]<0xFF && !transparency){
   03EB 90 1D 16           1711 	mov	dptr,#(_eeprom + 0x0016)
   03EE E4                 1712 	clr	a
   03EF 93                 1713 	movc	a,@a+dptr
   03F0 FD                 1714 	mov	r5,a
   03F1 BD FF 00           1715 	cjne	r5,#0xFF,00123$
   03F4                    1716 00123$:
   03F4 50 38              1717 	jnc	00107$
   03F6 20*0D 35           1718 	jb	_transparency,00107$
                    03F9   1719 	C$fb_lpc922.c$399$2$2 ==.
                           1720 ;	../fb_lpc922.c:399: if (eeprom[ADDRTAB]) {
   03F9 90 1D 16           1721 	mov	dptr,#(_eeprom + 0x0016)
   03FC E4                 1722 	clr	a
   03FD 93                 1723 	movc	a,@a+dptr
   03FE 60 2E              1724 	jz	00107$
                    0400   1725 	C$fb_lpc922.c$400$3$3 ==.
                           1726 ;	../fb_lpc922.c:400: for (n=eeprom[ADDRTAB]-1;n;n--) {
   0400 90 1D 16           1727 	mov	dptr,#(_eeprom + 0x0016)
   0403 E4                 1728 	clr	a
   0404 93                 1729 	movc	a,@a+dptr
   0405 FD                 1730 	mov	r5,a
   0406 1D                 1731 	dec	r5
   0407                    1732 00109$:
   0407 ED                 1733 	mov	a,r5
   0408 60 24              1734 	jz	00107$
                    040A   1735 	C$fb_lpc922.c$401$4$4 ==.
                           1736 ;	../fb_lpc922.c:401: if (gah==eeprom[ADDRTAB+n*2+1] && gal==eeprom[ADDRTAB+n*2+2])
   040A ED                 1737 	mov	a,r5
   040B 2D                 1738 	add	a,r5
   040C FC                 1739 	mov	r4,a
   040D 24 17              1740 	add	a,#0x17
   040F 90 1D 00           1741 	mov	dptr,#_eeprom
   0412 93                 1742 	movc	a,@a+dptr
   0413 FB                 1743 	mov	r3,a
   0414 EF                 1744 	mov	a,r7
   0415 B5 03 13           1745 	cjne	a,ar3,00111$
   0418 74 18              1746 	mov	a,#0x18
   041A 2C                 1747 	add	a,r4
   041B 90 1D 00           1748 	mov	dptr,#_eeprom
   041E 93                 1749 	movc	a,@a+dptr
   041F FC                 1750 	mov	r4,a
   0420 E5*00              1751 	mov	a,_bp
   0422 24 FD              1752 	add	a,#0xfd
   0424 F8                 1753 	mov	r0,a
   0425 E6                 1754 	mov	a,@r0
   0426 B5 04 02           1755 	cjne	a,ar4,00111$
                    0429   1756 	C$fb_lpc922.c$402$4$4 ==.
                           1757 ;	../fb_lpc922.c:402: ga_position=n;
   0429 8D 06              1758 	mov	ar6,r5
   042B                    1759 00111$:
                    042B   1760 	C$fb_lpc922.c$400$3$3 ==.
                           1761 ;	../fb_lpc922.c:400: for (n=eeprom[ADDRTAB]-1;n;n--) {
   042B 1D                 1762 	dec	r5
   042C 80 D9              1763 	sjmp	00109$
   042E                    1764 00107$:
                    042E   1765 	C$fb_lpc922.c$406$1$1 ==.
                           1766 ;	../fb_lpc922.c:406: return (ga_position);
   042E 8E 82              1767 	mov	dpl,r6
   0430 D0*00              1768 	pop	_bp
                    0432   1769 	C$fb_lpc922.c$407$1$1 ==.
                    0432   1770 	XG$gapos_in_gat$0$0 ==.
   0432 22                 1771 	ret
                           1772 ;------------------------------------------------------------
                           1773 ;Allocation info for local variables in function 'build_tel'
                           1774 ;------------------------------------------------------------
                           1775 ;objno                     Allocated to registers r7 
                           1776 ;build_ok                  Allocated to registers b0 
                           1777 ;objvalue                  Allocated to stack - _bp +1
                           1778 ;gapos                     Allocated to registers r5 r6 
                           1779 ;objtype                   Allocated to registers r6 
                           1780 ;n                         Allocated to registers r7 
                           1781 ;length                    Allocated to registers r6 
                           1782 ;asspos                    Allocated to registers r4 
                           1783 ;type                      Allocated to registers b2 
                           1784 ;repeatflag                Allocated to registers b1 
                           1785 ;------------------------------------------------------------
                    0433   1786 	G$build_tel$0$0 ==.
                    0433   1787 	C$fb_lpc922.c$412$1$1 ==.
                           1788 ;	../fb_lpc922.c:412: __bit build_tel(unsigned char objno)
                           1789 ;	-----------------------------------------
                           1790 ;	 function build_tel
                           1791 ;	-----------------------------------------
   0433                    1792 _build_tel:
   0433 C0*00              1793 	push	_bp
   0435 E5 81              1794 	mov	a,sp
   0437 F5*00              1795 	mov	_bp,a
   0439 24 04              1796 	add	a,#0x04
   043B F5 81              1797 	mov	sp,a
   043D AF 82              1798 	mov	r7,dpl
                    043F   1799 	C$fb_lpc922.c$414$1$1 ==.
                           1800 ;	../fb_lpc922.c:414: __bit build_ok=0;
   043F C2*00              1801 	clr	b0
                    0441   1802 	C$fb_lpc922.c$416$1$1 ==.
                           1803 ;	../fb_lpc922.c:416: unsigned int gapos=0xFE;
   0441 7D FE              1804 	mov	r5,#0xFE
   0443 7E 00              1805 	mov	r6,#0x00
                    0445   1806 	C$fb_lpc922.c$421$1$1 ==.
                           1807 ;	../fb_lpc922.c:421: repeatflag=objno&0x20;
   0445 EF                 1808 	mov	a,r7
   0446 A2 E5              1809 	mov	c,acc[5]
   0448 E4                 1810 	clr	a
   0449 33                 1811 	rlc	a
   044A FC                 1812 	mov	r4,a
   044B 24 FF              1813 	add	a,#0xff
   044D 92*00              1814 	mov	b1,c
                    044F   1815 	C$fb_lpc922.c$423$1$1 ==.
                           1816 ;	../fb_lpc922.c:423: if(objno<128) {		// Multicast
   044F BF 80 00           1817 	cjne	r7,#0x80,00158$
   0452                    1818 00158$:
   0452 40 03              1819 	jc	00159$
   0454 02s05r7F           1820 	ljmp	00132$
   0457                    1821 00159$:
                    0457   1822 	C$fb_lpc922.c$424$1$1 ==.
                           1823 ;	../fb_lpc922.c:424: type=(objno&0x40);	// bei Multicast ist type0 normal und type1 response telegramm
   0457 C0 05              1824 	push	ar5
   0459 C0 06              1825 	push	ar6
   045B EF                 1826 	mov	a,r7
   045C 23                 1827 	rl	a
   045D 23                 1828 	rl	a
   045E 54 01              1829 	anl	a,#0x01
   0460 24 FF              1830 	add	a,#0xff
   0462 92*00              1831 	mov	b2,c
                    0464   1832 	C$fb_lpc922.c$425$2$2 ==.
                           1833 ;	../fb_lpc922.c:425: objno&=0x1F;
   0464 53 07 1F           1834 	anl	ar7,#0x1F
                    0467   1835 	C$fb_lpc922.c$427$2$2 ==.
                           1836 ;	../fb_lpc922.c:427: objvalue=read_obj_value(objno);		// Objektwert lesen
   0467 8F 82              1837 	mov	dpl,r7
   0469 C0 07              1838 	push	ar7
   046B C0 05              1839 	push	ar5
   046D C0*00              1840 	push	bits
   046F 12s00r00           1841 	lcall	_read_obj_value
   0472 AA 82              1842 	mov	r2,dpl
   0474 AB 83              1843 	mov	r3,dph
   0476 AC F0              1844 	mov	r4,b
   0478 FE                 1845 	mov	r6,a
   0479 D0*00              1846 	pop	bits
   047B D0 05              1847 	pop	ar5
   047D D0 07              1848 	pop	ar7
   047F A8*00              1849 	mov	r0,_bp
   0481 08                 1850 	inc	r0
   0482 A6 02              1851 	mov	@r0,ar2
   0484 08                 1852 	inc	r0
   0485 A6 03              1853 	mov	@r0,ar3
   0487 08                 1854 	inc	r0
   0488 A6 04              1855 	mov	@r0,ar4
   048A 08                 1856 	inc	r0
   048B A6 06              1857 	mov	@r0,ar6
                    048D   1858 	C$fb_lpc922.c$430$2$2 ==.
                           1859 ;	../fb_lpc922.c:430: asspos=eeprom[ASSOCTABPTR]+1+2*objno;
   048D 90 1D 11           1860 	mov	dptr,#(_eeprom + 0x0011)
   0490 E4                 1861 	clr	a
   0491 93                 1862 	movc	a,@a+dptr
   0492 FE                 1863 	mov	r6,a
   0493 0E                 1864 	inc	r6
   0494 EF                 1865 	mov	a,r7
   0495 2F                 1866 	add	a,r7
   0496 FD                 1867 	mov	r5,a
   0497 2E                 1868 	add	a,r6
                    0498   1869 	C$fb_lpc922.c$431$2$2 ==.
                           1870 ;	../fb_lpc922.c:431: if(eeprom[asspos+1]==objno) gapos=eeprom[asspos];
   0498 FC                 1871 	mov	r4,a
   0499 04                 1872 	inc	a
   049A 90 1D 00           1873 	mov	dptr,#_eeprom
   049D 93                 1874 	movc	a,@a+dptr
   049E FE                 1875 	mov	r6,a
   049F B5 07 02           1876 	cjne	a,ar7,00160$
   04A2 80 06              1877 	sjmp	00161$
   04A4                    1878 00160$:
   04A4 D0 06              1879 	pop	ar6
   04A6 D0 05              1880 	pop	ar5
   04A8 80 0F              1881 	sjmp	00102$
   04AA                    1882 00161$:
   04AA D0 06              1883 	pop	ar6
   04AC D0 05              1884 	pop	ar5
   04AE 8C 82              1885 	mov	dpl,r4
   04B0 75 83 1D           1886 	mov	dph,#(_eeprom >> 8)
   04B3 E4                 1887 	clr	a
   04B4 93                 1888 	movc	a,@a+dptr
   04B5 FC                 1889 	mov	r4,a
   04B6 FD                 1890 	mov	r5,a
   04B7 7E 00              1891 	mov	r6,#0x00
   04B9                    1892 00102$:
                    04B9   1893 	C$fb_lpc922.c$433$2$2 ==.
                           1894 ;	../fb_lpc922.c:433: if (gapos!=0xFE) // wenn keine Gruppenadresse hinterlegt nix tun
   04B9 BD FE 06           1895 	cjne	r5,#0xFE,00162$
   04BC BE 00 03           1896 	cjne	r6,#0x00,00162$
   04BF 02s06r5E           1897 	ljmp	00133$
   04C2                    1898 00162$:
                    04C2   1899 	C$fb_lpc922.c$435$3$3 ==.
                           1900 ;	../fb_lpc922.c:435: telegramm[0]=0xBC;
   04C2 75*07 BC           1901 	mov	_telegramm,#0xBC
                    04C5   1902 	C$fb_lpc922.c$436$3$3 ==.
                           1903 ;	../fb_lpc922.c:436: telegramm[1]=eeprom[ADDRTAB+1];
   04C5 90 1D 17           1904 	mov	dptr,#(_eeprom + 0x0017)
   04C8 E4                 1905 	clr	a
   04C9 93                 1906 	movc	a,@a+dptr
   04CA FC                 1907 	mov	r4,a
   04CB 8C*08              1908 	mov	(_telegramm + 0x0001),r4
                    04CD   1909 	C$fb_lpc922.c$437$3$3 ==.
                           1910 ;	../fb_lpc922.c:437: telegramm[2]=eeprom[ADDRTAB+2];
   04CD 90 1D 18           1911 	mov	dptr,#(_eeprom + 0x0018)
   04D0 E4                 1912 	clr	a
   04D1 93                 1913 	movc	a,@a+dptr
   04D2 FC                 1914 	mov	r4,a
   04D3 8C*09              1915 	mov	(_telegramm + 0x0002),r4
                    04D5   1916 	C$fb_lpc922.c$438$3$3 ==.
                           1917 ;	../fb_lpc922.c:438: telegramm[3]=eeprom[ADDRTAB+1+gapos*2];
   04D5 ED                 1918 	mov	a,r5
   04D6 2D                 1919 	add	a,r5
   04D7 FD                 1920 	mov	r5,a
   04D8 24 17              1921 	add	a,#0x17
   04DA 90 1D 00           1922 	mov	dptr,#_eeprom
   04DD 93                 1923 	movc	a,@a+dptr
   04DE FE                 1924 	mov	r6,a
   04DF 8E*0A              1925 	mov	(_telegramm + 0x0003),r6
                    04E1   1926 	C$fb_lpc922.c$439$3$3 ==.
                           1927 ;	../fb_lpc922.c:439: telegramm[4]=eeprom[ADDRTAB+2+gapos*2];
   04E1 74 18              1928 	mov	a,#0x18
   04E3 2D                 1929 	add	a,r5
   04E4 90 1D 00           1930 	mov	dptr,#_eeprom
   04E7 93                 1931 	movc	a,@a+dptr
   04E8 FE                 1932 	mov	r6,a
   04E9 8E*0B              1933 	mov	(_telegramm + 0x0004),r6
                    04EB   1934 	C$fb_lpc922.c$440$3$3 ==.
                           1935 ;	../fb_lpc922.c:440: telegramm[6]=0x00;
   04EB 75*0D 00           1936 	mov	(_telegramm + 0x0006),#0x00
                    04EE   1937 	C$fb_lpc922.c$441$3$3 ==.
                           1938 ;	../fb_lpc922.c:441: if (type) telegramm[7]=0x40;		// read_value_response Telegramm (angefordert)
   04EE 30*00 05           1939 	jnb	b2,00104$
   04F1 75*0E 40           1940 	mov	(_telegramm + 0x0007),#0x40
   04F4 80 03              1941 	sjmp	00105$
   04F6                    1942 00104$:
                    04F6   1943 	C$fb_lpc922.c$442$3$3 ==.
                           1944 ;	../fb_lpc922.c:442: else telegramm[7]=0x80;				// write_value_request Telegramm (nicht angefordert)
   04F6 75*0E 80           1945 	mov	(_telegramm + 0x0007),#0x80
   04F9                    1946 00105$:
                    04F9   1947 	C$fb_lpc922.c$444$3$3 ==.
                           1948 ;	../fb_lpc922.c:444: objtype=eeprom[eeprom[COMMSTABPTR]+objno+objno+objno+4];
   04F9 90 1D 12           1949 	mov	dptr,#(_eeprom + 0x0012)
   04FC E4                 1950 	clr	a
   04FD 93                 1951 	movc	a,@a+dptr
   04FE 2F                 1952 	add	a,r7
   04FF 2F                 1953 	add	a,r7
   0500 FE                 1954 	mov	r6,a
   0501 2F                 1955 	add	a,r7
   0502 24 04              1956 	add	a,#0x04
   0504 90 1D 00           1957 	mov	dptr,#_eeprom
   0507 93                 1958 	movc	a,@a+dptr
                    0508   1959 	C$fb_lpc922.c$446$3$3 ==.
                           1960 ;	../fb_lpc922.c:446: if(objtype>6) length=objtype-5; else length=1;
   0508 FE                 1961 	mov  r6,a
   0509 24 F9              1962 	add	a,#0xff - 0x06
   050B 50 06              1963 	jnc	00107$
   050D EE                 1964 	mov	a,r6
   050E 24 FB              1965 	add	a,#0xFB
   0510 FE                 1966 	mov	r6,a
   0511 80 02              1967 	sjmp	00108$
   0513                    1968 00107$:
   0513 7E 01              1969 	mov	r6,#0x01
   0515                    1970 00108$:
                    0515   1971 	C$fb_lpc922.c$447$3$3 ==.
                           1972 ;	../fb_lpc922.c:447: telegramm[5]=0xE0+length;
   0515 74 E0              1973 	mov	a,#0xE0
   0517 2E                 1974 	add	a,r6
   0518 F5*0C              1975 	mov	(_telegramm + 0x0005),a
                    051A   1976 	C$fb_lpc922.c$448$3$3 ==.
                           1977 ;	../fb_lpc922.c:448: if (length>1) telegramm[length+6]=objvalue; else telegramm[7]+=(objvalue&0x3F);
   051A EE                 1978 	mov	a,r6
   051B 24 FE              1979 	add	a,#0xff - 0x01
   051D 50 0F              1980 	jnc	00110$
   051F 74 06              1981 	mov	a,#0x06
   0521 2E                 1982 	add	a,r6
   0522 24r07              1983 	add	a,#_telegramm
   0524 F9                 1984 	mov	r1,a
   0525 A8*00              1985 	mov	r0,_bp
   0527 08                 1986 	inc	r0
   0528 86 05              1987 	mov	ar5,@r0
   052A A7 05              1988 	mov	@r1,ar5
   052C 80 10              1989 	sjmp	00111$
   052E                    1990 00110$:
   052E A8*00              1991 	mov	r0,_bp
   0530 08                 1992 	inc	r0
   0531 74 3F              1993 	mov	a,#0x3F
   0533 56                 1994 	anl	a,@r0
   0534 FA                 1995 	mov	r2,a
   0535 E4                 1996 	clr	a
   0536 FB                 1997 	mov	r3,a
   0537 FC                 1998 	mov	r4,a
   0538 FD                 1999 	mov	r5,a
   0539 EA                 2000 	mov	a,r2
   053A 25*0E              2001 	add	a,(_telegramm + 0x0007)
   053C F5*0E              2002 	mov	(_telegramm + 0x0007),a
   053E                    2003 00111$:
                    053E   2004 	C$fb_lpc922.c$449$3$3 ==.
                           2005 ;	../fb_lpc922.c:449: if (length>2) telegramm[length+5]=objvalue>>8;
   053E EE                 2006 	mov	a,r6
   053F 24 FD              2007 	add	a,#0xff - 0x02
   0541 50 0E              2008 	jnc	00113$
   0543 74 05              2009 	mov	a,#0x05
   0545 2E                 2010 	add	a,r6
   0546 24r07              2011 	add	a,#_telegramm
   0548 F9                 2012 	mov	r1,a
   0549 A8*00              2013 	mov	r0,_bp
   054B 08                 2014 	inc	r0
   054C 08                 2015 	inc	r0
   054D 86 05              2016 	mov	ar5,@r0
   054F A7 05              2017 	mov	@r1,ar5
   0551                    2018 00113$:
                    0551   2019 	C$fb_lpc922.c$450$3$3 ==.
                           2020 ;	../fb_lpc922.c:450: if (length>3) telegramm[length+4]=objvalue>>16;
   0551 EE                 2021 	mov	a,r6
   0552 24 FC              2022 	add	a,#0xff - 0x03
   0554 50 0F              2023 	jnc	00115$
   0556 74 04              2024 	mov	a,#0x04
   0558 2E                 2025 	add	a,r6
   0559 24r07              2026 	add	a,#_telegramm
   055B F9                 2027 	mov	r1,a
   055C A8*00              2028 	mov	r0,_bp
   055E 08                 2029 	inc	r0
   055F 08                 2030 	inc	r0
   0560 08                 2031 	inc	r0
   0561 86 05              2032 	mov	ar5,@r0
   0563 A7 05              2033 	mov	@r1,ar5
   0565                    2034 00115$:
                    0565   2035 	C$fb_lpc922.c$451$3$3 ==.
                           2036 ;	../fb_lpc922.c:451: if (length>4) telegramm[length+3]=objvalue>>24;
   0565 EE                 2037 	mov	a,r6
   0566 24 FB              2038 	add	a,#0xff - 0x04
   0568 50 10              2039 	jnc	00117$
   056A 74 03              2040 	mov	a,#0x03
   056C 2E                 2041 	add	a,r6
   056D 24r07              2042 	add	a,#_telegramm
   056F F9                 2043 	mov	r1,a
   0570 A8*00              2044 	mov	r0,_bp
   0572 08                 2045 	inc	r0
   0573 08                 2046 	inc	r0
   0574 08                 2047 	inc	r0
   0575 08                 2048 	inc	r0
   0576 86 06              2049 	mov	ar6,@r0
   0578 A7 06              2050 	mov	@r1,ar6
   057A                    2051 00117$:
                    057A   2052 	C$fb_lpc922.c$453$3$3 ==.
                           2053 ;	../fb_lpc922.c:453: build_ok=1;
   057A D2*00              2054 	setb	b0
   057C 02s06r5E           2055 	ljmp	00133$
   057F                    2056 00132$:
                    057F   2057 	C$fb_lpc922.c$457$2$4 ==.
                           2058 ;	../fb_lpc922.c:457: telegramm[0]=0xB0;				// Control Byte
   057F 75*07 B0           2059 	mov	_telegramm,#0xB0
                    0582   2060 	C$fb_lpc922.c$458$2$4 ==.
                           2061 ;	../fb_lpc922.c:458: telegramm[1]=eeprom[ADDRTAB+1];	// Quelladresse ist phys. Adresse
   0582 90 1D 17           2062 	mov	dptr,#(_eeprom + 0x0017)
   0585 E4                 2063 	clr	a
   0586 93                 2064 	movc	a,@a+dptr
   0587 FE                 2065 	mov	r6,a
   0588 8E*08              2066 	mov	(_telegramm + 0x0001),r6
                    058A   2067 	C$fb_lpc922.c$459$2$4 ==.
                           2068 ;	../fb_lpc922.c:459: telegramm[2]=eeprom[ADDRTAB+2];
   058A 90 1D 18           2069 	mov	dptr,#(_eeprom + 0x0018)
   058D E4                 2070 	clr	a
   058E 93                 2071 	movc	a,@a+dptr
   058F FE                 2072 	mov	r6,a
   0590 8E*09              2073 	mov	(_telegramm + 0x0002),r6
                    0592   2074 	C$fb_lpc922.c$460$2$4 ==.
                           2075 ;	../fb_lpc922.c:460: telegramm[3]=conh;
   0592 85*00*0A           2076 	mov	(_telegramm + 0x0003),_conh
                    0595   2077 	C$fb_lpc922.c$461$2$4 ==.
                           2078 ;	../fb_lpc922.c:461: telegramm[4]=conl;
   0595 85*01*0B           2079 	mov	(_telegramm + 0x0004),_conl
                    0598   2080 	C$fb_lpc922.c$463$2$4 ==.
                           2081 ;	../fb_lpc922.c:463: switch(objno&0x1F) {
   0598 53 07 1F           2082 	anl	ar7,#0x1F
   059B EF                 2083 	mov	a,r7
   059C 24 FA              2084 	add	a,#0xff - 0x05
   059E 50 03              2085 	jnc	00169$
   05A0 02s06r5C           2086 	ljmp	00130$
   05A3                    2087 00169$:
   05A3 EF                 2088 	mov	a,r7
   05A4 2F                 2089 	add	a,r7
   05A5 2F                 2090 	add	a,r7
   05A6 90s05rAA           2091 	mov	dptr,#00170$
   05A9 73                 2092 	jmp	@a+dptr
   05AA                    2093 00170$:
   05AA 02s06r5C           2094 	ljmp	00130$
   05AD 02s05rBC           2095 	ljmp	00120$
   05B0 02s05rC8           2096 	ljmp	00121$
   05B3 02s05rDF           2097 	ljmp	00122$
   05B6 02s05rF0           2098 	ljmp	00123$
   05B9 02s06r56           2099 	ljmp	00129$
                    05BC   2100 	C$fb_lpc922.c$464$3$5 ==.
                           2101 ;	../fb_lpc922.c:464: case 1:	// NCD ACK Quittierung (129)
   05BC                    2102 00120$:
                    05BC   2103 	C$fb_lpc922.c$465$3$5 ==.
                           2104 ;	../fb_lpc922.c:465: telegramm[5]=0x60;					// DRL
   05BC 75*0C 60           2105 	mov	(_telegramm + 0x0005),#0x60
                    05BF   2106 	C$fb_lpc922.c$466$3$5 ==.
                           2107 ;	../fb_lpc922.c:466: telegramm[6]=senders_pcount + 0xC2;	// Bit 6,7(TCPI = 11 NCD Quittierung) und Bit 0,1 (10=ACK)
   05BF 74 C2              2108 	mov	a,#0xC2
   05C1 25*06              2109 	add	a,_senders_pcount
   05C3 F5*0D              2110 	mov	(_telegramm + 0x0006),a
                    05C5   2111 	C$fb_lpc922.c$468$3$5 ==.
                           2112 ;	../fb_lpc922.c:468: break;
   05C5 02s06r5C           2113 	ljmp	00130$
                    05C8   2114 	C$fb_lpc922.c$469$3$5 ==.
                           2115 ;	../fb_lpc922.c:469: case 2:	// read mask response (130)
   05C8                    2116 00121$:
                    05C8   2117 	C$fb_lpc922.c$470$3$5 ==.
                           2118 ;	../fb_lpc922.c:470: telegramm[5]=0x63;					// DRL
   05C8 75*0C 63           2119 	mov	(_telegramm + 0x0005),#0x63
                    05CB   2120 	C$fb_lpc922.c$471$3$5 ==.
                           2121 ;	../fb_lpc922.c:471: telegramm[6]=pcount + 0x43;			// bei response immer eigene Paketnummer senden
   05CB 74 43              2122 	mov	a,#0x43
   05CD 25*02              2123 	add	a,_pcount
   05CF F5*0D              2124 	mov	(_telegramm + 0x0006),a
                    05D1   2125 	C$fb_lpc922.c$472$3$5 ==.
                           2126 ;	../fb_lpc922.c:472: telegramm[7]=0x40;
   05D1 75*0E 40           2127 	mov	(_telegramm + 0x0007),#0x40
                    05D4   2128 	C$fb_lpc922.c$473$3$5 ==.
                           2129 ;	../fb_lpc922.c:473: telegramm[8]=0x00;
   05D4 75*0F 00           2130 	mov	(_telegramm + 0x0008),#0x00
                    05D7   2131 	C$fb_lpc922.c$474$3$5 ==.
                           2132 ;	../fb_lpc922.c:474: telegramm[9]=0x12;					// Maskenversion 1 = BCU1
   05D7 75*10 12           2133 	mov	(_telegramm + 0x0009),#0x12
                    05DA   2134 	C$fb_lpc922.c$475$3$5 ==.
                           2135 ;	../fb_lpc922.c:475: inc_pcount=1;
   05DA D2*0F              2136 	setb	_inc_pcount
                    05DC   2137 	C$fb_lpc922.c$476$3$5 ==.
                           2138 ;	../fb_lpc922.c:476: break;
   05DC 02s06r5C           2139 	ljmp	00130$
                    05DF   2140 	C$fb_lpc922.c$477$3$5 ==.
                           2141 ;	../fb_lpc922.c:477: case 3:	// read PA response (131)
   05DF                    2142 00122$:
                    05DF   2143 	C$fb_lpc922.c$478$3$5 ==.
                           2144 ;	../fb_lpc922.c:478: telegramm[3]=0x00;			// Zieladresse auf 0000, da Broadcast
   05DF 75*0A 00           2145 	mov	(_telegramm + 0x0003),#0x00
                    05E2   2146 	C$fb_lpc922.c$479$3$5 ==.
                           2147 ;	../fb_lpc922.c:479: telegramm[4]=0x00;
   05E2 75*0B 00           2148 	mov	(_telegramm + 0x0004),#0x00
                    05E5   2149 	C$fb_lpc922.c$480$3$5 ==.
                           2150 ;	../fb_lpc922.c:480: telegramm[5]=0xE1;			// DRL
   05E5 75*0C E1           2151 	mov	(_telegramm + 0x0005),#0xE1
                    05E8   2152 	C$fb_lpc922.c$481$3$5 ==.
                           2153 ;	../fb_lpc922.c:481: telegramm[6]=0x01;
   05E8 75*0D 01           2154 	mov	(_telegramm + 0x0006),#0x01
                    05EB   2155 	C$fb_lpc922.c$482$3$5 ==.
                           2156 ;	../fb_lpc922.c:482: telegramm[7]=0x40;
   05EB 75*0E 40           2157 	mov	(_telegramm + 0x0007),#0x40
                    05EE   2158 	C$fb_lpc922.c$483$3$5 ==.
                           2159 ;	../fb_lpc922.c:483: break;
                    05EE   2160 	C$fb_lpc922.c$484$3$5 ==.
                           2161 ;	../fb_lpc922.c:484: case 4:	// memory_read_response (132)
   05EE 80 6C              2162 	sjmp	00130$
   05F0                    2163 00123$:
                    05F0   2164 	C$fb_lpc922.c$485$1$1 ==.
                           2165 ;	../fb_lpc922.c:485: for(n=0;n<mem_length;n++) {
   05F0 7F 00              2166 	mov	r7,#0x00
   05F2                    2167 00136$:
   05F2 C3                 2168 	clr	c
   05F3 EF                 2169 	mov	a,r7
   05F4 95*03              2170 	subb	a,_mem_length
   05F6 50 42              2171 	jnc	00139$
                    05F8   2172 	C$fb_lpc922.c$486$4$6 ==.
                           2173 ;	../fb_lpc922.c:486: if (mem_adrh==0) {
   05F8 E5*04              2174 	mov	a,_mem_adrh
   05FA 70 2C              2175 	jnz	00127$
                    05FC   2176 	C$fb_lpc922.c$487$5$7 ==.
                           2177 ;	../fb_lpc922.c:487: telegramm[n+10]=userram[mem_adrl+n];
   05FC 74 0A              2178 	mov	a,#0x0A
   05FE 2F                 2179 	add	a,r7
   05FF 24r07              2180 	add	a,#_telegramm
   0601 F9                 2181 	mov	r1,a
   0602 EF                 2182 	mov	a,r7
   0603 25*05              2183 	add	a,_mem_adrl
   0605 90 1C 00           2184 	mov	dptr,#_userram
   0608 93                 2185 	movc	a,@a+dptr
   0609 F7                 2186 	mov	@r1,a
                    060A   2187 	C$fb_lpc922.c$488$5$7 ==.
                           2188 ;	../fb_lpc922.c:488: if(mem_adrl+n==0x60) telegramm[n+10]=status60;	// ausser bei 0x60
   060A AD*05              2189 	mov	r5,_mem_adrl
   060C 7E 00              2190 	mov	r6,#0x00
   060E 8F 03              2191 	mov	ar3,r7
   0610 7C 00              2192 	mov	r4,#0x00
   0612 EB                 2193 	mov	a,r3
   0613 2D                 2194 	add	a,r5
   0614 FD                 2195 	mov	r5,a
   0615 EC                 2196 	mov	a,r4
   0616 3E                 2197 	addc	a,r6
   0617 FE                 2198 	mov	r6,a
   0618 BD 60 1C           2199 	cjne	r5,#0x60,00138$
   061B BE 00 19           2200 	cjne	r6,#0x00,00138$
   061E 74 0A              2201 	mov	a,#0x0A
   0620 2F                 2202 	add	a,r7
   0621 24r07              2203 	add	a,#_telegramm
   0623 F8                 2204 	mov	r0,a
   0624 A6*2E              2205 	mov	@r0,_status60
   0626 80 0F              2206 	sjmp	00138$
   0628                    2207 00127$:
                    0628   2208 	C$fb_lpc922.c$490$4$6 ==.
                           2209 ;	../fb_lpc922.c:490: else telegramm[n+10]=eeprom[mem_adrl+n];
   0628 74 0A              2210 	mov	a,#0x0A
   062A 2F                 2211 	add	a,r7
   062B 24r07              2212 	add	a,#_telegramm
   062D F9                 2213 	mov	r1,a
   062E EF                 2214 	mov	a,r7
   062F 25*05              2215 	add	a,_mem_adrl
   0631 90 1D 00           2216 	mov	dptr,#_eeprom
   0634 93                 2217 	movc	a,@a+dptr
   0635 FE                 2218 	mov	r6,a
   0636 F7                 2219 	mov	@r1,a
   0637                    2220 00138$:
                    0637   2221 	C$fb_lpc922.c$485$3$5 ==.
                           2222 ;	../fb_lpc922.c:485: for(n=0;n<mem_length;n++) {
   0637 0F                 2223 	inc	r7
   0638 80 B8              2224 	sjmp	00136$
   063A                    2225 00139$:
                    063A   2226 	C$fb_lpc922.c$492$3$5 ==.
                           2227 ;	../fb_lpc922.c:492: telegramm[5]=mem_length+0x63;		// DRL (Anzahl Bytes + 3)
   063A 74 63              2228 	mov	a,#0x63
   063C 25*03              2229 	add	a,_mem_length
   063E F5*0C              2230 	mov	(_telegramm + 0x0005),a
                    0640   2231 	C$fb_lpc922.c$493$3$5 ==.
                           2232 ;	../fb_lpc922.c:493: telegramm[6]=pcount|0x42;			// eigener Paketzaehler, TCPI und ersten beiden Befehlsbits
   0640 74 42              2233 	mov	a,#0x42
   0642 45*02              2234 	orl	a,_pcount
   0644 F5*0D              2235 	mov	(_telegramm + 0x0006),a
                    0646   2236 	C$fb_lpc922.c$494$3$5 ==.
                           2237 ;	../fb_lpc922.c:494: telegramm[7]=mem_length|0x40;		// letzten 2 Befehlsbits
   0646 74 40              2238 	mov	a,#0x40
   0648 45*03              2239 	orl	a,_mem_length
   064A F5*0E              2240 	mov	(_telegramm + 0x0007),a
                    064C   2241 	C$fb_lpc922.c$495$3$5 ==.
                           2242 ;	../fb_lpc922.c:495: telegramm[8]=mem_adrh;
   064C 85*04*0F           2243 	mov	(_telegramm + 0x0008),_mem_adrh
                    064F   2244 	C$fb_lpc922.c$496$3$5 ==.
                           2245 ;	../fb_lpc922.c:496: telegramm[9]=mem_adrl;
   064F 85*05*10           2246 	mov	(_telegramm + 0x0009),_mem_adrl
                    0652   2247 	C$fb_lpc922.c$497$3$5 ==.
                           2248 ;	../fb_lpc922.c:497: inc_pcount=1;
   0652 D2*0F              2249 	setb	_inc_pcount
                    0654   2250 	C$fb_lpc922.c$498$3$5 ==.
                           2251 ;	../fb_lpc922.c:498: break;
                    0654   2252 	C$fb_lpc922.c$499$3$5 ==.
                           2253 ;	../fb_lpc922.c:499: case 5:	// T-disconnect (133)
   0654 80 06              2254 	sjmp	00130$
   0656                    2255 00129$:
                    0656   2256 	C$fb_lpc922.c$500$3$5 ==.
                           2257 ;	../fb_lpc922.c:500: telegramm[5]=0x60;
   0656 75*0C 60           2258 	mov	(_telegramm + 0x0005),#0x60
                    0659   2259 	C$fb_lpc922.c$501$3$5 ==.
                           2260 ;	../fb_lpc922.c:501: telegramm[6]=0x81;
   0659 75*0D 81           2261 	mov	(_telegramm + 0x0006),#0x81
                    065C   2262 	C$fb_lpc922.c$503$2$4 ==.
                           2263 ;	../fb_lpc922.c:503: }
   065C                    2264 00130$:
                    065C   2265 	C$fb_lpc922.c$504$2$4 ==.
                           2266 ;	../fb_lpc922.c:504: build_ok=1;
   065C D2*00              2267 	setb	b0
   065E                    2268 00133$:
                    065E   2269 	C$fb_lpc922.c$506$1$1 ==.
                           2270 ;	../fb_lpc922.c:506: if(repeatflag) telegramm[0]&=0xDF;		// Wiederholungsbit löschen für Wiederholtelegramm
   065E 30*00 06           2271 	jnb	b1,00135$
   0661 74 DF              2272 	mov	a,#0xDF
   0663 55*07              2273 	anl	a,_telegramm
   0665 F5*07              2274 	mov	_telegramm,a
   0667                    2275 00135$:
                    0667   2276 	C$fb_lpc922.c$507$1$1 ==.
                           2277 ;	../fb_lpc922.c:507: return(build_ok);
   0667 A2*00              2278 	mov	c,b0
   0669 85*00 81           2279 	mov	sp,_bp
   066C D0*00              2280 	pop	_bp
                    066E   2281 	C$fb_lpc922.c$508$1$1 ==.
                    066E   2282 	XG$build_tel$0$0 ==.
   066E 22                 2283 	ret
                           2284 ;------------------------------------------------------------
                           2285 ;Allocation info for local variables in function 'send_obj_value'
                           2286 ;------------------------------------------------------------
                           2287 ;objno                     Allocated to registers r7 
                           2288 ;success                   Allocated to registers b0 
                           2289 ;------------------------------------------------------------
                    066F   2290 	G$send_obj_value$0$0 ==.
                    066F   2291 	C$fb_lpc922.c$511$1$1 ==.
                           2292 ;	../fb_lpc922.c:511: __bit send_obj_value(unsigned char objno)
                           2293 ;	-----------------------------------------
                           2294 ;	 function send_obj_value
                           2295 ;	-----------------------------------------
   066F                    2296 _send_obj_value:
   066F AF 82              2297 	mov	r7,dpl
                    0671   2298 	C$fb_lpc922.c$513$1$1 ==.
                           2299 ;	../fb_lpc922.c:513: __bit success=0;
   0671 C2*00              2300 	clr	b0
                    0673   2301 	C$fb_lpc922.c$515$1$1 ==.
                           2302 ;	../fb_lpc922.c:515: if(tx_nextsend!=((tx_nextwrite+1)&0x07)) {
   0673 AD*2C              2303 	mov	r5,_tx_nextwrite
   0675 7E 00              2304 	mov	r6,#0x00
   0677 0D                 2305 	inc	r5
   0678 BD 00 01           2306 	cjne	r5,#0x00,00106$
   067B 0E                 2307 	inc	r6
   067C                    2308 00106$:
   067C 53 05 07           2309 	anl	ar5,#0x07
   067F 7E 00              2310 	mov	r6,#0x00
   0681 AB*2D              2311 	mov	r3,_tx_nextsend
   0683 7C 00              2312 	mov	r4,#0x00
   0685 EB                 2313 	mov	a,r3
   0686 B5 05 06           2314 	cjne	a,ar5,00107$
   0689 EC                 2315 	mov	a,r4
   068A B5 06 02           2316 	cjne	a,ar6,00107$
   068D 80 0E              2317 	sjmp	00102$
   068F                    2318 00107$:
                    068F   2319 	C$fb_lpc922.c$516$2$2 ==.
                           2320 ;	../fb_lpc922.c:516: tx_buffer[tx_nextwrite]=objno;
   068F E5*2C              2321 	mov	a,_tx_nextwrite
   0691 24r1E              2322 	add	a,#_tx_buffer
   0693 F8                 2323 	mov	r0,a
   0694 A6 07              2324 	mov	@r0,ar7
                    0696   2325 	C$fb_lpc922.c$517$2$2 ==.
                           2326 ;	../fb_lpc922.c:517: tx_nextwrite++;
   0696 05*2C              2327 	inc	_tx_nextwrite
                    0698   2328 	C$fb_lpc922.c$518$2$2 ==.
                           2329 ;	../fb_lpc922.c:518: tx_nextwrite&=0x07;
   0698 53*2C 07           2330 	anl	_tx_nextwrite,#0x07
                    069B   2331 	C$fb_lpc922.c$519$2$2 ==.
                           2332 ;	../fb_lpc922.c:519: success=1;
   069B D2*00              2333 	setb	b0
   069D                    2334 00102$:
                    069D   2335 	C$fb_lpc922.c$521$1$1 ==.
                           2336 ;	../fb_lpc922.c:521: TR1=1;	// statemachine starten falls vorher in state 0 gestoppt
   069D D2 8E              2337 	setb	_TCON_6
                    069F   2338 	C$fb_lpc922.c$522$1$1 ==.
                           2339 ;	../fb_lpc922.c:522: return(success);
   069F A2*00              2340 	mov	c,b0
                    06A1   2341 	C$fb_lpc922.c$523$1$1 ==.
                    06A1   2342 	XG$send_obj_value$0$0 ==.
   06A1 22                 2343 	ret
                           2344 ;------------------------------------------------------------
                           2345 ;Allocation info for local variables in function 'process_tel'
                           2346 ;------------------------------------------------------------
                           2347 ;tpdu                      Allocated to registers r6 
                           2348 ;apdu                      Allocated to registers r5 
                           2349 ;------------------------------------------------------------
                    06A2   2350 	G$process_tel$0$0 ==.
                    06A2   2351 	C$fb_lpc922.c$528$1$1 ==.
                           2352 ;	../fb_lpc922.c:528: void process_tel(void)
                           2353 ;	-----------------------------------------
                           2354 ;	 function process_tel
                           2355 ;	-----------------------------------------
   06A2                    2356 _process_tel:
                    06A2   2357 	C$fb_lpc922.c$532$1$1 ==.
                           2358 ;	../fb_lpc922.c:532: tel_arrived=0;
   06A2 C2*06              2359 	clr	_tel_arrived
                    06A4   2360 	C$fb_lpc922.c$533$1$1 ==.
                           2361 ;	../fb_lpc922.c:533: tpdu=telegramm[6]&0xC3;
   06A4 AF*0D              2362 	mov	r7,(_telegramm + 0x0006)
   06A6 74 C3              2363 	mov	a,#0xC3
   06A8 5F                 2364 	anl	a,r7
   06A9 FE                 2365 	mov	r6,a
                    06AA   2366 	C$fb_lpc922.c$534$1$1 ==.
                           2367 ;	../fb_lpc922.c:534: apdu=telegramm[7];
   06AA AD*0E              2368 	mov	r5,(_telegramm + 0x0007)
                    06AC   2369 	C$fb_lpc922.c$537$1$1 ==.
                           2370 ;	../fb_lpc922.c:537: if(telegramm[3]==0 && telegramm[4]==0) {	// nur wenn wenn Zieladresse = 0
   06AC E5*0A              2371 	mov	a,(_telegramm + 0x0003)
   06AE FC                 2372 	mov	r4,a
   06AF 70 34              2373 	jnz	00144$
   06B1 E5*0B              2374 	mov	a,(_telegramm + 0x0004)
   06B3 70 30              2375 	jnz	00144$
                    06B5   2376 	C$fb_lpc922.c$538$2$2 ==.
                           2377 ;	../fb_lpc922.c:538: if(status60 & 0x01) {					// und nur im prog mode
   06B5 E5*2E              2378 	mov	a,_status60
   06B7 20 E0 03           2379 	jb	acc.0,00178$
   06BA 02s07rBC           2380 	ljmp	00147$
   06BD                    2381 00178$:
                    06BD   2382 	C$fb_lpc922.c$539$3$3 ==.
                           2383 ;	../fb_lpc922.c:539: if(tpdu==BROADCAST_PDU_SET_PA_REQ && apdu==SET_PHYSADDR_REQUEST) set_pa();				// 00000000 11000000
   06BD EE                 2384 	mov	a,r6
   06BE 70 0E              2385 	jnz	00102$
   06C0 BD C0 0B           2386 	cjne	r5,#0xC0,00102$
   06C3 C0 06              2387 	push	ar6
   06C5 C0 05              2388 	push	ar5
   06C7 12s08r9D           2389 	lcall	_set_pa
   06CA D0 05              2390 	pop	ar5
   06CC D0 06              2391 	pop	ar6
   06CE                    2392 00102$:
                    06CE   2393 	C$fb_lpc922.c$540$3$3 ==.
                           2394 ;	../fb_lpc922.c:540: if(tpdu==BROADCAST_PDU_READ_PA && apdu==READ_PHYSADDR_REQUEST) send_obj_value(READ_PHYSADDR_RESPONSE);	// 00000001 00000000
   06CE BE 01 02           2395 	cjne	r6,#0x01,00182$
   06D1 80 03              2396 	sjmp	00183$
   06D3                    2397 00182$:
   06D3 02s07rBC           2398 	ljmp	00147$
   06D6                    2399 00183$:
   06D6 ED                 2400 	mov	a,r5
   06D7 60 03              2401 	jz	00184$
   06D9 02s07rBC           2402 	ljmp	00147$
   06DC                    2403 00184$:
   06DC 75 82 83           2404 	mov	dpl,#0x83
   06DF 12s06r6F           2405 	lcall	_send_obj_value
   06E2 02s07rBC           2406 	ljmp	00147$
   06E5                    2407 00144$:
                    06E5   2408 	C$fb_lpc922.c$545$2$4 ==.
                           2409 ;	../fb_lpc922.c:545: if((telegramm[5]&0x80)==0x00) {	// Destination Adress Flag Bit 7, 0=phys. Adr., 1=Gruppenadr.
   06E5 E5*0C              2410 	mov	a,(_telegramm + 0x0005)
   06E7 30 E7 03           2411 	jnb	acc.7,00185$
   06EA 02s07rA5           2412 	ljmp	00141$
   06ED                    2413 00185$:
                    06ED   2414 	C$fb_lpc922.c$546$3$5 ==.
                           2415 ;	../fb_lpc922.c:546: if(telegramm[3]==eeprom[ADDRTAB+1] && telegramm[4]==eeprom[ADDRTAB+2]) {	// nur wenn es die eigene phys. Adr. ist
   06ED 90 1D 17           2416 	mov	dptr,#(_eeprom + 0x0017)
   06F0 E4                 2417 	clr	a
   06F1 93                 2418 	movc	a,@a+dptr
   06F2 FB                 2419 	mov	r3,a
   06F3 EC                 2420 	mov	a,r4
   06F4 B5 03 02           2421 	cjne	a,ar3,00186$
   06F7 80 03              2422 	sjmp	00187$
   06F9                    2423 00186$:
   06F9 02s07rBC           2424 	ljmp	00147$
   06FC                    2425 00187$:
   06FC 90 1D 18           2426 	mov	dptr,#(_eeprom + 0x0018)
   06FF E4                 2427 	clr	a
   0700 93                 2428 	movc	a,@a+dptr
   0701 FC                 2429 	mov	r4,a
   0702 B5*0B 02           2430 	cjne	a,(_telegramm + 0x0004),00188$
   0705 80 03              2431 	sjmp	00189$
   0707                    2432 00188$:
   0707 02s07rBC           2433 	ljmp	00147$
   070A                    2434 00189$:
                    070A   2435 	C$fb_lpc922.c$550$4$6 ==.
                           2436 ;	../fb_lpc922.c:550: switch (tpdu) {	// transport layer control field
   070A BE 42 02           2437 	cjne	r6,#0x42,00190$
   070D 80 17              2438 	sjmp	00109$
   070F                    2439 00190$:
   070F BE 43 02           2440 	cjne	r6,#0x43,00191$
   0712 80 4A              2441 	sjmp	00116$
   0714                    2442 00191$:
   0714 BE 80 02           2443 	cjne	r6,#0x80,00192$
   0717 80 61              2444 	sjmp	00121$
   0719                    2445 00192$:
   0719 BE 81 02           2446 	cjne	r6,#0x81,00193$
   071C 80 6E              2447 	sjmp	00124$
   071E                    2448 00193$:
   071E BE 83 02           2449 	cjne	r6,#0x83,00194$
   0721 80 7A              2450 	sjmp	00129$
   0723                    2451 00194$:
   0723 02s07rBC           2452 	ljmp	00147$
                    0726   2453 	C$fb_lpc922.c$552$5$7 ==.
                           2454 ;	../fb_lpc922.c:552: case DATA_PDU_MEMORY_OPERATIONS:
   0726                    2455 00109$:
                    0726   2456 	C$fb_lpc922.c$553$5$7 ==.
                           2457 ;	../fb_lpc922.c:553: if(connected){ 
   0726 20*0E 03           2458 	jb	_connected,00195$
   0729 02s07rBC           2459 	ljmp	00147$
   072C                    2460 00195$:
                    072C   2461 	C$fb_lpc922.c$554$6$8 ==.
                           2462 ;	../fb_lpc922.c:554: senders_pcount=telegramm[6]&0x3C;
   072C 74 3C              2463 	mov	a,#0x3C
   072E 5F                 2464 	anl	a,r7
   072F F5*06              2465 	mov	_senders_pcount,a
                    0731   2466 	C$fb_lpc922.c$555$6$8 ==.
                           2467 ;	../fb_lpc922.c:555: apdu &= 0xF0;						// da bei memory operations nur obere 4 Bits aktiv
   0731 53 05 F0           2468 	anl	ar5,#0xF0
                    0734   2469 	C$fb_lpc922.c$556$6$8 ==.
                           2470 ;	../fb_lpc922.c:556: if(apdu==WRITE_MEMORY_REQUEST) {	// 01pppp10 1000xxxx
   0734 BD 80 0D           2471 	cjne	r5,#0x80,00111$
                    0737   2472 	C$fb_lpc922.c$557$7$9 ==.
                           2473 ;	../fb_lpc922.c:557: send_obj_value(NCD_ACK);
   0737 75 82 81           2474 	mov	dpl,#0x81
   073A C0 05              2475 	push	ar5
   073C 12s06r6F           2476 	lcall	_send_obj_value
                    073F   2477 	C$fb_lpc922.c$558$7$9 ==.
                           2478 ;	../fb_lpc922.c:558: write_memory();
   073F 12s07rBD           2479 	lcall	_write_memory
   0742 D0 05              2480 	pop	ar5
   0744                    2481 00111$:
                    0744   2482 	C$fb_lpc922.c$560$6$8 ==.
                           2483 ;	../fb_lpc922.c:560: if(apdu==READ_MEMORY_REQUEST) {		// 01pppp10 0000xxxx
   0744 ED                 2484 	mov	a,r5
   0745 70 75              2485 	jnz	00147$
                    0747   2486 	C$fb_lpc922.c$561$7$10 ==.
                           2487 ;	../fb_lpc922.c:561: mem_length=telegramm[7];		// Anzahl Bytes für späteres(!) memory Auslesen
   0747 85*0E*03           2488 	mov	_mem_length,(_telegramm + 0x0007)
                    074A   2489 	C$fb_lpc922.c$562$7$10 ==.
                           2490 ;	../fb_lpc922.c:562: mem_adrh = telegramm[8];		// Adresse
   074A 85*0F*04           2491 	mov	_mem_adrh,(_telegramm + 0x0008)
                    074D   2492 	C$fb_lpc922.c$563$7$10 ==.
                           2493 ;	../fb_lpc922.c:563: mem_adrl = telegramm[9];
   074D 85*10*05           2494 	mov	_mem_adrl,(_telegramm + 0x0009)
                    0750   2495 	C$fb_lpc922.c$564$7$10 ==.
                           2496 ;	../fb_lpc922.c:564: send_obj_value(NCD_ACK);
   0750 75 82 81           2497 	mov	dpl,#0x81
   0753 12s06r6F           2498 	lcall	_send_obj_value
                    0756   2499 	C$fb_lpc922.c$565$7$10 ==.
                           2500 ;	../fb_lpc922.c:565: send_obj_value(READ_MEMORY_RESPONSE);
   0756 75 82 84           2501 	mov	dpl,#0x84
   0759 12s06r6F           2502 	lcall	_send_obj_value
                    075C   2503 	C$fb_lpc922.c$568$5$7 ==.
                           2504 ;	../fb_lpc922.c:568: break;
                    075C   2505 	C$fb_lpc922.c$570$5$7 ==.
                           2506 ;	../fb_lpc922.c:570: case DATA_PDU_MISC_OPERATIONS:
   075C 80 5E              2507 	sjmp	00147$
   075E                    2508 00116$:
                    075E   2509 	C$fb_lpc922.c$571$5$7 ==.
                           2510 ;	../fb_lpc922.c:571: senders_pcount=telegramm[6]&0x3C;
   075E 74 3C              2511 	mov	a,#0x3C
   0760 5F                 2512 	anl	a,r7
   0761 F5*06              2513 	mov	_senders_pcount,a
                    0763   2514 	C$fb_lpc922.c$572$5$7 ==.
                           2515 ;	../fb_lpc922.c:572: if(apdu==RESTART_REQUEST) {		// 01pppp11 10000000
   0763 BD 80 03           2516 	cjne	r5,#0x80,00118$
                    0766   2517 	C$fb_lpc922.c$573$6$11 ==.
                           2518 ;	../fb_lpc922.c:573: AUXR1|=0x08;				// Software Reset
   0766 43 A2 08           2519 	orl	_AUXR1,#0x08
   0769                    2520 00118$:
                    0769   2521 	C$fb_lpc922.c$575$5$7 ==.
                           2522 ;	../fb_lpc922.c:575: if(apdu==READ_MASK_VERSION_REQUEST) {		// 01pppp11 00000000
   0769 ED                 2523 	mov	a,r5
   076A 70 50              2524 	jnz	00147$
                    076C   2525 	C$fb_lpc922.c$576$6$12 ==.
                           2526 ;	../fb_lpc922.c:576: send_obj_value(NCD_ACK);
   076C 75 82 81           2527 	mov	dpl,#0x81
   076F 12s06r6F           2528 	lcall	_send_obj_value
                    0772   2529 	C$fb_lpc922.c$577$6$12 ==.
                           2530 ;	../fb_lpc922.c:577: send_obj_value(READ_MASK_VERSION_RESPONSE);
   0772 75 82 82           2531 	mov	dpl,#0x82
   0775 12s06r6F           2532 	lcall	_send_obj_value
                    0778   2533 	C$fb_lpc922.c$579$5$7 ==.
                           2534 ;	../fb_lpc922.c:579: break;
                    0778   2535 	C$fb_lpc922.c$581$5$7 ==.
                           2536 ;	../fb_lpc922.c:581: case CONNECT_PDU:	// 10000000 xxxxxxxx
   0778 80 42              2537 	sjmp	00147$
   077A                    2538 00121$:
                    077A   2539 	C$fb_lpc922.c$582$5$7 ==.
                           2540 ;	../fb_lpc922.c:582: if(!connected) {				// wenn bereits verbunden: ignorieren
   077A 20*0E 3F           2541 	jb	_connected,00147$
                    077D   2542 	C$fb_lpc922.c$583$6$13 ==.
                           2543 ;	../fb_lpc922.c:583: connected=1;
   077D D2*0E              2544 	setb	_connected
                    077F   2545 	C$fb_lpc922.c$584$6$13 ==.
                           2546 ;	../fb_lpc922.c:584: conh=telegramm[1];			// phys. Adresse des Verbindungspartners
   077F 85*08*00           2547 	mov	_conh,(_telegramm + 0x0001)
                    0782   2548 	C$fb_lpc922.c$585$6$13 ==.
                           2549 ;	../fb_lpc922.c:585: conl=telegramm[2];
   0782 85*09*01           2550 	mov	_conl,(_telegramm + 0x0002)
                    0785   2551 	C$fb_lpc922.c$586$6$13 ==.
                           2552 ;	../fb_lpc922.c:586: pcount=0;					// Paketzaehler zuruecksetzen
   0785 75*02 00           2553 	mov	_pcount,#0x00
                    0788   2554 	C$fb_lpc922.c$587$6$13 ==.
                           2555 ;	../fb_lpc922.c:587: inc_pcount=0;
   0788 C2*0F              2556 	clr	_inc_pcount
                    078A   2557 	C$fb_lpc922.c$589$5$7 ==.
                           2558 ;	../fb_lpc922.c:589: break;
                    078A   2559 	C$fb_lpc922.c$591$5$7 ==.
                           2560 ;	../fb_lpc922.c:591: case DISCONNECT_PDU:	// 10000001 xxxxxxxx
   078A 80 30              2561 	sjmp	00147$
   078C                    2562 00124$:
                    078C   2563 	C$fb_lpc922.c$592$5$7 ==.
                           2564 ;	../fb_lpc922.c:592: if(conh==telegramm[1] && conl==telegramm[2] && connected)	{	// nur abbauen, wenn verbunden und Anforderung vom Verbindungspartner, kein ACK senden
   078C E5*08              2565 	mov	a,(_telegramm + 0x0001)
   078E B5*00 2B           2566 	cjne	a,_conh,00147$
   0791 E5*09              2567 	mov	a,(_telegramm + 0x0002)
   0793 B5*01 26           2568 	cjne	a,_conl,00147$
                    0796   2569 	C$fb_lpc922.c$593$6$14 ==.
                           2570 ;	../fb_lpc922.c:593: connected=0;
   0796 10*0E 02           2571 	jbc	_connected,00207$
   0799 80 21              2572 	sjmp	00147$
   079B                    2573 00207$:
                    079B   2574 	C$fb_lpc922.c$597$5$7 ==.
                           2575 ;	../fb_lpc922.c:597: break;
                    079B   2576 	C$fb_lpc922.c$599$5$7 ==.
                           2577 ;	../fb_lpc922.c:599: case NACK_PDU:	// 11pppp11 xxxxxxxx
   079B 80 1F              2578 	sjmp	00147$
   079D                    2579 00129$:
                    079D   2580 	C$fb_lpc922.c$600$5$7 ==.
                           2581 ;	../fb_lpc922.c:600: send_obj_value(T_DISCONNECT);
   079D 75 82 85           2582 	mov	dpl,#0x85
   07A0 12s06r6F           2583 	lcall	_send_obj_value
                    07A3   2584 	C$fb_lpc922.c$602$2$4 ==.
                           2585 ;	../fb_lpc922.c:602: }
   07A3 80 17              2586 	sjmp	00147$
   07A5                    2587 00141$:
                    07A5   2588 	C$fb_lpc922.c$608$3$15 ==.
                           2589 ;	../fb_lpc922.c:608: if(tpdu==GROUP_PDU){
   07A5 EE                 2590 	mov	a,r6
   07A6 70 14              2591 	jnz	00147$
                    07A8   2592 	C$fb_lpc922.c$609$4$16 ==.
                           2593 ;	../fb_lpc922.c:609: if((apdu&0xC0)==WRITE_GROUP) write_value_req();	// Objektwerte schreiben (zB. EISx)		00000000 10xxxxxx
   07A8 74 C0              2594 	mov	a,#0xC0
   07AA 5D                 2595 	anl	a,r5
   07AB FF                 2596 	mov	r7,a
   07AC BF 80 07           2597 	cjne	r7,#0x80,00135$
   07AF C0 05              2598 	push	ar5
   07B1 12s00r00           2599 	lcall	_write_value_req
   07B4 D0 05              2600 	pop	ar5
   07B6                    2601 00135$:
                    07B6   2602 	C$fb_lpc922.c$610$4$16 ==.
                           2603 ;	../fb_lpc922.c:610: if(apdu==READ_GROUP_REQUEST) read_value_req();	// Objektwert lesen und read_value_response senden	00000000 00000000
   07B6 ED                 2604 	mov	a,r5
   07B7 70 03              2605 	jnz	00147$
   07B9 12s00r00           2606 	lcall	_read_value_req
   07BC                    2607 00147$:
                    07BC   2608 	C$fb_lpc922.c$614$1$1 ==.
                    07BC   2609 	XG$process_tel$0$0 ==.
   07BC 22                 2610 	ret
                           2611 ;------------------------------------------------------------
                           2612 ;Allocation info for local variables in function 'write_memory'
                           2613 ;------------------------------------------------------------
                           2614 ;ab                        Allocated to stack - _bp +1
                           2615 ;n                         Allocated to stack - _bp +2
                           2616 ;sloc0                     Allocated to stack - _bp +3
                           2617 ;------------------------------------------------------------
                    07BD   2618 	G$write_memory$0$0 ==.
                    07BD   2619 	C$fb_lpc922.c$621$1$1 ==.
                           2620 ;	../fb_lpc922.c:621: void write_memory(void)
                           2621 ;	-----------------------------------------
                           2622 ;	 function write_memory
                           2623 ;	-----------------------------------------
   07BD                    2624 _write_memory:
   07BD C0*00              2625 	push	_bp
   07BF E5 81              2626 	mov	a,sp
   07C1 F5*00              2627 	mov	_bp,a
   07C3 24 04              2628 	add	a,#0x04
   07C5 F5 81              2629 	mov	sp,a
                    07C7   2630 	C$fb_lpc922.c$625$1$1 ==.
                           2631 ;	../fb_lpc922.c:625: ab=telegramm[7]&0x0F;		// Anzahl Bytes
   07C7 A8*00              2632 	mov	r0,_bp
   07C9 08                 2633 	inc	r0
   07CA 74 0F              2634 	mov	a,#0x0F
   07CC 55*0E              2635 	anl	a,(_telegramm + 0x0007)
   07CE F6                 2636 	mov	@r0,a
                    07CF   2637 	C$fb_lpc922.c$627$1$1 ==.
                           2638 ;	../fb_lpc922.c:627: while(fb_state!=0);					// warten falls noch gesendet wird
   07CF                    2639 00101$:
   07CF E5*2A              2640 	mov	a,_fb_state
   07D1 70 FC              2641 	jnz	00101$
                    07D3   2642 	C$fb_lpc922.c$629$1$1 ==.
                           2643 ;	../fb_lpc922.c:629: EA=0;
   07D3 C2 AF              2644 	clr	_IEN0_7
                    07D5   2645 	C$fb_lpc922.c$630$1$1 ==.
                           2646 ;	../fb_lpc922.c:630: START_WRITECYCLE;					// load command, leert das pageregister
   07D5 75 E4 00           2647 	mov	_FMCON,#0x00
                    07D8   2648 	C$fb_lpc922.c$631$2$2 ==.
                           2649 ;	../fb_lpc922.c:631: for(n=0;n<ab;n++) {
   07D8 AE*10              2650 	mov	r6,(_telegramm + 0x0009)
   07DA AD*0F              2651 	mov	r5,(_telegramm + 0x0008)
   07DC 74 01              2652 	mov	a,#0x01
   07DE 5D                 2653 	anl	a,r5
   07DF 24 1C              2654 	add	a,#0x1C
   07E1 FC                 2655 	mov	r4,a
   07E2 A8*00              2656 	mov	r0,_bp
   07E4 08                 2657 	inc	r0
   07E5 08                 2658 	inc	r0
   07E6 76 00              2659 	mov	@r0,#0x00
   07E8                    2660 00111$:
   07E8 A8*00              2661 	mov	r0,_bp
   07EA 08                 2662 	inc	r0
   07EB 08                 2663 	inc	r0
   07EC A9*00              2664 	mov	r1,_bp
   07EE 09                 2665 	inc	r1
   07EF C3                 2666 	clr	c
   07F0 E6                 2667 	mov	a,@r0
   07F1 97                 2668 	subb	a,@r1
   07F2 40 03              2669 	jc	00127$
   07F4 02s08r92           2670 	ljmp	00114$
   07F7                    2671 00127$:
                    07F7   2672 	C$fb_lpc922.c$632$2$2 ==.
                           2673 ;	../fb_lpc922.c:632: if(telegramm[8]==0 && (telegramm[9]+n)==0x60) status60=telegramm[10+n];
   07F7 ED                 2674 	mov	a,r5
   07F8 70 30              2675 	jnz	00105$
   07FA C0 04              2676 	push	ar4
   07FC 8E 02              2677 	mov	ar2,r6
   07FE 7C 00              2678 	mov	r4,#0x00
   0800 A8*00              2679 	mov	r0,_bp
   0802 08                 2680 	inc	r0
   0803 08                 2681 	inc	r0
   0804 86 03              2682 	mov	ar3,@r0
   0806 7F 00              2683 	mov	r7,#0x00
   0808 EB                 2684 	mov	a,r3
   0809 2A                 2685 	add	a,r2
   080A FA                 2686 	mov	r2,a
   080B EF                 2687 	mov	a,r7
   080C 3C                 2688 	addc	a,r4
   080D FC                 2689 	mov	r4,a
   080E BA 60 05           2690 	cjne	r2,#0x60,00129$
   0811 BC 00 02           2691 	cjne	r4,#0x00,00129$
   0814 80 04              2692 	sjmp	00130$
   0816                    2693 00129$:
   0816 D0 04              2694 	pop	ar4
   0818 80 10              2695 	sjmp	00105$
   081A                    2696 00130$:
   081A D0 04              2697 	pop	ar4
   081C A8*00              2698 	mov	r0,_bp
   081E 08                 2699 	inc	r0
   081F 08                 2700 	inc	r0
   0820 74 0A              2701 	mov	a,#0x0A
   0822 26                 2702 	add	a,@r0
   0823 24r07              2703 	add	a,#_telegramm
   0825 F9                 2704 	mov	r1,a
   0826 87*2E              2705 	mov	_status60,@r1
   0828 80 02              2706 	sjmp	00106$
   082A                    2707 00105$:
                    082A   2708 	C$fb_lpc922.c$633$2$2 ==.
                           2709 ;	../fb_lpc922.c:633: else WRITE_BYTE(telegramm[8],telegramm[9]+n,telegramm[n+10]);
   082A 8C E7              2710 	mov	_FMADRH,r4
   082C                    2711 00106$:
   082C A8*00              2712 	mov	r0,_bp
   082E 08                 2713 	inc	r0
   082F 08                 2714 	inc	r0
   0830 E6                 2715 	mov	a,@r0
   0831 2E                 2716 	add	a,r6
   0832 F5 E6              2717 	mov	_FMADRL,a
   0834 A8*00              2718 	mov	r0,_bp
   0836 08                 2719 	inc	r0
   0837 08                 2720 	inc	r0
   0838 74 0A              2721 	mov	a,#0x0A
   083A 26                 2722 	add	a,@r0
   083B 24r07              2723 	add	a,#_telegramm
   083D F9                 2724 	mov	r1,a
   083E 87 E5              2725 	mov	_FMDATA,@r1
                    0840   2726 	C$fb_lpc922.c$635$2$2 ==.
                           2727 ;	../fb_lpc922.c:635: if ((((telegramm[9]+n)&0x3F)==0x3F) && n!=(ab-1)) {		// Ende des 64-Byte Pageregisters, also zwischendurch flashen
   0840 8E 03              2728 	mov	ar3,r6
   0842 7F 00              2729 	mov	r7,#0x00
   0844 A8*00              2730 	mov	r0,_bp
   0846 08                 2731 	inc	r0
   0847 08                 2732 	inc	r0
   0848 E5*00              2733 	mov	a,_bp
   084A 24 03              2734 	add	a,#0x03
   084C F9                 2735 	mov	r1,a
   084D E6                 2736 	mov	a,@r0
   084E F7                 2737 	mov	@r1,a
   084F 09                 2738 	inc	r1
   0850 77 00              2739 	mov	@r1,#0x00
   0852 E5*00              2740 	mov	a,_bp
   0854 24 03              2741 	add	a,#0x03
   0856 F8                 2742 	mov	r0,a
   0857 E6                 2743 	mov	a,@r0
   0858 2B                 2744 	add	a,r3
   0859 FB                 2745 	mov	r3,a
   085A 08                 2746 	inc	r0
   085B E6                 2747 	mov	a,@r0
   085C 3F                 2748 	addc	a,r7
   085D 53 03 3F           2749 	anl	ar3,#0x3F
   0860 7F 00              2750 	mov	r7,#0x00
   0862 BB 3F 25           2751 	cjne	r3,#0x3F,00113$
   0865 BF 00 22           2752 	cjne	r7,#0x00,00113$
   0868 A8*00              2753 	mov	r0,_bp
   086A 08                 2754 	inc	r0
   086B 86 03              2755 	mov	ar3,@r0
   086D 7F 00              2756 	mov	r7,#0x00
   086F 1B                 2757 	dec	r3
   0870 BB FF 01           2758 	cjne	r3,#0xFF,00133$
   0873 1F                 2759 	dec	r7
   0874                    2760 00133$:
   0874 E5*00              2761 	mov	a,_bp
   0876 24 03              2762 	add	a,#0x03
   0878 F8                 2763 	mov	r0,a
   0879 E6                 2764 	mov	a,@r0
   087A B5 03 07           2765 	cjne	a,ar3,00134$
   087D 08                 2766 	inc	r0
   087E E6                 2767 	mov	a,@r0
   087F B5 07 02           2768 	cjne	a,ar7,00134$
   0882 80 06              2769 	sjmp	00113$
   0884                    2770 00134$:
                    0884   2771 	C$fb_lpc922.c$636$3$3 ==.
                           2772 ;	../fb_lpc922.c:636: STOP_WRITECYCLE;			// write command, schreibt pageregister ins flash und versetzt CPU in idle fuer 4ms
   0884 75 E4 68           2773 	mov	_FMCON,#0x68
                    0887   2774 	C$fb_lpc922.c$637$3$3 ==.
                           2775 ;	../fb_lpc922.c:637: START_WRITECYCLE;		// load command, leert das pageregister
   0887 75 E4 00           2776 	mov	_FMCON,#0x00
   088A                    2777 00113$:
                    088A   2778 	C$fb_lpc922.c$631$1$1 ==.
                           2779 ;	../fb_lpc922.c:631: for(n=0;n<ab;n++) {
   088A A8*00              2780 	mov	r0,_bp
   088C 08                 2781 	inc	r0
   088D 08                 2782 	inc	r0
   088E 06                 2783 	inc	@r0
   088F 02s07rE8           2784 	ljmp	00111$
   0892                    2785 00114$:
                    0892   2786 	C$fb_lpc922.c$640$1$1 ==.
                           2787 ;	../fb_lpc922.c:640: STOP_WRITECYCLE;					// write command, schreibt pageregister ins flash und versetzt CPU in idle fuer 4ms
   0892 75 E4 68           2788 	mov	_FMCON,#0x68
                    0895   2789 	C$fb_lpc922.c$641$1$1 ==.
                           2790 ;	../fb_lpc922.c:641: EA=1;
   0895 D2 AF              2791 	setb	_IEN0_7
   0897 85*00 81           2792 	mov	sp,_bp
   089A D0*00              2793 	pop	_bp
                    089C   2794 	C$fb_lpc922.c$642$1$1 ==.
                    089C   2795 	XG$write_memory$0$0 ==.
   089C 22                 2796 	ret
                           2797 ;------------------------------------------------------------
                           2798 ;Allocation info for local variables in function 'set_pa'
                           2799 ;------------------------------------------------------------
                    089D   2800 	G$set_pa$0$0 ==.
                    089D   2801 	C$fb_lpc922.c$646$1$1 ==.
                           2802 ;	../fb_lpc922.c:646: void set_pa(void)
                           2803 ;	-----------------------------------------
                           2804 ;	 function set_pa
                           2805 ;	-----------------------------------------
   089D                    2806 _set_pa:
                    089D   2807 	C$fb_lpc922.c$648$1$1 ==.
                           2808 ;	../fb_lpc922.c:648: while(fb_state!=0);		// warten falls noch gesendet wird
   089D                    2809 00101$:
   089D E5*2A              2810 	mov	a,_fb_state
   089F 70 FC              2811 	jnz	00101$
                    08A1   2812 	C$fb_lpc922.c$649$1$1 ==.
                           2813 ;	../fb_lpc922.c:649: EA=0;
   08A1 C2 AF              2814 	clr	_IEN0_7
                    08A3   2815 	C$fb_lpc922.c$650$1$1 ==.
                           2816 ;	../fb_lpc922.c:650: FMCON=0x00;				// load command, leert das pageregister
   08A3 75 E4 00           2817 	mov	_FMCON,#0x00
                    08A6   2818 	C$fb_lpc922.c$651$1$1 ==.
                           2819 ;	../fb_lpc922.c:651: FMADRH=0x1D;
   08A6 75 E7 1D           2820 	mov	_FMADRH,#0x1D
                    08A9   2821 	C$fb_lpc922.c$652$1$1 ==.
                           2822 ;	../fb_lpc922.c:652: FMADRL=ADDRTAB+1;
   08A9 75 E6 17           2823 	mov	_FMADRL,#0x17
                    08AC   2824 	C$fb_lpc922.c$653$1$1 ==.
                           2825 ;	../fb_lpc922.c:653: FMDATA=telegramm[8];
   08AC 85*0F E5           2826 	mov	_FMDATA,(_telegramm + 0x0008)
                    08AF   2827 	C$fb_lpc922.c$654$1$1 ==.
                           2828 ;	../fb_lpc922.c:654: FMDATA=telegramm[9];	// nächstes Byte, da autoinkrement
   08AF 85*10 E5           2829 	mov	_FMDATA,(_telegramm + 0x0009)
                    08B2   2830 	C$fb_lpc922.c$655$1$1 ==.
                           2831 ;	../fb_lpc922.c:655: FMCON=0x68;				// write command, schreibt pageregister ins flash und versetzt CPU in idle fuer 4ms
   08B2 75 E4 68           2832 	mov	_FMCON,#0x68
                    08B5   2833 	C$fb_lpc922.c$656$1$1 ==.
                           2834 ;	../fb_lpc922.c:656: EA=1;
   08B5 D2 AF              2835 	setb	_IEN0_7
                    08B7   2836 	C$fb_lpc922.c$657$1$1 ==.
                    08B7   2837 	XG$set_pa$0$0 ==.
   08B7 22                 2838 	ret
                           2839 ;------------------------------------------------------------
                           2840 ;Allocation info for local variables in function 'read_objflags'
                           2841 ;------------------------------------------------------------
                           2842 ;objno                     Allocated to registers r7 
                           2843 ;------------------------------------------------------------
                    08B8   2844 	G$read_objflags$0$0 ==.
                    08B8   2845 	C$fb_lpc922.c$662$1$1 ==.
                           2846 ;	../fb_lpc922.c:662: unsigned char read_objflags(unsigned char objno)
                           2847 ;	-----------------------------------------
                           2848 ;	 function read_objflags
                           2849 ;	-----------------------------------------
   08B8                    2850 _read_objflags:
   08B8 AF 82              2851 	mov	r7,dpl
                    08BA   2852 	C$fb_lpc922.c$665$1$1 ==.
                           2853 ;	../fb_lpc922.c:665: return(eeprom[eeprom[COMMSTABPTR]+3+objno+objno+objno]);
   08BA 90 1D 12           2854 	mov	dptr,#(_eeprom + 0x0012)
   08BD E4                 2855 	clr	a
   08BE 93                 2856 	movc	a,@a+dptr
   08BF FE                 2857 	mov	r6,a
   08C0 0E                 2858 	inc	r6
   08C1 0E                 2859 	inc	r6
   08C2 0E                 2860 	inc	r6
   08C3 EF                 2861 	mov	a,r7
   08C4 2E                 2862 	add	a,r6
   08C5 2F                 2863 	add	a,r7
   08C6 2F                 2864 	add	a,r7
   08C7 90 1D 00           2865 	mov	dptr,#_eeprom
   08CA 93                 2866 	movc	a,@a+dptr
                    08CB   2867 	C$fb_lpc922.c$666$1$1 ==.
                    08CB   2868 	XG$read_objflags$0$0 ==.
   08CB F5 82              2869 	mov	dpl,a
   08CD 22                 2870 	ret
                           2871 ;------------------------------------------------------------
                           2872 ;Allocation info for local variables in function 'find_first_objno'
                           2873 ;------------------------------------------------------------
                           2874 ;gal                       Allocated to stack - _bp -3
                           2875 ;gah                       Allocated to registers r7 
                           2876 ;gaposgat                  Allocated to registers r7 
                           2877 ;gaposass                  Allocated to registers r2 
                           2878 ;atp                       Allocated to registers r5 
                           2879 ;assmax                    Allocated to registers r4 
                           2880 ;n                         Allocated to registers r3 
                           2881 ;objno                     Allocated to registers r6 
                           2882 ;asspos                    Allocated to registers r5 
                           2883 ;------------------------------------------------------------
                    08CE   2884 	G$find_first_objno$0$0 ==.
                    08CE   2885 	C$fb_lpc922.c$670$1$1 ==.
                           2886 ;	../fb_lpc922.c:670: unsigned char find_first_objno(unsigned char gah, unsigned char gal)
                           2887 ;	-----------------------------------------
                           2888 ;	 function find_first_objno
                           2889 ;	-----------------------------------------
   08CE                    2890 _find_first_objno:
   08CE C0*00              2891 	push	_bp
   08D0 85 81*00           2892 	mov	_bp,sp
   08D3 AF 82              2893 	mov	r7,dpl
                    08D5   2894 	C$fb_lpc922.c$674$1$1 ==.
                           2895 ;	../fb_lpc922.c:674: objno=0xFF;
   08D5 7E FF              2896 	mov	r6,#0xFF
                    08D7   2897 	C$fb_lpc922.c$675$1$1 ==.
                           2898 ;	../fb_lpc922.c:675: gaposgat=gapos_in_gat(gah,gal);
   08D7 C0 06              2899 	push	ar6
   08D9 E5*00              2900 	mov	a,_bp
   08DB 24 FD              2901 	add	a,#0xfd
   08DD F8                 2902 	mov	r0,a
   08DE E6                 2903 	mov	a,@r0
   08DF C0 E0              2904 	push	acc
   08E1 8F 82              2905 	mov	dpl,r7
   08E3 12s03rE2           2906 	lcall	_gapos_in_gat
   08E6 AF 82              2907 	mov	r7,dpl
   08E8 15 81              2908 	dec	sp
   08EA D0 06              2909 	pop	ar6
                    08EC   2910 	C$fb_lpc922.c$677$1$1 ==.
                           2911 ;	../fb_lpc922.c:677: atp=eeprom[ASSOCTABPTR];	// Pointer auf Assoziationstabelle
   08EC 90 1D 11           2912 	mov	dptr,#(_eeprom + 0x0011)
   08EF E4                 2913 	clr	a
   08F0 93                 2914 	movc	a,@a+dptr
                    08F1   2915 	C$fb_lpc922.c$678$1$1 ==.
                           2916 ;	../fb_lpc922.c:678: assmax=eeprom[atp];			// Anzahl Assoziationen
   08F1 FD                 2917 	mov	r5,a
   08F2 F5 82              2918 	mov	dpl,a
   08F4 75 83 1D           2919 	mov	dph,#(_eeprom >> 8)
   08F7 E4                 2920 	clr	a
   08F8 93                 2921 	movc	a,@a+dptr
   08F9 FC                 2922 	mov	r4,a
                    08FA   2923 	C$fb_lpc922.c$679$1$1 ==.
                           2924 ;	../fb_lpc922.c:679: if (gaposgat!=0xFF) {	// falls Gruppenadresse nicht vorhanden
   08FA BF FF 02           2925 	cjne	r7,#0xFF,00115$
   08FD 80 23              2926 	sjmp	00107$
   08FF                    2927 00115$:
                    08FF   2928 	C$fb_lpc922.c$680$2$2 ==.
                           2929 ;	../fb_lpc922.c:680: n=0;
   08FF 7B 00              2930 	mov	r3,#0x00
                    0901   2931 	C$fb_lpc922.c$681$2$2 ==.
                           2932 ;	../fb_lpc922.c:681: asspos=atp+1;
   0901 0D                 2933 	inc	r5
                    0902   2934 	C$fb_lpc922.c$682$1$1 ==.
                           2935 ;	../fb_lpc922.c:682: while(n<assmax) { 	// Schleife ueber Assoziationstabelle
   0902                    2936 00103$:
   0902 C3                 2937 	clr	c
   0903 EB                 2938 	mov	a,r3
   0904 9C                 2939 	subb	a,r4
   0905 50 1B              2940 	jnc	00107$
                    0907   2941 	C$fb_lpc922.c$683$3$3 ==.
                           2942 ;	../fb_lpc922.c:683: gaposass=eeprom[asspos];
   0907 8D 82              2943 	mov	dpl,r5
   0909 75 83 1D           2944 	mov	dph,#(_eeprom >> 8)
   090C E4                 2945 	clr	a
   090D 93                 2946 	movc	a,@a+dptr
   090E FA                 2947 	mov	r2,a
                    090F   2948 	C$fb_lpc922.c$684$3$3 ==.
                           2949 ;	../fb_lpc922.c:684: if(gaposgat==gaposass) {
   090F EF                 2950 	mov	a,r7
   0910 B5 02 0A           2951 	cjne	a,ar2,00102$
                    0913   2952 	C$fb_lpc922.c$685$4$4 ==.
                           2953 ;	../fb_lpc922.c:685: objno=eeprom[asspos+1];
   0913 ED                 2954 	mov	a,r5
   0914 04                 2955 	inc	a
   0915 90 1D 00           2956 	mov	dptr,#_eeprom
   0918 93                 2957 	movc	a,@a+dptr
   0919 FA                 2958 	mov	r2,a
   091A FE                 2959 	mov	r6,a
                    091B   2960 	C$fb_lpc922.c$686$4$4 ==.
                           2961 ;	../fb_lpc922.c:686: n=assmax;
   091B 8C 03              2962 	mov	ar3,r4
   091D                    2963 00102$:
                    091D   2964 	C$fb_lpc922.c$688$3$3 ==.
                           2965 ;	../fb_lpc922.c:688: n++;
   091D 0B                 2966 	inc	r3
                    091E   2967 	C$fb_lpc922.c$689$3$3 ==.
                           2968 ;	../fb_lpc922.c:689: asspos+=2;
   091E 0D                 2969 	inc	r5
   091F 0D                 2970 	inc	r5
   0920 80 E0              2971 	sjmp	00103$
   0922                    2972 00107$:
                    0922   2973 	C$fb_lpc922.c$692$1$1 ==.
                           2974 ;	../fb_lpc922.c:692: return (objno);
   0922 8E 82              2975 	mov	dpl,r6
   0924 D0*00              2976 	pop	_bp
                    0926   2977 	C$fb_lpc922.c$693$1$1 ==.
                    0926   2978 	XG$find_first_objno$0$0 ==.
   0926 22                 2979 	ret
                           2980 ;------------------------------------------------------------
                           2981 ;Allocation info for local variables in function 'restart_hw'
                           2982 ;------------------------------------------------------------
                    0927   2983 	G$restart_hw$0$0 ==.
                    0927   2984 	C$fb_lpc922.c$702$1$1 ==.
                           2985 ;	../fb_lpc922.c:702: void restart_hw(void)
                           2986 ;	-----------------------------------------
                           2987 ;	 function restart_hw
                           2988 ;	-----------------------------------------
   0927                    2989 _restart_hw:
                    0927   2990 	C$fb_lpc922.c$704$1$1 ==.
                           2991 ;	../fb_lpc922.c:704: DIVM=0;			// Taktferquenz nicht teilen -> volles Tempo
   0927 75 95 00           2992 	mov	_DIVM,#0x00
                    092A   2993 	C$fb_lpc922.c$706$1$1 ==.
                           2994 ;	../fb_lpc922.c:706: P1M1=0x14;		// Port 1 auf quasi-bidirektional,
   092A 75 91 14           2995 	mov	_P1M1,#0x14
                    092D   2996 	C$fb_lpc922.c$707$1$1 ==.
                           2997 ;	../fb_lpc922.c:707: P1M2=0x4C;		// ausser P1.2(T0 als PWM Ausgang)=open-drain,
   092D 75 92 4C           2998 	mov	_P1M2,#0x4C
                    0930   2999 	C$fb_lpc922.c$711$1$1 ==.
                           3000 ;	../fb_lpc922.c:711: FBOUTC=0;		// Bus-Ausgang auf low
   0930 C2 96              3001 	clr	_P1_6
                    0932   3002 	C$fb_lpc922.c$713$1$1 ==.
                           3003 ;	../fb_lpc922.c:713: TMOD=0x21;		// Timer 0 als 16-Bit Timer, Timer 1 als 8 Bit autoreload
   0932 75 89 21           3004 	mov	_TMOD,#0x21
                    0935   3005 	C$fb_lpc922.c$714$1$1 ==.
                           3006 ;	../fb_lpc922.c:714: TAMOD=0x00;
   0935 75 8F 00           3007 	mov	_TAMOD,#0x00
                    0938   3008 	C$fb_lpc922.c$715$1$1 ==.
                           3009 ;	../fb_lpc922.c:715: TR0=0;			// Timer 0 (zur Verwendung in app) zunaechst stoppen 
   0938 C2 8C              3010 	clr	_TCON_4
                    093A   3011 	C$fb_lpc922.c$716$1$1 ==.
                           3012 ;	../fb_lpc922.c:716: TR1=0;			// Timer 1 (Empfangs-Timer, nicht in app verwenden!) zunaechst stoppen
   093A C2 8E              3013 	clr	_TCON_6
                    093C   3014 	C$fb_lpc922.c$717$1$1 ==.
                           3015 ;	../fb_lpc922.c:717: TH1=128;		// Timer 1 auf 104us/3
   093C 75 8D 80           3016 	mov	_TH1,#0x80
                    093F   3017 	C$fb_lpc922.c$718$1$1 ==.
                           3018 ;	../fb_lpc922.c:718: TL1=128;
   093F 75 8B 80           3019 	mov	_TL1,#0x80
                    0942   3020 	C$fb_lpc922.c$719$1$1 ==.
                           3021 ;	../fb_lpc922.c:719: TF1=0;
   0942 C2 8F              3022 	clr	_TCON_7
                    0944   3023 	C$fb_lpc922.c$726$1$1 ==.
                           3024 ;	../fb_lpc922.c:726: interrupted=0;	// wird durch die interrupt-routine auf 1 gesetzt
   0944 C2*01              3025 	clr	_interrupted
                    0946   3026 	C$fb_lpc922.c$727$1$1 ==.
                           3027 ;	../fb_lpc922.c:727: IEN0=0x80;// mit 0x80 sind die unten auskommentierten erschlagen.
   0946 75 A8 80           3028 	mov	_IEN0,#0x80
                    0949   3029 	C$fb_lpc922.c$728$1$1 ==.
                           3030 ;	../fb_lpc922.c:728: IEN1=0x00;
   0949 75 E8 00           3031 	mov	_IEN1,#0x00
                    094C   3032 	C$fb_lpc922.c$735$1$1 ==.
                           3033 ;	../fb_lpc922.c:735: IP0=0x04;		// höchste Priorität fuer ext1
   094C 75 B8 04           3034 	mov	_IP0,#0x04
                    094F   3035 	C$fb_lpc922.c$736$1$1 ==.
                           3036 ;	../fb_lpc922.c:736: IP0H=0x0C;
   094F 75 B7 0C           3037 	mov	_IP0H,#0x0C
                    0952   3038 	C$fb_lpc922.c$737$1$1 ==.
                           3039 ;	../fb_lpc922.c:737: IT1=1;			// Interrupt 1 flankengetriggert=1
   0952 D2 8A              3040 	setb	_TCON_2
                    0954   3041 	C$fb_lpc922.c$739$1$1 ==.
                           3042 ;	../fb_lpc922.c:739: status60=0x2E;	// Status-Byte (steht normal im userram an 0x60)
   0954 75*2E 2E           3043 	mov	_status60,#0x2E
                    0957   3044 	C$fb_lpc922.c$741$1$1 ==.
                           3045 ;	../fb_lpc922.c:741: ack=0;			// ack und nack flag zurücksetzen
   0957 C2*03              3046 	clr	_ack
                    0959   3047 	C$fb_lpc922.c$742$1$1 ==.
                           3048 ;	../fb_lpc922.c:742: nack=0;
   0959 C2*04              3049 	clr	_nack
                    095B   3050 	C$fb_lpc922.c$743$1$1 ==.
                           3051 ;	../fb_lpc922.c:743: send_ack=0;
   095B C2*0B              3052 	clr	_send_ack
                    095D   3053 	C$fb_lpc922.c$744$1$1 ==.
                           3054 ;	../fb_lpc922.c:744: send_nack=0;
   095D C2*0C              3055 	clr	_send_nack
                    095F   3056 	C$fb_lpc922.c$745$1$1 ==.
                           3057 ;	../fb_lpc922.c:745: tel_arrived=0;	// kein Telegramm empfangen
   095F C2*06              3058 	clr	_tel_arrived
                    0961   3059 	C$fb_lpc922.c$746$1$1 ==.
                           3060 ;	../fb_lpc922.c:746: auto_ack=1;		// empfangene Telegramme automatisch mit ack bestätigen
   0961 D2*08              3061 	setb	_auto_ack
                    0963   3062 	C$fb_lpc922.c$747$1$1 ==.
                           3063 ;	../fb_lpc922.c:747: tx_nextwrite=0;	// Zeiger auf nächste zu schreibende Objektnr. in tx_buffer
   0963 75*2C 00           3064 	mov	_tx_nextwrite,#0x00
                    0966   3065 	C$fb_lpc922.c$748$1$1 ==.
                           3066 ;	../fb_lpc922.c:748: tx_nextsend=0;	// Zeiger auf nächste zu sendende Objektnr. in tx_buffer
   0966 75*2D 00           3067 	mov	_tx_nextsend,#0x00
                    0969   3068 	C$fb_lpc922.c$749$1$1 ==.
                           3069 ;	../fb_lpc922.c:749: pcount=0;		// Paketzaehler initialisieren
   0969 75*02 00           3070 	mov	_pcount,#0x00
                    096C   3071 	C$fb_lpc922.c$750$1$1 ==.
                           3072 ;	../fb_lpc922.c:750: inc_pcount=0;
   096C C2*0F              3073 	clr	_inc_pcount
                    096E   3074 	C$fb_lpc922.c$751$1$1 ==.
                           3075 ;	../fb_lpc922.c:751: connected=0;	// keine Verbindung
   096E C2*0E              3076 	clr	_connected
                    0970   3077 	C$fb_lpc922.c$752$1$1 ==.
                           3078 ;	../fb_lpc922.c:752: transparency=0;	// fremde Gruppentelegramme werden ignoriert
   0970 C2*0D              3079 	clr	_transparency
                    0972   3080 	C$fb_lpc922.c$753$1$1 ==.
                           3081 ;	../fb_lpc922.c:753: init_rx();		// Empfang initialisieren
   0972 12s03r6C           3082 	lcall	_init_rx
                    0975   3083 	C$fb_lpc922.c$754$1$1 ==.
                    0975   3084 	XG$restart_hw$0$0 ==.
   0975 22                 3085 	ret
                           3086 	.area CSEG    (CODE)
                           3087 	.area CONST   (CODE)
                    1C00   3088 G$userram$0$0 == 0x1c00
                    1C00   3089 _userram	=	0x1c00
                    1D00   3090 G$eeprom$0$0 == 0x1d00
                    1D00   3091 _eeprom	=	0x1d00
                           3092 	.area XINIT   (CODE)
                           3093 	.area CABS    (ABS,CODE)
