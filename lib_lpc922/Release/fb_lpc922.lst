                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.1.0 #7066 (Nov 22 2011) (MINGW32)
                              4 ; This file was generated Sat Apr 27 17:56:07 2013
                              5 ;--------------------------------------------------------
                              6 	.module fb_lpc922
                              7 	.optsdcc -mmcs51 --model-small
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _eeprom
                             13 	.globl _userram
                             14 	.globl _read_obj_value
                             15 	.globl _read_value_req
                             16 	.globl _write_value_req
                             17 	.globl _P3_1
                             18 	.globl _P3_0
                             19 	.globl _P1_7
                             20 	.globl _P1_6
                             21 	.globl _P1_5
                             22 	.globl _P1_4
                             23 	.globl _P1_3
                             24 	.globl _P1_2
                             25 	.globl _P1_1
                             26 	.globl _P1_0
                             27 	.globl _P0_7
                             28 	.globl _P0_6
                             29 	.globl _P0_5
                             30 	.globl _P0_4
                             31 	.globl _P0_3
                             32 	.globl _P0_2
                             33 	.globl _P0_1
                             34 	.globl _P0_0
                             35 	.globl _I2CON_0
                             36 	.globl _I2CON_2
                             37 	.globl _I2CON_3
                             38 	.globl _I2CON_4
                             39 	.globl _I2CON_5
                             40 	.globl _I2CON_6
                             41 	.globl _SCON_7
                             42 	.globl _SCON_6
                             43 	.globl _SCON_5
                             44 	.globl _SCON_4
                             45 	.globl _SCON_3
                             46 	.globl _SCON_2
                             47 	.globl _SCON_1
                             48 	.globl _SCON_0
                             49 	.globl _IP0_0
                             50 	.globl _IP0_1
                             51 	.globl _IP0_2
                             52 	.globl _IP0_3
                             53 	.globl _IP0_4
                             54 	.globl _IP0_5
                             55 	.globl _IP0_6
                             56 	.globl _IP1_0
                             57 	.globl _IP1_1
                             58 	.globl _IP1_2
                             59 	.globl _IP1_6
                             60 	.globl _IEN1_0
                             61 	.globl _IEN1_1
                             62 	.globl _IEN1_2
                             63 	.globl _IEN0_0
                             64 	.globl _IEN0_1
                             65 	.globl _IEN0_2
                             66 	.globl _IEN0_3
                             67 	.globl _IEN0_4
                             68 	.globl _IEN0_5
                             69 	.globl _IEN0_6
                             70 	.globl _IEN0_7
                             71 	.globl _TCON_0
                             72 	.globl _TCON_1
                             73 	.globl _TCON_2
                             74 	.globl _TCON_3
                             75 	.globl _TCON_4
                             76 	.globl _TCON_5
                             77 	.globl _TCON_6
                             78 	.globl _TCON_7
                             79 	.globl _PSW_7
                             80 	.globl _PSW_6
                             81 	.globl _PSW_5
                             82 	.globl _PSW_4
                             83 	.globl _PSW_3
                             84 	.globl _PSW_2
                             85 	.globl _PSW_1
                             86 	.globl _PSW_0
                             87 	.globl _IEN1
                             88 	.globl _IP0H
                             89 	.globl _WFEED2
                             90 	.globl _WFEED1
                             91 	.globl _WDL
                             92 	.globl _WDCON
                             93 	.globl _TRIM
                             94 	.globl _TAMOD
                             95 	.globl _SSTAT
                             96 	.globl _RTCL
                             97 	.globl _RTCH
                             98 	.globl _RTCCON
                             99 	.globl _RSTSRC
                            100 	.globl _PT0AD
                            101 	.globl _PCONA
                            102 	.globl _P3M2
                            103 	.globl _P3M1
                            104 	.globl _P1M2
                            105 	.globl _P1M1
                            106 	.globl _P0M2
                            107 	.globl _P0M1
                            108 	.globl _KBPATN
                            109 	.globl _KBMASK
                            110 	.globl _KBCON
                            111 	.globl _IP1H
                            112 	.globl _IP1
                            113 	.globl _I2STAT
                            114 	.globl _I2SCLL
                            115 	.globl _I2SCLH
                            116 	.globl _I2DAT
                            117 	.globl _I2CON
                            118 	.globl _I2ADR
                            119 	.globl _FMDATA
                            120 	.globl _FMCON
                            121 	.globl _FMADRL
                            122 	.globl _FMADRH
                            123 	.globl _DIVM
                            124 	.globl _CMP2
                            125 	.globl _CMP1
                            126 	.globl _BRGCON
                            127 	.globl _BRGR1
                            128 	.globl _BRGR0
                            129 	.globl _SADEN
                            130 	.globl _SADDR
                            131 	.globl _AUXR1
                            132 	.globl _SBUF
                            133 	.globl _SCON
                            134 	.globl _IP0
                            135 	.globl _IEN0
                            136 	.globl _TH1
                            137 	.globl _TH0
                            138 	.globl _TL1
                            139 	.globl _TL0
                            140 	.globl _TMOD
                            141 	.globl _TCON
                            142 	.globl _PCON
                            143 	.globl _DPH
                            144 	.globl _DPL
                            145 	.globl _SP
                            146 	.globl _B
                            147 	.globl _ACC
                            148 	.globl _PSW
                            149 	.globl _P3
                            150 	.globl _P1
                            151 	.globl _P0
                            152 	.globl _inc_pcount
                            153 	.globl _connected
                            154 	.globl _transparency
                            155 	.globl _send_nack
                            156 	.globl _send_ack
                            157 	.globl _wait_for_ack
                            158 	.globl _fbtx_bit
                            159 	.globl _auto_ack
                            160 	.globl _tel_sent
                            161 	.globl _tel_arrived
                            162 	.globl _its_me
                            163 	.globl _nack
                            164 	.globl _ack
                            165 	.globl _fb_parity
                            166 	.globl _interrupted
                            167 	.globl _parity_ok
                            168 	.globl _status60
                            169 	.globl _tx_nextsend
                            170 	.globl _tx_nextwrite
                            171 	.globl _repeat_count
                            172 	.globl _fb_state
                            173 	.globl _fb_pattern
                            174 	.globl _fbrx_byte
                            175 	.globl _cs
                            176 	.globl _telpos
                            177 	.globl _tx_buffer
                            178 	.globl _telegramm
                            179 	.globl _senders_pcount
                            180 	.globl _mem_adrl
                            181 	.globl _mem_adrh
                            182 	.globl _mem_length
                            183 	.globl _pcount
                            184 	.globl _conl
                            185 	.globl _conh
                            186 	.globl _X1_int
                            187 	.globl _T1_int
                            188 	.globl _init_rx
                            189 	.globl _init_tx
                            190 	.globl _gapos_in_gat
                            191 	.globl _build_tel
                            192 	.globl _send_obj_value
                            193 	.globl _process_tel
                            194 	.globl _write_memory
                            195 	.globl _set_pa
                            196 	.globl _read_objflags
                            197 	.globl _find_first_objno
                            198 	.globl _find_ga
                            199 	.globl _restart_hw
                            200 ;--------------------------------------------------------
                            201 ; special function registers
                            202 ;--------------------------------------------------------
                            203 	.area RSEG    (ABS,DATA)
   0000                     204 	.org 0x0000
                    0080    205 G$P0$0$0 == 0x0080
                    0080    206 _P0	=	0x0080
                    0090    207 G$P1$0$0 == 0x0090
                    0090    208 _P1	=	0x0090
                    00B0    209 G$P3$0$0 == 0x00b0
                    00B0    210 _P3	=	0x00b0
                    00D0    211 G$PSW$0$0 == 0x00d0
                    00D0    212 _PSW	=	0x00d0
                    00E0    213 G$ACC$0$0 == 0x00e0
                    00E0    214 _ACC	=	0x00e0
                    00F0    215 G$B$0$0 == 0x00f0
                    00F0    216 _B	=	0x00f0
                    0081    217 G$SP$0$0 == 0x0081
                    0081    218 _SP	=	0x0081
                    0082    219 G$DPL$0$0 == 0x0082
                    0082    220 _DPL	=	0x0082
                    0083    221 G$DPH$0$0 == 0x0083
                    0083    222 _DPH	=	0x0083
                    0087    223 G$PCON$0$0 == 0x0087
                    0087    224 _PCON	=	0x0087
                    0088    225 G$TCON$0$0 == 0x0088
                    0088    226 _TCON	=	0x0088
                    0089    227 G$TMOD$0$0 == 0x0089
                    0089    228 _TMOD	=	0x0089
                    008A    229 G$TL0$0$0 == 0x008a
                    008A    230 _TL0	=	0x008a
                    008B    231 G$TL1$0$0 == 0x008b
                    008B    232 _TL1	=	0x008b
                    008C    233 G$TH0$0$0 == 0x008c
                    008C    234 _TH0	=	0x008c
                    008D    235 G$TH1$0$0 == 0x008d
                    008D    236 _TH1	=	0x008d
                    00A8    237 G$IEN0$0$0 == 0x00a8
                    00A8    238 _IEN0	=	0x00a8
                    00B8    239 G$IP0$0$0 == 0x00b8
                    00B8    240 _IP0	=	0x00b8
                    0098    241 G$SCON$0$0 == 0x0098
                    0098    242 _SCON	=	0x0098
                    0099    243 G$SBUF$0$0 == 0x0099
                    0099    244 _SBUF	=	0x0099
                    00A2    245 G$AUXR1$0$0 == 0x00a2
                    00A2    246 _AUXR1	=	0x00a2
                    00A9    247 G$SADDR$0$0 == 0x00a9
                    00A9    248 _SADDR	=	0x00a9
                    00B9    249 G$SADEN$0$0 == 0x00b9
                    00B9    250 _SADEN	=	0x00b9
                    00BE    251 G$BRGR0$0$0 == 0x00be
                    00BE    252 _BRGR0	=	0x00be
                    00BF    253 G$BRGR1$0$0 == 0x00bf
                    00BF    254 _BRGR1	=	0x00bf
                    00BD    255 G$BRGCON$0$0 == 0x00bd
                    00BD    256 _BRGCON	=	0x00bd
                    00AC    257 G$CMP1$0$0 == 0x00ac
                    00AC    258 _CMP1	=	0x00ac
                    00AD    259 G$CMP2$0$0 == 0x00ad
                    00AD    260 _CMP2	=	0x00ad
                    0095    261 G$DIVM$0$0 == 0x0095
                    0095    262 _DIVM	=	0x0095
                    00E7    263 G$FMADRH$0$0 == 0x00e7
                    00E7    264 _FMADRH	=	0x00e7
                    00E6    265 G$FMADRL$0$0 == 0x00e6
                    00E6    266 _FMADRL	=	0x00e6
                    00E4    267 G$FMCON$0$0 == 0x00e4
                    00E4    268 _FMCON	=	0x00e4
                    00E5    269 G$FMDATA$0$0 == 0x00e5
                    00E5    270 _FMDATA	=	0x00e5
                    00DB    271 G$I2ADR$0$0 == 0x00db
                    00DB    272 _I2ADR	=	0x00db
                    00D8    273 G$I2CON$0$0 == 0x00d8
                    00D8    274 _I2CON	=	0x00d8
                    00DA    275 G$I2DAT$0$0 == 0x00da
                    00DA    276 _I2DAT	=	0x00da
                    00DD    277 G$I2SCLH$0$0 == 0x00dd
                    00DD    278 _I2SCLH	=	0x00dd
                    00DC    279 G$I2SCLL$0$0 == 0x00dc
                    00DC    280 _I2SCLL	=	0x00dc
                    00D9    281 G$I2STAT$0$0 == 0x00d9
                    00D9    282 _I2STAT	=	0x00d9
                    00F8    283 G$IP1$0$0 == 0x00f8
                    00F8    284 _IP1	=	0x00f8
                    00F7    285 G$IP1H$0$0 == 0x00f7
                    00F7    286 _IP1H	=	0x00f7
                    0094    287 G$KBCON$0$0 == 0x0094
                    0094    288 _KBCON	=	0x0094
                    0086    289 G$KBMASK$0$0 == 0x0086
                    0086    290 _KBMASK	=	0x0086
                    0093    291 G$KBPATN$0$0 == 0x0093
                    0093    292 _KBPATN	=	0x0093
                    0084    293 G$P0M1$0$0 == 0x0084
                    0084    294 _P0M1	=	0x0084
                    0085    295 G$P0M2$0$0 == 0x0085
                    0085    296 _P0M2	=	0x0085
                    0091    297 G$P1M1$0$0 == 0x0091
                    0091    298 _P1M1	=	0x0091
                    0092    299 G$P1M2$0$0 == 0x0092
                    0092    300 _P1M2	=	0x0092
                    00B1    301 G$P3M1$0$0 == 0x00b1
                    00B1    302 _P3M1	=	0x00b1
                    00B2    303 G$P3M2$0$0 == 0x00b2
                    00B2    304 _P3M2	=	0x00b2
                    00B5    305 G$PCONA$0$0 == 0x00b5
                    00B5    306 _PCONA	=	0x00b5
                    00F6    307 G$PT0AD$0$0 == 0x00f6
                    00F6    308 _PT0AD	=	0x00f6
                    00DF    309 G$RSTSRC$0$0 == 0x00df
                    00DF    310 _RSTSRC	=	0x00df
                    00D1    311 G$RTCCON$0$0 == 0x00d1
                    00D1    312 _RTCCON	=	0x00d1
                    00D2    313 G$RTCH$0$0 == 0x00d2
                    00D2    314 _RTCH	=	0x00d2
                    00D3    315 G$RTCL$0$0 == 0x00d3
                    00D3    316 _RTCL	=	0x00d3
                    00BA    317 G$SSTAT$0$0 == 0x00ba
                    00BA    318 _SSTAT	=	0x00ba
                    008F    319 G$TAMOD$0$0 == 0x008f
                    008F    320 _TAMOD	=	0x008f
                    0096    321 G$TRIM$0$0 == 0x0096
                    0096    322 _TRIM	=	0x0096
                    00A7    323 G$WDCON$0$0 == 0x00a7
                    00A7    324 _WDCON	=	0x00a7
                    00C1    325 G$WDL$0$0 == 0x00c1
                    00C1    326 _WDL	=	0x00c1
                    00C2    327 G$WFEED1$0$0 == 0x00c2
                    00C2    328 _WFEED1	=	0x00c2
                    00C3    329 G$WFEED2$0$0 == 0x00c3
                    00C3    330 _WFEED2	=	0x00c3
                    00B7    331 G$IP0H$0$0 == 0x00b7
                    00B7    332 _IP0H	=	0x00b7
                    00E8    333 G$IEN1$0$0 == 0x00e8
                    00E8    334 _IEN1	=	0x00e8
                            335 ;--------------------------------------------------------
                            336 ; special function bits
                            337 ;--------------------------------------------------------
                            338 	.area RSEG    (ABS,DATA)
   0000                     339 	.org 0x0000
                    00D0    340 G$PSW_0$0$0 == 0x00d0
                    00D0    341 _PSW_0	=	0x00d0
                    00D1    342 G$PSW_1$0$0 == 0x00d1
                    00D1    343 _PSW_1	=	0x00d1
                    00D2    344 G$PSW_2$0$0 == 0x00d2
                    00D2    345 _PSW_2	=	0x00d2
                    00D3    346 G$PSW_3$0$0 == 0x00d3
                    00D3    347 _PSW_3	=	0x00d3
                    00D4    348 G$PSW_4$0$0 == 0x00d4
                    00D4    349 _PSW_4	=	0x00d4
                    00D5    350 G$PSW_5$0$0 == 0x00d5
                    00D5    351 _PSW_5	=	0x00d5
                    00D6    352 G$PSW_6$0$0 == 0x00d6
                    00D6    353 _PSW_6	=	0x00d6
                    00D7    354 G$PSW_7$0$0 == 0x00d7
                    00D7    355 _PSW_7	=	0x00d7
                    008F    356 G$TCON_7$0$0 == 0x008f
                    008F    357 _TCON_7	=	0x008f
                    008E    358 G$TCON_6$0$0 == 0x008e
                    008E    359 _TCON_6	=	0x008e
                    008D    360 G$TCON_5$0$0 == 0x008d
                    008D    361 _TCON_5	=	0x008d
                    008C    362 G$TCON_4$0$0 == 0x008c
                    008C    363 _TCON_4	=	0x008c
                    008B    364 G$TCON_3$0$0 == 0x008b
                    008B    365 _TCON_3	=	0x008b
                    008A    366 G$TCON_2$0$0 == 0x008a
                    008A    367 _TCON_2	=	0x008a
                    0089    368 G$TCON_1$0$0 == 0x0089
                    0089    369 _TCON_1	=	0x0089
                    0088    370 G$TCON_0$0$0 == 0x0088
                    0088    371 _TCON_0	=	0x0088
                    00AF    372 G$IEN0_7$0$0 == 0x00af
                    00AF    373 _IEN0_7	=	0x00af
                    00AE    374 G$IEN0_6$0$0 == 0x00ae
                    00AE    375 _IEN0_6	=	0x00ae
                    00AD    376 G$IEN0_5$0$0 == 0x00ad
                    00AD    377 _IEN0_5	=	0x00ad
                    00AC    378 G$IEN0_4$0$0 == 0x00ac
                    00AC    379 _IEN0_4	=	0x00ac
                    00AB    380 G$IEN0_3$0$0 == 0x00ab
                    00AB    381 _IEN0_3	=	0x00ab
                    00AA    382 G$IEN0_2$0$0 == 0x00aa
                    00AA    383 _IEN0_2	=	0x00aa
                    00A9    384 G$IEN0_1$0$0 == 0x00a9
                    00A9    385 _IEN0_1	=	0x00a9
                    00A8    386 G$IEN0_0$0$0 == 0x00a8
                    00A8    387 _IEN0_0	=	0x00a8
                    00EA    388 G$IEN1_2$0$0 == 0x00ea
                    00EA    389 _IEN1_2	=	0x00ea
                    00E9    390 G$IEN1_1$0$0 == 0x00e9
                    00E9    391 _IEN1_1	=	0x00e9
                    00E8    392 G$IEN1_0$0$0 == 0x00e8
                    00E8    393 _IEN1_0	=	0x00e8
                    00FE    394 G$IP1_6$0$0 == 0x00fe
                    00FE    395 _IP1_6	=	0x00fe
                    00FA    396 G$IP1_2$0$0 == 0x00fa
                    00FA    397 _IP1_2	=	0x00fa
                    00F9    398 G$IP1_1$0$0 == 0x00f9
                    00F9    399 _IP1_1	=	0x00f9
                    00F8    400 G$IP1_0$0$0 == 0x00f8
                    00F8    401 _IP1_0	=	0x00f8
                    00BE    402 G$IP0_6$0$0 == 0x00be
                    00BE    403 _IP0_6	=	0x00be
                    00BD    404 G$IP0_5$0$0 == 0x00bd
                    00BD    405 _IP0_5	=	0x00bd
                    00BC    406 G$IP0_4$0$0 == 0x00bc
                    00BC    407 _IP0_4	=	0x00bc
                    00BB    408 G$IP0_3$0$0 == 0x00bb
                    00BB    409 _IP0_3	=	0x00bb
                    00BA    410 G$IP0_2$0$0 == 0x00ba
                    00BA    411 _IP0_2	=	0x00ba
                    00B9    412 G$IP0_1$0$0 == 0x00b9
                    00B9    413 _IP0_1	=	0x00b9
                    00B8    414 G$IP0_0$0$0 == 0x00b8
                    00B8    415 _IP0_0	=	0x00b8
                    0098    416 G$SCON_0$0$0 == 0x0098
                    0098    417 _SCON_0	=	0x0098
                    0099    418 G$SCON_1$0$0 == 0x0099
                    0099    419 _SCON_1	=	0x0099
                    009A    420 G$SCON_2$0$0 == 0x009a
                    009A    421 _SCON_2	=	0x009a
                    009B    422 G$SCON_3$0$0 == 0x009b
                    009B    423 _SCON_3	=	0x009b
                    009C    424 G$SCON_4$0$0 == 0x009c
                    009C    425 _SCON_4	=	0x009c
                    009D    426 G$SCON_5$0$0 == 0x009d
                    009D    427 _SCON_5	=	0x009d
                    009E    428 G$SCON_6$0$0 == 0x009e
                    009E    429 _SCON_6	=	0x009e
                    009F    430 G$SCON_7$0$0 == 0x009f
                    009F    431 _SCON_7	=	0x009f
                    00DE    432 G$I2CON_6$0$0 == 0x00de
                    00DE    433 _I2CON_6	=	0x00de
                    00DD    434 G$I2CON_5$0$0 == 0x00dd
                    00DD    435 _I2CON_5	=	0x00dd
                    00DC    436 G$I2CON_4$0$0 == 0x00dc
                    00DC    437 _I2CON_4	=	0x00dc
                    00DB    438 G$I2CON_3$0$0 == 0x00db
                    00DB    439 _I2CON_3	=	0x00db
                    00DA    440 G$I2CON_2$0$0 == 0x00da
                    00DA    441 _I2CON_2	=	0x00da
                    00D8    442 G$I2CON_0$0$0 == 0x00d8
                    00D8    443 _I2CON_0	=	0x00d8
                    0080    444 G$P0_0$0$0 == 0x0080
                    0080    445 _P0_0	=	0x0080
                    0081    446 G$P0_1$0$0 == 0x0081
                    0081    447 _P0_1	=	0x0081
                    0082    448 G$P0_2$0$0 == 0x0082
                    0082    449 _P0_2	=	0x0082
                    0083    450 G$P0_3$0$0 == 0x0083
                    0083    451 _P0_3	=	0x0083
                    0084    452 G$P0_4$0$0 == 0x0084
                    0084    453 _P0_4	=	0x0084
                    0085    454 G$P0_5$0$0 == 0x0085
                    0085    455 _P0_5	=	0x0085
                    0086    456 G$P0_6$0$0 == 0x0086
                    0086    457 _P0_6	=	0x0086
                    0087    458 G$P0_7$0$0 == 0x0087
                    0087    459 _P0_7	=	0x0087
                    0090    460 G$P1_0$0$0 == 0x0090
                    0090    461 _P1_0	=	0x0090
                    0091    462 G$P1_1$0$0 == 0x0091
                    0091    463 _P1_1	=	0x0091
                    0092    464 G$P1_2$0$0 == 0x0092
                    0092    465 _P1_2	=	0x0092
                    0093    466 G$P1_3$0$0 == 0x0093
                    0093    467 _P1_3	=	0x0093
                    0094    468 G$P1_4$0$0 == 0x0094
                    0094    469 _P1_4	=	0x0094
                    0095    470 G$P1_5$0$0 == 0x0095
                    0095    471 _P1_5	=	0x0095
                    0096    472 G$P1_6$0$0 == 0x0096
                    0096    473 _P1_6	=	0x0096
                    0097    474 G$P1_7$0$0 == 0x0097
                    0097    475 _P1_7	=	0x0097
                    00B0    476 G$P3_0$0$0 == 0x00b0
                    00B0    477 _P3_0	=	0x00b0
                    00B1    478 G$P3_1$0$0 == 0x00b1
                    00B1    479 _P3_1	=	0x00b1
                            480 ;--------------------------------------------------------
                            481 ; overlayable register banks
                            482 ;--------------------------------------------------------
                            483 	.area REG_BANK_0	(REL,OVR,DATA)
   0000                     484 	.ds 8
                            485 ;--------------------------------------------------------
                            486 ; overlayable bit register bank
                            487 ;--------------------------------------------------------
                            488 	.area BIT_BANK	(REL,OVR,DATA)
   0000                     489 bits:
   0000                     490 	.ds 1
                    8000    491 	b0 = bits[0]
                    8100    492 	b1 = bits[1]
                    8200    493 	b2 = bits[2]
                    8300    494 	b3 = bits[3]
                    8400    495 	b4 = bits[4]
                    8500    496 	b5 = bits[5]
                    8600    497 	b6 = bits[6]
                    8700    498 	b7 = bits[7]
                            499 ;--------------------------------------------------------
                            500 ; internal ram data
                            501 ;--------------------------------------------------------
                            502 	.area DSEG    (DATA)
                    0000    503 G$conh$0$0==.
   0000                     504 _conh::
   0000                     505 	.ds 1
                    0001    506 G$conl$0$0==.
   0001                     507 _conl::
   0001                     508 	.ds 1
                    0002    509 G$pcount$0$0==.
   0002                     510 _pcount::
   0002                     511 	.ds 1
                    0003    512 G$mem_length$0$0==.
   0003                     513 _mem_length::
   0003                     514 	.ds 1
                    0004    515 G$mem_adrh$0$0==.
   0004                     516 _mem_adrh::
   0004                     517 	.ds 1
                    0005    518 G$mem_adrl$0$0==.
   0005                     519 _mem_adrl::
   0005                     520 	.ds 1
                    0006    521 G$senders_pcount$0$0==.
   0006                     522 _senders_pcount::
   0006                     523 	.ds 1
                    0007    524 G$telegramm$0$0==.
   0007                     525 _telegramm::
   0007                     526 	.ds 23
                    001E    527 G$tx_buffer$0$0==.
   001E                     528 _tx_buffer::
   001E                     529 	.ds 8
                    0026    530 G$telpos$0$0==.
   0026                     531 _telpos::
   0026                     532 	.ds 1
                    0027    533 G$cs$0$0==.
   0027                     534 _cs::
   0027                     535 	.ds 1
                    0028    536 G$fbrx_byte$0$0==.
   0028                     537 _fbrx_byte::
   0028                     538 	.ds 1
                    0029    539 G$fb_pattern$0$0==.
   0029                     540 _fb_pattern::
   0029                     541 	.ds 1
                    002A    542 G$fb_state$0$0==.
   002A                     543 _fb_state::
   002A                     544 	.ds 1
                    002B    545 G$repeat_count$0$0==.
   002B                     546 _repeat_count::
   002B                     547 	.ds 1
                    002C    548 G$tx_nextwrite$0$0==.
   002C                     549 _tx_nextwrite::
   002C                     550 	.ds 1
                    002D    551 G$tx_nextsend$0$0==.
   002D                     552 _tx_nextsend::
   002D                     553 	.ds 1
                    002E    554 G$status60$0$0==.
   002E                     555 _status60::
   002E                     556 	.ds 1
                            557 ;--------------------------------------------------------
                            558 ; overlayable items in internal ram 
                            559 ;--------------------------------------------------------
                            560 	.area OSEG    (OVR,DATA)
                            561 ;--------------------------------------------------------
                            562 ; indirectly addressable internal ram data
                            563 ;--------------------------------------------------------
                            564 	.area ISEG    (DATA)
                            565 ;--------------------------------------------------------
                            566 ; absolute internal ram data
                            567 ;--------------------------------------------------------
                            568 	.area IABS    (ABS,DATA)
                            569 	.area IABS    (ABS,DATA)
                            570 ;--------------------------------------------------------
                            571 ; bit data
                            572 ;--------------------------------------------------------
                            573 	.area BSEG    (BIT)
                    0000    574 G$parity_ok$0$0==.
   0000                     575 _parity_ok::
   0000                     576 	.ds 1
                    0001    577 G$interrupted$0$0==.
   0001                     578 _interrupted::
   0001                     579 	.ds 1
                    0002    580 G$fb_parity$0$0==.
   0002                     581 _fb_parity::
   0002                     582 	.ds 1
                    0003    583 G$ack$0$0==.
   0003                     584 _ack::
   0003                     585 	.ds 1
                    0004    586 G$nack$0$0==.
   0004                     587 _nack::
   0004                     588 	.ds 1
                    0005    589 G$its_me$0$0==.
   0005                     590 _its_me::
   0005                     591 	.ds 1
                    0006    592 G$tel_arrived$0$0==.
   0006                     593 _tel_arrived::
   0006                     594 	.ds 1
                    0007    595 G$tel_sent$0$0==.
   0007                     596 _tel_sent::
   0007                     597 	.ds 1
                    0008    598 G$auto_ack$0$0==.
   0008                     599 _auto_ack::
   0008                     600 	.ds 1
                    0009    601 G$fbtx_bit$0$0==.
   0009                     602 _fbtx_bit::
   0009                     603 	.ds 1
                    000A    604 G$wait_for_ack$0$0==.
   000A                     605 _wait_for_ack::
   000A                     606 	.ds 1
                    000B    607 G$send_ack$0$0==.
   000B                     608 _send_ack::
   000B                     609 	.ds 1
                    000C    610 G$send_nack$0$0==.
   000C                     611 _send_nack::
   000C                     612 	.ds 1
                    000D    613 G$transparency$0$0==.
   000D                     614 _transparency::
   000D                     615 	.ds 1
                    000E    616 G$connected$0$0==.
   000E                     617 _connected::
   000E                     618 	.ds 1
                    000F    619 G$inc_pcount$0$0==.
   000F                     620 _inc_pcount::
   000F                     621 	.ds 1
                            622 ;--------------------------------------------------------
                            623 ; paged external ram data
                            624 ;--------------------------------------------------------
                            625 	.area PSEG    (PAG,XDATA)
                            626 ;--------------------------------------------------------
                            627 ; external ram data
                            628 ;--------------------------------------------------------
                            629 	.area XSEG    (XDATA)
                            630 ;--------------------------------------------------------
                            631 ; absolute external ram data
                            632 ;--------------------------------------------------------
                            633 	.area XABS    (ABS,XDATA)
                            634 ;--------------------------------------------------------
                            635 ; external initialized ram data
                            636 ;--------------------------------------------------------
                            637 	.area XISEG   (XDATA)
                            638 	.area HOME    (CODE)
                            639 	.area GSINIT0 (CODE)
                            640 	.area GSINIT1 (CODE)
                            641 	.area GSINIT2 (CODE)
                            642 	.area GSINIT3 (CODE)
                            643 	.area GSINIT4 (CODE)
                            644 	.area GSINIT5 (CODE)
                            645 	.area GSINIT  (CODE)
                            646 	.area GSFINAL (CODE)
                            647 	.area CSEG    (CODE)
                            648 ;--------------------------------------------------------
                            649 ; global & static initialisations
                            650 ;--------------------------------------------------------
                            651 	.area HOME    (CODE)
                            652 	.area GSINIT  (CODE)
                            653 	.area GSFINAL (CODE)
                            654 	.area GSINIT  (CODE)
                            655 ;--------------------------------------------------------
                            656 ; Home
                            657 ;--------------------------------------------------------
                            658 	.area HOME    (CODE)
                            659 	.area HOME    (CODE)
                            660 ;--------------------------------------------------------
                            661 ; code
                            662 ;--------------------------------------------------------
                            663 	.area CSEG    (CODE)
                            664 ;------------------------------------------------------------
                            665 ;Allocation info for local variables in function 'X1_int'
                            666 ;------------------------------------------------------------
                    0000    667 	G$X1_int$0$0 ==.
                    0000    668 	C$fb_lpc922.c$63$0$0 ==.
                            669 ;	..\fb_lpc922.c:63: void X1_int(void) __interrupt (2)		// Flanke des Startbits löst int1 aus
                            670 ;	-----------------------------------------
                            671 ;	 function X1_int
                            672 ;	-----------------------------------------
   0000                     673 _X1_int:
                    0007    674 	ar7 = 0x07
                    0006    675 	ar6 = 0x06
                    0005    676 	ar5 = 0x05
                    0004    677 	ar4 = 0x04
                    0003    678 	ar3 = 0x03
                    0002    679 	ar2 = 0x02
                    0001    680 	ar1 = 0x01
                    0000    681 	ar0 = 0x00
   0000 C0 E0               682 	push	acc
   0002 C0 D0               683 	push	psw
                    0004    684 	C$fb_lpc922.c$66$1$1 ==.
                            685 ;	..\fb_lpc922.c:66: EX1=0;			// int1 stoppen								1 cycle = 0,27127us
   0004 C2 AA               686 	clr	_IEN0_2
                    0006    687 	C$fb_lpc922.c$67$1$1 ==.
                            688 ;	..\fb_lpc922.c:67: TR1=0;			// Timer 1 stoppen
   0006 C2 8E               689 	clr	_TCON_6
                    0008    690 	C$fb_lpc922.c$68$1$1 ==.
                            691 ;	..\fb_lpc922.c:68: TMOD=(TMOD & 0x0F) + 0x20;	// Timer 1 als 8-Bit autoreload
   0008 74 0F               692 	mov	a,#0x0F
   000A 55 89               693 	anl	a,_TMOD
   000C 24 20               694 	add	a,#0x20
   000E F5 89               695 	mov	_TMOD,a
                    0010    696 	C$fb_lpc922.c$69$1$1 ==.
                            697 ;	..\fb_lpc922.c:69: TL1=53;//108;//128;		// Timer laden so dass in state 2 bei 75µs abgefragt wird
   0010 75 8B 35            698 	mov	_TL1,#0x35
                    0013    699 	C$fb_lpc922.c$70$1$1 ==.
                            700 ;	..\fb_lpc922.c:70: TH1=128;//128;			// autoreload auf 35µs setzen (gilt für sprung von 2 auf 3)
   0013 75 8D 80            701 	mov	_TH1,#0x80
                    0016    702 	C$fb_lpc922.c$71$1$1 ==.
                            703 ;	..\fb_lpc922.c:71: TF1=0;			// Timer1-flag löschen						1 cycle
   0016 C2 8F               704 	clr	_TCON_7
                    0018    705 	C$fb_lpc922.c$72$1$1 ==.
                            706 ;	..\fb_lpc922.c:72: TR1=1;			// Timer1 starten							1 cycle
   0018 D2 8E               707 	setb	_TCON_6
                    001A    708 	C$fb_lpc922.c$73$1$1 ==.
                            709 ;	..\fb_lpc922.c:73: ET1=1;			// Timer1-int aktiv							1 cycle
   001A D2 AB               710 	setb	_IEN0_3
                    001C    711 	C$fb_lpc922.c$74$1$1 ==.
                            712 ;	..\fb_lpc922.c:74: fb_state=2;		// nächster state
   001C 75*2A 02            713 	mov	_fb_state,#0x02
                    001F    714 	C$fb_lpc922.c$75$1$1 ==.
                            715 ;	..\fb_lpc922.c:75: fb_parity=0;	// Parity Bit löschen
   001F C2*02               716 	clr	_fb_parity
                    0021    717 	C$fb_lpc922.c$76$1$1 ==.
                            718 ;	..\fb_lpc922.c:76: parity_ok=1;	// wird bei Fehler gelöscht
   0021 D2*00               719 	setb	_parity_ok
                    0023    720 	C$fb_lpc922.c$77$1$1 ==.
                            721 ;	..\fb_lpc922.c:77: fb_pattern=0;
   0023 75*29 00            722 	mov	_fb_pattern,#0x00
                    0026    723 	C$fb_lpc922.c$78$1$1 ==.
                            724 ;	..\fb_lpc922.c:78: fbrx_byte=0;
   0026 75*28 00            725 	mov	_fbrx_byte,#0x00
                    0029    726 	C$fb_lpc922.c$79$1$1 ==.
                            727 ;	..\fb_lpc922.c:79: interrupted=1;	// signalisiert app, dass unterbrochen wurde
   0029 D2*01               728 	setb	_interrupted
   002B D0 D0               729 	pop	psw
   002D D0 E0               730 	pop	acc
                    002F    731 	C$fb_lpc922.c$80$1$1 ==.
                    002F    732 	XG$X1_int$0$0 ==.
   002F 32                  733 	reti
                            734 ;	eliminated unneeded mov psw,# (no regs used in bank)
                            735 ;	eliminated unneeded push/pop dpl
                            736 ;	eliminated unneeded push/pop dph
                            737 ;	eliminated unneeded push/pop b
                            738 ;------------------------------------------------------------
                            739 ;Allocation info for local variables in function 'T1_int'
                            740 ;------------------------------------------------------------
                            741 ;fbrx_bit                  Allocated to registers b0 
                            742 ;send_byte                 Allocated to registers r7 
                            743 ;------------------------------------------------------------
                    0030    744 	G$T1_int$0$0 ==.
                    0030    745 	C$fb_lpc922.c$84$1$1 ==.
                            746 ;	..\fb_lpc922.c:84: void T1_int(void) __interrupt (3) 	// Timer 1 Interrupt
                            747 ;	-----------------------------------------
                            748 ;	 function T1_int
                            749 ;	-----------------------------------------
   0030                     750 _T1_int:
   0030 C0*00               751 	push	bits
   0032 C0 E0               752 	push	acc
   0034 C0 F0               753 	push	b
   0036 C0 82               754 	push	dpl
   0038 C0 83               755 	push	dph
   003A C0 07               756 	push	(0+7)
   003C C0 06               757 	push	(0+6)
   003E C0 05               758 	push	(0+5)
   0040 C0 04               759 	push	(0+4)
   0042 C0 03               760 	push	(0+3)
   0044 C0 02               761 	push	(0+2)
   0046 C0 01               762 	push	(0+1)
   0048 C0 00               763 	push	(0+0)
   004A C0 D0               764 	push	psw
   004C 75 D0 00            765 	mov	psw,#0x00
                    004F    766 	C$fb_lpc922.c$90$1$1 ==.
                            767 ;	..\fb_lpc922.c:90: switch (fb_state){
   004F E5*2A               768 	mov	a,_fb_state
   0051 FF                  769 	mov	r7,a
   0052 24 F1               770 	add	a,#0xff - 0x0E
   0054 50 03               771 	jnc	00269$
   0056 02s03r4D            772 	ljmp	00217$
   0059                     773 00269$:
   0059 EF                  774 	mov	a,r7
   005A 2F                  775 	add	a,r7
   005B 2F                  776 	add	a,r7
   005C 90s00r60            777 	mov	dptr,#00270$
   005F 73                  778 	jmp	@a+dptr
   0060                     779 00270$:
   0060 02s00r8D            780 	ljmp	00101$
   0063 02s03r4D            781 	ljmp	00217$
   0066 02s01r00            782 	ljmp	00115$
   0069 02s01rBA            783 	ljmp	00151$
   006C 02s01rC3            784 	ljmp	00152$
   006F 02s02r38            785 	ljmp	00173$
   0072 02s03r4D            786 	ljmp	00217$
   0075 02s03r4D            787 	ljmp	00217$
   0078 02s03r4D            788 	ljmp	00217$
   007B 02s03r4D            789 	ljmp	00217$
   007E 02s02r5C            790 	ljmp	00180$
   0081 02s02rC4            791 	ljmp	00201$
   0084 02s03r4D            792 	ljmp	00217$
   0087 02s02rE8            793 	ljmp	00208$
   008A 02s03r36            794 	ljmp	00216$
                    008D    795 	C$fb_lpc922.c$94$2$2 ==.
                            796 ;	..\fb_lpc922.c:94: case 0:
   008D                     797 00101$:
                    008D    798 	C$fb_lpc922.c$95$2$2 ==.
                            799 ;	..\fb_lpc922.c:95: TR1=0;			// Timer 1 stoppen
   008D C2 8E               800 	clr	_TCON_6
                    008F    801 	C$fb_lpc922.c$96$2$2 ==.
                            802 ;	..\fb_lpc922.c:96: TMOD=(TMOD & 0x0F) + 0x20;	// Timer 1 als 8-Bit autoreload
   008F 74 0F               803 	mov	a,#0x0F
   0091 55 89               804 	anl	a,_TMOD
   0093 24 20               805 	add	a,#0x20
   0095 F5 89               806 	mov	_TMOD,a
                    0097    807 	C$fb_lpc922.c$97$2$2 ==.
                            808 ;	..\fb_lpc922.c:97: TL1=128;		// Timer laden
   0097 75 8B 80            809 	mov	_TL1,#0x80
                    009A    810 	C$fb_lpc922.c$98$2$2 ==.
                            811 ;	..\fb_lpc922.c:98: TH1=128;
   009A 75 8D 80            812 	mov	_TH1,#0x80
                    009D    813 	C$fb_lpc922.c$99$2$2 ==.
                            814 ;	..\fb_lpc922.c:99: TF1=0;			// Timer1-flag löschen						1 cycle
   009D C2 8F               815 	clr	_TCON_7
                    009F    816 	C$fb_lpc922.c$100$2$2 ==.
                            817 ;	..\fb_lpc922.c:100: TR1=1;			// Timer1 starten							1 cycle
   009F D2 8E               818 	setb	_TCON_6
                    00A1    819 	C$fb_lpc922.c$101$2$2 ==.
                            820 ;	..\fb_lpc922.c:101: if(tx_nextsend != tx_nextwrite) { 			// wenn zu sendendes Objekt vorhanden
   00A1 E5*2C               821 	mov	a,_tx_nextwrite
   00A3 B5*2D 02            822 	cjne	a,_tx_nextsend,00271$
   00A6 80 51               823 	sjmp	00113$
   00A8                     824 00271$:
                    00A8    825 	C$fb_lpc922.c$102$3$3 ==.
                            826 ;	..\fb_lpc922.c:102: if(build_tel(tx_buffer[tx_nextsend])) {	// wenn Telegramm gebildet werden konnte
   00A8 E5*2D               827 	mov	a,_tx_nextsend
   00AA 24r1E               828 	add	a,#_tx_buffer
   00AC F9                  829 	mov	r1,a
   00AD 87 82               830 	mov	dpl,@r1
   00AF 12s04r36            831 	lcall	_build_tel
   00B2 50 3D               832 	jnc	00110$
                    00B4    833 	C$fb_lpc922.c$103$4$4 ==.
                            834 ;	..\fb_lpc922.c:103: EX1=0; 				//Um zu vermeiden dass man in die Abfrage hinein-empfängt
   00B4 C2 AA               835 	clr	_IEN0_2
                    00B6    836 	C$fb_lpc922.c$104$4$4 ==.
                            837 ;	..\fb_lpc922.c:104: if(!fb_state) { 	//nur bilden wenn vorher kein rx_intit durch ext int kam
   00B6 E5*2A               838 	mov	a,_fb_state
   00B8 70 32               839 	jnz	00108$
                    00BA    840 	C$fb_lpc922.c$105$5$5 ==.
                            841 ;	..\fb_lpc922.c:105: if((tx_buffer[tx_nextsend]&0x20)==0) {	// wenn erstmaliges Senden des Objektes
   00BA E5*2D               842 	mov	a,_tx_nextsend
   00BC 24r1E               843 	add	a,#_tx_buffer
   00BE F9                  844 	mov	r1,a
   00BF E7                  845 	mov	a,@r1
   00C0 FF                  846 	mov	r7,a
   00C1 20 E5 07            847 	jb	acc.5,00103$
                    00C4    848 	C$fb_lpc922.c$106$6$6 ==.
                            849 ;	..\fb_lpc922.c:106: tx_buffer[tx_nextsend]|=0x20;		// Bit für "wird gerade gesendet"
   00C4 74 20               850 	mov	a,#0x20
   00C6 4F                  851 	orl	a,r7
   00C7 F7                  852 	mov	@r1,a
                    00C8    853 	C$fb_lpc922.c$107$6$6 ==.
                            854 ;	..\fb_lpc922.c:107: repeat_count=0;						// Wiederholungszähler für nicht geackte Telegramme
   00C8 75*2B 00            855 	mov	_repeat_count,#0x00
   00CB                     856 00103$:
                    00CB    857 	C$fb_lpc922.c$109$5$5 ==.
                            858 ;	..\fb_lpc922.c:109: if (repeat_count<4) init_tx();		// Senden starten
   00CB 74 FC               859 	mov	a,#0x100 - 0x04
   00CD 25*2B               860 	add	a,_repeat_count
   00CF 40 05               861 	jc	00105$
   00D1 12s03r98            862 	lcall	_init_tx
   00D4 80 16               863 	sjmp	00108$
   00D6                     864 00105$:
                    00D6    865 	C$fb_lpc922.c$111$6$7 ==.
                            866 ;	..\fb_lpc922.c:111: tx_nextsend++;
   00D6 05*2D               867 	inc	_tx_nextsend
                    00D8    868 	C$fb_lpc922.c$112$6$7 ==.
                            869 ;	..\fb_lpc922.c:112: tx_nextsend&=0x07;
   00D8 53*2D 07            870 	anl	_tx_nextsend,#0x07
                    00DB    871 	C$fb_lpc922.c$113$6$7 ==.
                            872 ;	..\fb_lpc922.c:113: wait_for_ack=0;
   00DB C2*0A               873 	clr	_wait_for_ack
                    00DD    874 	C$fb_lpc922.c$114$6$7 ==.
                            875 ;	..\fb_lpc922.c:114: inc_pcount=0;
   00DD C2*0F               876 	clr	_inc_pcount
                    00DF    877 	C$fb_lpc922.c$115$6$7 ==.
                            878 ;	..\fb_lpc922.c:115: init_rx();
   00DF 12s03r6C            879 	lcall	_init_rx
                    00E2    880 	C$fb_lpc922.c$116$6$7 ==.
                            881 ;	..\fb_lpc922.c:116: TR1=0;		// hier nicht noch einmal die ganze busfree Zeit warten
   00E2 C2 8E               882 	clr	_TCON_6
                    00E4    883 	C$fb_lpc922.c$117$6$7 ==.
                            884 ;	..\fb_lpc922.c:117: TH1=0xF0;
   00E4 75 8D F0            885 	mov	_TH1,#0xF0
                    00E7    886 	C$fb_lpc922.c$118$6$7 ==.
                            887 ;	..\fb_lpc922.c:118: TL1=0x00;
   00E7 75 8B 00            888 	mov	_TL1,#0x00
                    00EA    889 	C$fb_lpc922.c$119$6$7 ==.
                            890 ;	..\fb_lpc922.c:119: TR1=1;
   00EA D2 8E               891 	setb	_TCON_6
   00EC                     892 00108$:
                    00EC    893 	C$fb_lpc922.c$122$4$4 ==.
                            894 ;	..\fb_lpc922.c:122: EX1=1;	// ext1 int einschalten falls Empfang...
   00EC D2 AA               895 	setb	_IEN0_2
   00EE 02s03r4D            896 	ljmp	00217$
   00F1                     897 00110$:
                    00F1    898 	C$fb_lpc922.c$125$4$8 ==.
                            899 ;	..\fb_lpc922.c:125: tx_nextsend++; //hier Zeiger erhöhen wenn Telegramm nicht gebildet werden konnte
   00F1 05*2D               900 	inc	_tx_nextsend
                    00F3    901 	C$fb_lpc922.c$126$4$8 ==.
                            902 ;	..\fb_lpc922.c:126: tx_nextsend&=0x07;
   00F3 53*2D 07            903 	anl	_tx_nextsend,#0x07
   00F6 02s03r4D            904 	ljmp	00217$
   00F9                     905 00113$:
                    00F9    906 	C$fb_lpc922.c$130$3$9 ==.
                            907 ;	..\fb_lpc922.c:130: TR1=0;		// nichts mehr zu tun, also statemachine stoppen
   00F9 C2 8E               908 	clr	_TCON_6
                    00FB    909 	C$fb_lpc922.c$131$3$9 ==.
                            910 ;	..\fb_lpc922.c:131: EX1=1;		// sicherstellen, dass ext. Int. 1 aktiv ist
   00FB D2 AA               911 	setb	_IEN0_2
                    00FD    912 	C$fb_lpc922.c$133$2$2 ==.
                            913 ;	..\fb_lpc922.c:133: break;
   00FD 02s03r4D            914 	ljmp	00217$
                    0100    915 	C$fb_lpc922.c$136$2$2 ==.
                            916 ;	..\fb_lpc922.c:136: case 2: // T=75us
   0100                     917 00115$:
                    0100    918 	C$fb_lpc922.c$137$2$2 ==.
                            919 ;	..\fb_lpc922.c:137: fbrx_bit=!IE1;				// Flipflop des ext. Int. 1 auslesen, ist 1 bei fallender Flanke am Pin
   0100 A2 8B               920 	mov	c,_TCON_3
   0102 B3                  921 	cpl	c
   0103 92*00               922 	mov	b0,c
                    0105    923 	C$fb_lpc922.c$138$2$2 ==.
                            924 ;	..\fb_lpc922.c:138: IE1=0;						// Flipflop zurücksetzen
   0105 C2 8B               925 	clr	_TCON_3
                    0107    926 	C$fb_lpc922.c$139$2$2 ==.
                            927 ;	..\fb_lpc922.c:139: fb_state=3;// nächster state: 3
   0107 75*2A 03            928 	mov	_fb_state,#0x03
                    010A    929 	C$fb_lpc922.c$140$2$2 ==.
                            930 ;	..\fb_lpc922.c:140: TH1=0;// reload auf 70µs (zeit swischen state 3 und 2)
   010A 75 8D 00            931 	mov	_TH1,#0x00
                    010D    932 	C$fb_lpc922.c$141$2$2 ==.
                            933 ;	..\fb_lpc922.c:141: if(fb_pattern==0) {			// fb_pattern=0 bedeutet, dass bisher nur das Startbit empfangen wurde
   010D E5*29               934 	mov	a,_fb_pattern
   010F 70 0A               935 	jnz	00149$
                    0111    936 	C$fb_lpc922.c$142$3$10 ==.
                            937 ;	..\fb_lpc922.c:142: fb_pattern=1;			// 70us nach Startbit, als näcstes kommt Datenbit 0
   0111 75*29 01            938 	mov	_fb_pattern,#0x01
                    0114    939 	C$fb_lpc922.c$143$3$10 ==.
                            940 ;	..\fb_lpc922.c:143: ack=0;					// Empfang eines neuen Bytes, also ack/nack Flags zurücksetzen
   0114 C2*03               941 	clr	_ack
                    0116    942 	C$fb_lpc922.c$144$3$10 ==.
                            943 ;	..\fb_lpc922.c:144: nack=0;
   0116 C2*04               944 	clr	_nack
   0118 02s03r4D            945 	ljmp	00217$
   011B                     946 00149$:
                    011B    947 	C$fb_lpc922.c$147$3$11 ==.
                            948 ;	..\fb_lpc922.c:147: if(fb_pattern<129) {					// Daten-Bit LSB first
   011B 74 7F               949 	mov	a,#0x100 - 0x81
   011D 25*29               950 	add	a,_fb_pattern
   011F 40 1C               951 	jc	00146$
                    0121    952 	C$fb_lpc922.c$148$4$12 ==.
                            953 ;	..\fb_lpc922.c:148: if(fbrx_bit) {
   0121 30*00 08            954 	jnb	b0,00117$
                    0124    955 	C$fb_lpc922.c$149$5$13 ==.
                            956 ;	..\fb_lpc922.c:149: fb_parity=!fb_parity;			// Paritybit berechnen
   0124 B2*02               957 	cpl	_fb_parity
                    0126    958 	C$fb_lpc922.c$150$5$13 ==.
                            959 ;	..\fb_lpc922.c:150: fbrx_byte+=fb_pattern;			// Datenbit speichern
   0126 E5*29               960 	mov	a,_fb_pattern
   0128 25*28               961 	add	a,_fbrx_byte
   012A F5*28               962 	mov	_fbrx_byte,a
   012C                     963 00117$:
                    012C    964 	C$fb_lpc922.c$152$4$12 ==.
                            965 ;	..\fb_lpc922.c:152: fb_pattern=fb_pattern<<1;			// nächstes Bit
   012C E5*29               966 	mov	a,_fb_pattern
   012E 25*29               967 	add	a,_fb_pattern
                    0130    968 	C$fb_lpc922.c$153$4$12 ==.
                            969 ;	..\fb_lpc922.c:153: if(fb_pattern==0) fb_pattern=129;	// alle Daten-Bits gelesen, Parity-Bit folgt
   0130 F5*29               970 	mov	_fb_pattern,a
   0132 60 03               971 	jz	00279$
   0134 02s03r4D            972 	ljmp	00217$
   0137                     973 00279$:
   0137 75*29 81            974 	mov	_fb_pattern,#0x81
   013A 02s03r4D            975 	ljmp	00217$
   013D                     976 00146$:
                    013D    977 	C$fb_lpc922.c$156$4$14 ==.
                            978 ;	..\fb_lpc922.c:156: TR1=0;
   013D C2 8E               979 	clr	_TCON_6
                    013F    980 	C$fb_lpc922.c$157$4$14 ==.
                            981 ;	..\fb_lpc922.c:157: TF1=0; //prüfen ob erforderlich!!!
   013F C2 8F               982 	clr	_TCON_7
                    0141    983 	C$fb_lpc922.c$158$4$14 ==.
                            984 ;	..\fb_lpc922.c:158: if(fb_parity==fbrx_bit) {				// Parity-Bit OK
   0141 A2*02               985 	mov	c,_fb_parity
   0143 20*00 01            986 	jb	b0,00280$
   0146 B3                  987 	cpl	c
   0147                     988 00280$:
   0147 50 26               989 	jnc	00130$
                    0149    990 	C$fb_lpc922.c$159$5$15 ==.
                            991 ;	..\fb_lpc922.c:159: if (telpos==0) {						// erstes empfangenes Byte
   0149 E5*26               992 	mov	a,_telpos
   014B 70 0E               993 	jnz	00125$
                    014D    994 	C$fb_lpc922.c$160$6$16 ==.
                            995 ;	..\fb_lpc922.c:160: if (fbrx_byte==0xCC) ack=1;				// ACK empfangen
   014D 74 CC               996 	mov	a,#0xCC
   014F B5*28 02            997 	cjne	a,_fbrx_byte,00121$
   0152 D2*03               998 	setb	_ack
   0154                     999 00121$:
                    0154   1000 	C$fb_lpc922.c$161$6$16 ==.
                           1001 ;	..\fb_lpc922.c:161: if (fbrx_byte==0x0C) nack=1;			// NACK empfangen
   0154 74 0C              1002 	mov	a,#0x0C
   0156 B5*28 02           1003 	cjne	a,_fbrx_byte,00125$
   0159 D2*04              1004 	setb	_nack
   015B                    1005 00125$:
                    015B   1006 	C$fb_lpc922.c$163$5$15 ==.
                           1007 ;	..\fb_lpc922.c:163: if (!ack && !nack) {					// Datenbyte empfangen
   015B 20*03 13           1008 	jb	_ack,00131$
   015E 20*04 10           1009 	jb	_nack,00131$
                    0161   1010 	C$fb_lpc922.c$164$6$17 ==.
                           1011 ;	..\fb_lpc922.c:164: telegramm[telpos]=fbrx_byte;			// Byte speichern
   0161 E5*26              1012 	mov	a,_telpos
   0163 24r07              1013 	add	a,#_telegramm
   0165 F8                 1014 	mov	r0,a
                    0166   1015 	C$fb_lpc922.c$165$6$17 ==.
                           1016 ;	..\fb_lpc922.c:165: cs^=fbrx_byte;							// Checksum berechnen
   0166 E5*28              1017 	mov	a,_fbrx_byte
   0168 F6                 1018 	mov	@r0,a
   0169 62*27              1019 	xrl	_cs,a
                    016B   1020 	C$fb_lpc922.c$166$6$17 ==.
                           1021 ;	..\fb_lpc922.c:166: telpos++;								// Telegrammzeiger erhöhen
   016B 05*26              1022 	inc	_telpos
   016D 80 02              1023 	sjmp	00131$
   016F                    1024 00130$:
                    016F   1025 	C$fb_lpc922.c$169$4$14 ==.
                           1026 ;	..\fb_lpc922.c:169: else parity_ok=0;						// Parity Error
   016F C2*00              1027 	clr	_parity_ok
   0171                    1028 00131$:
                    0171   1029 	C$fb_lpc922.c$171$4$14 ==.
                           1030 ;	..\fb_lpc922.c:171: if (wait_for_ack) {						// es wird ein ACK erwartet
                    0171   1031 	C$fb_lpc922.c$172$5$18 ==.
                           1032 ;	..\fb_lpc922.c:172: wait_for_ack=0;							// Flag zurücksetzen, da wir es ja gerade abarbeiten
   0171 10*0A 02           1033 	jbc	_wait_for_ack,00289$
   0174 80 1D              1034 	sjmp	00143$
   0176                    1035 00289$:
                    0176   1036 	C$fb_lpc922.c$173$5$18 ==.
                           1037 ;	..\fb_lpc922.c:173: if (ack && parity_ok) {					// ACK empfangen und auch erwartet
   0176 30*03 14           1038 	jnb	_ack,00135$
   0179 30*00 11           1039 	jnb	_parity_ok,00135$
                    017C   1040 	C$fb_lpc922.c$174$6$19 ==.
                           1041 ;	..\fb_lpc922.c:174: repeat_count=4;						// keine Wiederholtelegramme mehr senden
   017C 75*2B 04           1042 	mov	_repeat_count,#0x04
                    017F   1043 	C$fb_lpc922.c$175$6$19 ==.
                           1044 ;	..\fb_lpc922.c:175: if(inc_pcount) {
                    017F   1045 	C$fb_lpc922.c$176$7$20 ==.
                           1046 ;	..\fb_lpc922.c:176: inc_pcount=0;
   017F 10*0F 02           1047 	jbc	_inc_pcount,00292$
   0182 80 09              1048 	sjmp	00135$
   0184                    1049 00292$:
                    0184   1050 	C$fb_lpc922.c$177$7$20 ==.
                           1051 ;	..\fb_lpc922.c:177: pcount+=4;
   0184 E5*02              1052 	mov	a,_pcount
   0186 24 04              1053 	add	a,#0x04
   0188 F5*02              1054 	mov	_pcount,a
                    018A   1055 	C$fb_lpc922.c$178$7$20 ==.
                           1056 ;	..\fb_lpc922.c:178: pcount&=0x3C;
   018A 53*02 3C           1057 	anl	_pcount,#0x3C
   018D                    1058 00135$:
                    018D   1059 	C$fb_lpc922.c$181$5$18 ==.
                           1060 ;	..\fb_lpc922.c:181: init_rx();
   018D 12s03r6C           1061 	lcall	_init_rx
   0190 02s03r4D           1062 	ljmp	00217$
   0193                    1063 00143$:
                    0193   1064 	C$fb_lpc922.c$184$5$21 ==.
                           1065 ;	..\fb_lpc922.c:184: if (parity_ok && (!ack && !nack)) {		// ganz normales Datenbyte
   0193 30*00 1E           1066 	jnb	_parity_ok,00138$
   0196 20*03 1B           1067 	jb	_ack,00138$
   0199 20*04 18           1068 	jb	_nack,00138$
                    019C   1069 	C$fb_lpc922.c$185$6$22 ==.
                           1070 ;	..\fb_lpc922.c:185: TMOD=(TMOD & 0x0F) +0x10;			// Timer 1 als 16-Bit Timer
   019C 74 0F              1071 	mov	a,#0x0F
   019E 55 89              1072 	anl	a,_TMOD
   01A0 24 10              1073 	add	a,#0x10
   01A2 F5 89              1074 	mov	_TMOD,a
                    01A4   1075 	C$fb_lpc922.c$186$6$22 ==.
                           1076 ;	..\fb_lpc922.c:186: TH1=0xFA;//0xFA;							// Timer 1 auf Timeout-Position setzen (370us)
   01A4 75 8D FA           1077 	mov	_TH1,#0xFA
                    01A7   1078 	C$fb_lpc922.c$187$6$22 ==.
                           1079 ;	..\fb_lpc922.c:187: TL1=0x70;//4f 0xAB; (bis hierher sinds 91µs)
   01A7 75 8B 70           1080 	mov	_TL1,#0x70
                    01AA   1081 	C$fb_lpc922.c$188$6$22 ==.
                           1082 ;	..\fb_lpc922.c:188: TR1=1;
   01AA D2 8E              1083 	setb	_TCON_6
                    01AC   1084 	C$fb_lpc922.c$189$6$22 ==.
                           1085 ;	..\fb_lpc922.c:189: fb_state=4;							// nächster state: timeout = Telegramm fertig
   01AC 75*2A 04           1086 	mov	_fb_state,#0x04
                    01AF   1087 	C$fb_lpc922.c$190$6$22 ==.
                           1088 ;	..\fb_lpc922.c:190: EX1=1;								// int1 aktiv, falls noch ein Byte kommt
   01AF D2 AA              1089 	setb	_IEN0_2
   01B1 02s03r4D           1090 	ljmp	00217$
   01B4                    1091 00138$:
                    01B4   1092 	C$fb_lpc922.c$192$5$21 ==.
                           1093 ;	..\fb_lpc922.c:192: else init_rx();							// irgendwas empfangen
   01B4 12s03r6C           1094 	lcall	_init_rx
                    01B7   1095 	C$fb_lpc922.c$196$2$2 ==.
                           1096 ;	..\fb_lpc922.c:196: break;
   01B7 02s03r4D           1097 	ljmp	00217$
                    01BA   1098 	C$fb_lpc922.c$198$2$2 ==.
                           1099 ;	..\fb_lpc922.c:198: case 3: // T=104us=0us
   01BA                    1100 00151$:
                    01BA   1101 	C$fb_lpc922.c$199$2$2 ==.
                           1102 ;	..\fb_lpc922.c:199: TH1=128;// reload auf 35µs (Zeit zwischen State 2 und 3)
   01BA 75 8D 80           1103 	mov	_TH1,#0x80
                    01BD   1104 	C$fb_lpc922.c$200$2$2 ==.
                           1105 ;	..\fb_lpc922.c:200: fb_state=2;//1
   01BD 75*2A 02           1106 	mov	_fb_state,#0x02
                    01C0   1107 	C$fb_lpc922.c$201$2$2 ==.
                           1108 ;	..\fb_lpc922.c:201: break;
   01C0 02s03r4D           1109 	ljmp	00217$
                    01C3   1110 	C$fb_lpc922.c$203$2$2 ==.
                           1111 ;	..\fb_lpc922.c:203: case 4:	//	Timeout, d.h. Telegramm-Ende
   01C3                    1112 00152$:
                    01C3   1113 	C$fb_lpc922.c$204$2$2 ==.
                           1114 ;	..\fb_lpc922.c:204: if (auto_ack && telpos>4) {		// wenn ACK gesendet werden soll und Telegramm zumindest 5 Bytes hat
   01C3 30*08 64           1115 	jnb	_auto_ack,00170$
   01C6 E5*26              1116 	mov	a,_telpos
   01C8 24 FB              1117 	add	a,#0xff - 0x04
   01CA 50 5E              1118 	jnc	00170$
                    01CC   1119 	C$fb_lpc922.c$205$3$23 ==.
                           1120 ;	..\fb_lpc922.c:205: TR1=0;
   01CC C2 8E              1121 	clr	_TCON_6
                    01CE   1122 	C$fb_lpc922.c$206$3$23 ==.
                           1123 ;	..\fb_lpc922.c:206: TMOD=(TMOD & 0x0F) +0x10;	// Timer 1 als 16-Bit Timer
   01CE 74 0F              1124 	mov	a,#0x0F
   01D0 55 89              1125 	anl	a,_TMOD
   01D2 24 10              1126 	add	a,#0x10
   01D4 F5 89              1127 	mov	_TMOD,a
                    01D6   1128 	C$fb_lpc922.c$207$3$23 ==.
                           1129 ;	..\fb_lpc922.c:207: TH1=0xEF;					// Timer 1 auf ACK-Position setzen (15 Bit Pause = 2708µs (26 Bit) nach Beginn Startbit vom letzten Datenbyte)
   01D6 75 8D EF           1130 	mov	_TH1,#0xEF
                    01D9   1131 	C$fb_lpc922.c$208$3$23 ==.
                           1132 ;	..\fb_lpc922.c:208: TL1=0x42;
   01D9 75 8B 42           1133 	mov	_TL1,#0x42
                    01DC   1134 	C$fb_lpc922.c$209$3$23 ==.
                           1135 ;	..\fb_lpc922.c:209: TR1=1;
   01DC D2 8E              1136 	setb	_TCON_6
                    01DE   1137 	C$fb_lpc922.c$210$3$23 ==.
                           1138 ;	..\fb_lpc922.c:210: its_me=transparency;			// indiziert, ob dieses Gerät adressiert wurde, bei transparecy=1 immer
   01DE A2*0D              1139 	mov	c,_transparency
   01E0 92*05              1140 	mov	_its_me,c
                    01E2   1141 	C$fb_lpc922.c$211$3$23 ==.
                           1142 ;	..\fb_lpc922.c:211: if(telegramm[5]&0x80) {
   01E2 E5*0C              1143 	mov	a,(_telegramm + 0x0005)
   01E4 30 E7 1F           1144 	jnb	acc.7,00162$
                    01E7   1145 	C$fb_lpc922.c$212$4$24 ==.
                           1146 ;	..\fb_lpc922.c:212: if (gapos_in_gat(telegramm[3],telegramm[4])!=0xFF) its_me=1;	// Gruppenadresse
   01E7 85*0A 82           1147 	mov	dpl,(_telegramm + 0x0003)
   01EA C0*0B              1148 	push	(_telegramm + 0x0004)
   01EC 12s03rE2           1149 	lcall	_gapos_in_gat
   01EF AF 82              1150 	mov	r7,dpl
   01F1 15 81              1151 	dec	sp
   01F3 BF FF 02           1152 	cjne	r7,#0xFF,00299$
   01F6 80 02              1153 	sjmp	00154$
   01F8                    1154 00299$:
   01F8 D2*05              1155 	setb	_its_me
   01FA                    1156 00154$:
                    01FA   1157 	C$fb_lpc922.c$213$4$24 ==.
                           1158 ;	..\fb_lpc922.c:213: if (telegramm[3]==0 && telegramm[4]==0) its_me=1;				// Broadcast
   01FA E5*0A              1159 	mov	a,(_telegramm + 0x0003)
   01FC 70 1C              1160 	jnz	00163$
   01FE E5*0B              1161 	mov	a,(_telegramm + 0x0004)
   0200 70 18              1162 	jnz	00163$
   0202 D2*05              1163 	setb	_its_me
   0204 80 14              1164 	sjmp	00163$
   0206                    1165 00162$:
                    0206   1166 	C$fb_lpc922.c$215$3$23 ==.
                           1167 ;	..\fb_lpc922.c:215: else if(telegramm[3]==eeprom[ADDRTAB+1] && telegramm[4]==eeprom[ADDRTAB+2]) its_me=1;	// phys. Adresse
   0206 90 1D 17           1168 	mov	dptr,#(_eeprom + 0x0017)
   0209 E4                 1169 	clr	a
   020A 93                 1170 	movc	a,@a+dptr
   020B FF                 1171 	mov	r7,a
   020C B5*0A 0B           1172 	cjne	a,(_telegramm + 0x0003),00163$
   020F 90 1D 18           1173 	mov	dptr,#(_eeprom + 0x0018)
   0212 E4                 1174 	clr	a
   0213 93                 1175 	movc	a,@a+dptr
   0214 FF                 1176 	mov	r7,a
   0215 B5*0B 02           1177 	cjne	a,(_telegramm + 0x0004),00163$
   0218 D2*05              1178 	setb	_its_me
   021A                    1179 00163$:
                    021A   1180 	C$fb_lpc922.c$216$3$23 ==.
                           1181 ;	..\fb_lpc922.c:216: if ((cs==0xFF) && its_me) tel_arrived=1;
   021A 74 FF              1182 	mov	a,#0xFF
   021C B5*27 05           1183 	cjne	a,_cs,00165$
   021F 30*05 02           1184 	jnb	_its_me,00165$
   0222 D2*06              1185 	setb	_tel_arrived
   0224                    1186 00165$:
                    0224   1187 	C$fb_lpc922.c$217$3$23 ==.
                           1188 ;	..\fb_lpc922.c:217: fb_state=5;					// nächster state: ACK-Position erreicht
   0224 75*2A 05           1189 	mov	_fb_state,#0x05
   0227 02s03r4D           1190 	ljmp	00217$
   022A                    1191 00170$:
                    022A   1192 	C$fb_lpc922.c$221$3$25 ==.
                           1193 ;	..\fb_lpc922.c:221: if (telpos>1) tel_arrived=1;	// trotzdem den Eingang eines Telegramms anzeigen
   022A E5*26              1194 	mov	a,_telpos
   022C 24 FE              1195 	add	a,#0xff - 0x01
   022E 50 02              1196 	jnc	00168$
   0230 D2*06              1197 	setb	_tel_arrived
   0232                    1198 00168$:
                    0232   1199 	C$fb_lpc922.c$222$3$25 ==.
                           1200 ;	..\fb_lpc922.c:222: init_rx();						// wieder in den Empfang zurück
   0232 12s03r6C           1201 	lcall	_init_rx
                    0235   1202 	C$fb_lpc922.c$224$2$2 ==.
                           1203 ;	..\fb_lpc922.c:224: break;
   0235 02s03r4D           1204 	ljmp	00217$
                    0238   1205 	C$fb_lpc922.c$226$2$2 ==.
                           1206 ;	..\fb_lpc922.c:226: case 5:	// ACK-Position erreicht
   0238                    1207 00173$:
                    0238   1208 	C$fb_lpc922.c$227$2$2 ==.
                           1209 ;	..\fb_lpc922.c:227: TR1=0;
   0238 C2 8E              1210 	clr	_TCON_6
                    023A   1211 	C$fb_lpc922.c$228$2$2 ==.
                           1212 ;	..\fb_lpc922.c:228: if (cs==0xFF) {	// Checksum OK
   023A 74 FF              1213 	mov	a,#0xFF
   023C B5*27 13           1214 	cjne	a,_cs,00178$
                    023F   1215 	C$fb_lpc922.c$229$3$26 ==.
                           1216 ;	..\fb_lpc922.c:229: if (its_me) {					// Gerät adressiert
   023F 30*05 0A           1217 	jnb	_its_me,00175$
                    0242   1218 	C$fb_lpc922.c$230$4$27 ==.
                           1219 ;	..\fb_lpc922.c:230: send_ack=1;
   0242 D2*0B              1220 	setb	_send_ack
                    0244   1221 	C$fb_lpc922.c$231$4$27 ==.
                           1222 ;	..\fb_lpc922.c:231: init_tx();						// Senden initiieren
   0244 12s03r98           1223 	lcall	_init_tx
                    0247   1224 	C$fb_lpc922.c$232$4$27 ==.
                           1225 ;	..\fb_lpc922.c:232: wait_for_ack=0;					// bei ACK senden nicht erneut auf ACK warten
   0247 C2*0A              1226 	clr	_wait_for_ack
   0249 02s03r4D           1227 	ljmp	00217$
   024C                    1228 00175$:
                    024C   1229 	C$fb_lpc922.c$234$3$26 ==.
                           1230 ;	..\fb_lpc922.c:234: else init_rx();					// Gerät nicht adressiert, also zurück zu Empfang
   024C 12s03r6C           1231 	lcall	_init_rx
   024F 02s03r4D           1232 	ljmp	00217$
   0252                    1233 00178$:
                    0252   1234 	C$fb_lpc922.c$237$3$28 ==.
                           1235 ;	..\fb_lpc922.c:237: send_nack=1;
   0252 D2*0C              1236 	setb	_send_nack
                    0254   1237 	C$fb_lpc922.c$238$3$28 ==.
                           1238 ;	..\fb_lpc922.c:238: init_tx();
   0254 12s03r98           1239 	lcall	_init_tx
                    0257   1240 	C$fb_lpc922.c$239$3$28 ==.
                           1241 ;	..\fb_lpc922.c:239: wait_for_ack=0;					// bei NACK senden nicht erneut auf ACK warten
   0257 C2*0A              1242 	clr	_wait_for_ack
                    0259   1243 	C$fb_lpc922.c$241$2$2 ==.
                           1244 ;	..\fb_lpc922.c:241: break;
   0259 02s03r4D           1245 	ljmp	00217$
                    025C   1246 	C$fb_lpc922.c$245$2$2 ==.
                           1247 ;	..\fb_lpc922.c:245: case 10:	// Byte Senden, T=0us
   025C                    1248 00180$:
                    025C   1249 	C$fb_lpc922.c$246$2$2 ==.
                           1250 ;	..\fb_lpc922.c:246: send_byte=telegramm[telpos];
   025C E5*26              1251 	mov	a,_telpos
   025E 24r07              1252 	add	a,#_telegramm
   0260 F9                 1253 	mov	r1,a
   0261 87 07              1254 	mov	ar7,@r1
                    0263   1255 	C$fb_lpc922.c$247$2$2 ==.
                           1256 ;	..\fb_lpc922.c:247: if (send_ack) send_byte=0xCC;
   0263 30*0B 02           1257 	jnb	_send_ack,00182$
   0266 7F CC              1258 	mov	r7,#0xCC
   0268                    1259 00182$:
                    0268   1260 	C$fb_lpc922.c$248$2$2 ==.
                           1261 ;	..\fb_lpc922.c:248: if (send_nack) send_byte=0x0C;
   0268 30*0C 02           1262 	jnb	_send_nack,00184$
   026B 7F 0C              1263 	mov	r7,#0x0C
   026D                    1264 00184$:
                    026D   1265 	C$fb_lpc922.c$249$2$2 ==.
                           1266 ;	..\fb_lpc922.c:249: EX1=0;					// Empfang verhindern
   026D C2 AA              1267 	clr	_IEN0_2
                    026F   1268 	C$fb_lpc922.c$250$2$2 ==.
                           1269 ;	..\fb_lpc922.c:250: if(fb_state==10){
   026F 74 0A              1270 	mov	a,#0x0A
   0271 B5*2A 02           1271 	cjne	a,_fb_state,00315$
   0274 80 03              1272 	sjmp	00316$
   0276                    1273 00315$:
   0276 02s03r4D           1274 	ljmp	00217$
   0279                    1275 00316$:
                    0279   1276 	C$fb_lpc922.c$251$3$29 ==.
                           1277 ;	..\fb_lpc922.c:251: if (fb_pattern<=128) {			// Startbit und Datenbits (pattern=0:startbit, 1 2 4 8 .. 128 Datenbits, 129 parity)
   0279 E5*29              1278 	mov	a,_fb_pattern
   027B 24 7F              1279 	add	a,#0xff - 0x80
   027D 40 2C              1280 	jc	00197$
                    027F   1281 	C$fb_lpc922.c$252$4$30 ==.
                           1282 ;	..\fb_lpc922.c:252: if ((send_byte & fb_pattern)==0) {	// wenn Bit logisch 0 ist
   027F E5*29              1283 	mov	a,_fb_pattern
   0281 5F                 1284 	anl	a,r7
   0282 70 08              1285 	jnz	00186$
                    0284   1286 	C$fb_lpc922.c$254$5$31 ==.
                           1287 ;	..\fb_lpc922.c:254: FBOUTC=1;						// Bus runter ziehen
   0284 D2 96              1288 	setb	_P1_6
                    0286   1289 	C$fb_lpc922.c$256$5$31 ==.
                           1290 ;	..\fb_lpc922.c:256: fbtx_bit=0;						// fbtx_bit dient zur späteren Kollisionsprüfung
   0286 C2*09              1291 	clr	_fbtx_bit
                    0288   1292 	C$fb_lpc922.c$257$5$31 ==.
                           1293 ;	..\fb_lpc922.c:257: fb_parity=!fb_parity;			// Parity-Bit berechnen
   0288 B2*02              1294 	cpl	_fb_parity
   028A 80 02              1295 	sjmp	00187$
   028C                    1296 00186$:
                    028C   1297 	C$fb_lpc922.c$259$4$30 ==.
                           1298 ;	..\fb_lpc922.c:259: else fbtx_bit=1;
   028C D2*09              1299 	setb	_fbtx_bit
   028E                    1300 00187$:
                    028E   1301 	C$fb_lpc922.c$260$4$30 ==.
                           1302 ;	..\fb_lpc922.c:260: if (fb_pattern==0) {				// wenn Startbit: parity zurücksetzen
   028E E5*29              1303 	mov	a,_fb_pattern
   0290 70 07              1304 	jnz	00189$
                    0292   1305 	C$fb_lpc922.c$261$5$32 ==.
                           1306 ;	..\fb_lpc922.c:261: fb_pattern=1;					// auf erstes Datenbit zeigen
   0292 75*29 01           1307 	mov	_fb_pattern,#0x01
                    0295   1308 	C$fb_lpc922.c$262$5$32 ==.
                           1309 ;	..\fb_lpc922.c:262: fb_parity=0;
   0295 C2*02              1310 	clr	_fb_parity
   0297 80 06              1311 	sjmp	00190$
   0299                    1312 00189$:
                    0299   1313 	C$fb_lpc922.c$264$4$30 ==.
                           1314 ;	..\fb_lpc922.c:264: else fb_pattern=fb_pattern<<1;		// nächstes Datenbit
   0299 E5*29              1315 	mov	a,_fb_pattern
   029B 25*29              1316 	add	a,_fb_pattern
   029D F5*29              1317 	mov	_fb_pattern,a
   029F                    1318 00190$:
                    029F   1319 	C$fb_lpc922.c$265$4$30 ==.
                           1320 ;	..\fb_lpc922.c:265: if(fb_pattern==0) fb_pattern=129;	// alle Daten-Bits gesendet, Parity-Bit folgt
   029F E5*29              1321 	mov	a,_fb_pattern
   02A1 70 03              1322 	jnz	00192$
   02A3 75*29 81           1323 	mov	_fb_pattern,#0x81
   02A6                    1324 00192$:
                    02A6   1325 	C$fb_lpc922.c$266$4$30 ==.
                           1326 ;	..\fb_lpc922.c:266: fb_state=11;
   02A6 75*2A 0B           1327 	mov	_fb_state,#0x0B
   02A9 80 13              1328 	sjmp	00198$
   02AB                    1329 00197$:
                    02AB   1330 	C$fb_lpc922.c$269$4$33 ==.
                           1331 ;	..\fb_lpc922.c:269: if (!fb_parity) {				// wenn Parity-Bit logisch 0
   02AB 20*02 06           1332 	jb	_fb_parity,00194$
                    02AE   1333 	C$fb_lpc922.c$270$5$34 ==.
                           1334 ;	..\fb_lpc922.c:270: FBOUTC=1;						// Bus runterziehen
   02AE D2 96              1335 	setb	_P1_6
                    02B0   1336 	C$fb_lpc922.c$271$5$34 ==.
                           1337 ;	..\fb_lpc922.c:271: fbtx_bit=0;						// fbtx_bit dient zur späteren Kollisionsprüfung
   02B0 C2*09              1338 	clr	_fbtx_bit
   02B2 80 02              1339 	sjmp	00195$
   02B4                    1340 00194$:
                    02B4   1341 	C$fb_lpc922.c$273$4$33 ==.
                           1342 ;	..\fb_lpc922.c:273: else fbtx_bit=1;
   02B4 D2*09              1343 	setb	_fbtx_bit
   02B6                    1344 00195$:
                    02B6   1345 	C$fb_lpc922.c$274$4$33 ==.
                           1346 ;	..\fb_lpc922.c:274: telpos++;					// nächstes Byte
   02B6 05*26              1347 	inc	_telpos
                    02B8   1348 	C$fb_lpc922.c$275$4$33 ==.
                           1349 ;	..\fb_lpc922.c:275: fb_pattern=0;				// wieder mit Startbit beginnen
   02B8 75*29 00           1350 	mov	_fb_pattern,#0x00
                    02BB   1351 	C$fb_lpc922.c$276$4$33 ==.
                           1352 ;	..\fb_lpc922.c:276: fb_state=13;				// Prüfen ob Telegramm fertig
   02BB 75*2A 0D           1353 	mov	_fb_state,#0x0D
   02BE                    1354 00198$:
                    02BE   1355 	C$fb_lpc922.c$278$3$29 ==.
                           1356 ;	..\fb_lpc922.c:278: TH1=18; //reload 70µ -delay interrupt (von state 11 auf 13)
   02BE 75 8D 12           1357 	mov	_TH1,#0x12
                    02C1   1358 	C$fb_lpc922.c$280$2$2 ==.
                           1359 ;	..\fb_lpc922.c:280: break;
   02C1 02s03r4D           1360 	ljmp	00217$
                    02C4   1361 	C$fb_lpc922.c$282$2$2 ==.
                           1362 ;	..\fb_lpc922.c:282: case 11:	// Sendestufe aus, T=35us
   02C4                    1363 00201$:
                    02C4   1364 	C$fb_lpc922.c$283$2$2 ==.
                           1365 ;	..\fb_lpc922.c:283: if(telpos==0 && fb_pattern==1) {	// 1. Byte Startbit
   02C4 E5*26              1366 	mov	a,_telpos
   02C6 70 07              1367 	jnz	00203$
   02C8 74 01              1368 	mov	a,#0x01
   02CA B5*29 02           1369 	cjne	a,_fb_pattern,00203$
                    02CD   1370 	C$fb_lpc922.c$284$3$35 ==.
                           1371 ;	..\fb_lpc922.c:284: repeat_count++;		// angefangener Sendeversuch, also Zähler erhöhen
   02CD 05*2B              1372 	inc	_repeat_count
   02CF                    1373 00203$:
                    02CF   1374 	C$fb_lpc922.c$286$2$2 ==.
                           1375 ;	..\fb_lpc922.c:286: FBOUTC=0;				// Sendestufe aus
   02CF C2 96              1376 	clr	_P1_6
                    02D1   1377 	C$fb_lpc922.c$287$2$2 ==.
                           1378 ;	..\fb_lpc922.c:287: if (fbtx_bit & IE1) {	// Kollision
   02D1 A2*09              1379 	mov	c,_fbtx_bit
   02D3 82 8B              1380 	anl	c,_TCON_3
   02D5 50 07              1381 	jnc	00206$
                    02D7   1382 	C$fb_lpc922.c$288$3$36 ==.
                           1383 ;	..\fb_lpc922.c:288: wait_for_ack=0;
   02D7 C2*0A              1384 	clr	_wait_for_ack
                    02D9   1385 	C$fb_lpc922.c$289$3$36 ==.
                           1386 ;	..\fb_lpc922.c:289: init_rx();				// Senden abbrechen und Empfang initialisieren
   02D9 12s03r6C           1387 	lcall	_init_rx
   02DC 80 06              1388 	sjmp	00207$
   02DE                    1389 00206$:
                    02DE   1390 	C$fb_lpc922.c$292$3$37 ==.
                           1391 ;	..\fb_lpc922.c:292: fb_state=10;//12;
   02DE 75*2A 0A           1392 	mov	_fb_state,#0x0A
                    02E1   1393 	C$fb_lpc922.c$293$3$37 ==.
                           1394 ;	..\fb_lpc922.c:293: TH1=110;// 35µs + delay (von state 10 auf 11)
   02E1 75 8D 6E           1395 	mov	_TH1,#0x6E
   02E4                    1396 00207$:
                    02E4   1397 	C$fb_lpc922.c$295$2$2 ==.
                           1398 ;	..\fb_lpc922.c:295: IE1=0;					// Flipflop löschen
   02E4 C2 8B              1399 	clr	_TCON_3
                    02E6   1400 	C$fb_lpc922.c$296$2$2 ==.
                           1401 ;	..\fb_lpc922.c:296: break;
                    02E6   1402 	C$fb_lpc922.c$302$2$2 ==.
                           1403 ;	..\fb_lpc922.c:302: case 13:	// Byte übertragen, T=35us, prüfen ob Telegramm fertig
   02E6 80 65              1404 	sjmp	00217$
   02E8                    1405 00208$:
                    02E8   1406 	C$fb_lpc922.c$303$2$2 ==.
                           1407 ;	..\fb_lpc922.c:303: FBOUTC=0;
   02E8 C2 96              1408 	clr	_P1_6
                    02EA   1409 	C$fb_lpc922.c$304$2$2 ==.
                           1410 ;	..\fb_lpc922.c:304: TR1=0;
   02EA C2 8E              1411 	clr	_TCON_6
                    02EC   1412 	C$fb_lpc922.c$305$2$2 ==.
                           1413 ;	..\fb_lpc922.c:305: TMOD=(TMOD & 0x0F) +0x10;	// Timer 1 als 16-Bit Timer
   02EC 74 0F              1414 	mov	a,#0x0F
   02EE 55 89              1415 	anl	a,_TMOD
   02F0 24 10              1416 	add	a,#0x10
   02F2 F5 89              1417 	mov	_TMOD,a
                    02F4   1418 	C$fb_lpc922.c$306$2$2 ==.
                           1419 ;	..\fb_lpc922.c:306: TH1=0xFB;					// Timer 1 auf Interbyte Abstand setzen (3 Bit Pause = 312µs 
   02F4 75 8D FB           1420 	mov	_TH1,#0xFB
                    02F7   1421 	C$fb_lpc922.c$307$2$2 ==.
                           1422 ;	..\fb_lpc922.c:307: TL1=0x90;
   02F7 75 8B 90           1423 	mov	_TL1,#0x90
                    02FA   1424 	C$fb_lpc922.c$308$2$2 ==.
                           1425 ;	..\fb_lpc922.c:308: TR1=1;
   02FA D2 8E              1426 	setb	_TCON_6
                    02FC   1427 	C$fb_lpc922.c$309$2$2 ==.
                           1428 ;	..\fb_lpc922.c:309: if (send_ack || send_nack) {	// ACK/NACK senden
   02FC 20*0B 03           1429 	jb	_send_ack,00212$
   02FF 30*0C 05           1430 	jnb	_send_nack,00213$
   0302                    1431 00212$:
                    0302   1432 	C$fb_lpc922.c$310$3$38 ==.
                           1433 ;	..\fb_lpc922.c:310: init_rx();					// ACK senden abgeschlossen, also statemachine auf Anfang
   0302 12s03r6C           1434 	lcall	_init_rx
   0305 80 2B              1435 	sjmp	00214$
   0307                    1436 00213$:
                    0307   1437 	C$fb_lpc922.c$313$3$39 ==.
                           1438 ;	..\fb_lpc922.c:313: if (telpos>((telegramm[5]&0x0F)+7)) {		// Telegramm fertig gesendet
   0307 74 0F              1439 	mov	a,#0x0F
   0309 55*0C              1440 	anl	a,(_telegramm + 0x0005)
   030B FF                 1441 	mov	r7,a
   030C 7E 00              1442 	mov	r6,#0x00
   030E 74 07              1443 	mov	a,#0x07
   0310 2F                 1444 	add	a,r7
   0311 FF                 1445 	mov	r7,a
   0312 E4                 1446 	clr	a
   0313 3E                 1447 	addc	a,r6
   0314 FE                 1448 	mov	r6,a
   0315 AC*26              1449 	mov	r4,_telpos
   0317 7D 00              1450 	mov	r5,#0x00
   0319 C3                 1451 	clr	c
   031A EF                 1452 	mov	a,r7
   031B 9C                 1453 	subb	a,r4
   031C EE                 1454 	mov	a,r6
   031D 64 80              1455 	xrl	a,#0x80
   031F 8D F0              1456 	mov	b,r5
   0321 63 F0 80           1457 	xrl	b,#0x80
   0324 95 F0              1458 	subb	a,b
   0326 50 07              1459 	jnc	00210$
                    0328   1460 	C$fb_lpc922.c$314$4$40 ==.
                           1461 ;	..\fb_lpc922.c:314: tel_sent=1;
   0328 D2*07              1462 	setb	_tel_sent
                    032A   1463 	C$fb_lpc922.c$315$4$40 ==.
                           1464 ;	..\fb_lpc922.c:315: init_rx();	// Telegramm senden abgeschlossen, ggf. wiederholen wenn nicht geackt wird
   032A 12s03r6C           1465 	lcall	_init_rx
   032D 80 03              1466 	sjmp	00214$
   032F                    1467 00210$:
                    032F   1468 	C$fb_lpc922.c$317$3$39 ==.
                           1469 ;	..\fb_lpc922.c:317: else fb_state=14;		// nächstes Byte: Interbyte Abstand einhalten
   032F 75*2A 0E           1470 	mov	_fb_state,#0x0E
   0332                    1471 00214$:
                    0332   1472 	C$fb_lpc922.c$319$2$2 ==.
                           1473 ;	..\fb_lpc922.c:319: IE1=0;
   0332 C2 8B              1474 	clr	_TCON_3
                    0334   1475 	C$fb_lpc922.c$320$2$2 ==.
                           1476 ;	..\fb_lpc922.c:320: break;
                    0334   1477 	C$fb_lpc922.c$322$2$2 ==.
                           1478 ;	..\fb_lpc922.c:322: case 14:	// Interbyte Abstand erreicht (=Stopbit + 2 Bit)
   0334 80 17              1479 	sjmp	00217$
   0336                    1480 00216$:
                    0336   1481 	C$fb_lpc922.c$323$2$2 ==.
                           1482 ;	..\fb_lpc922.c:323: TR1=0;
   0336 C2 8E              1483 	clr	_TCON_6
                    0338   1484 	C$fb_lpc922.c$324$2$2 ==.
                           1485 ;	..\fb_lpc922.c:324: TMOD=(TMOD & 0x0F) +0x20;			// Timer 1 als 8-Bit autoreload
   0338 74 0F              1486 	mov	a,#0x0F
   033A 55 89              1487 	anl	a,_TMOD
   033C 24 20              1488 	add	a,#0x20
   033E F5 89              1489 	mov	_TMOD,a
                    0340   1490 	C$fb_lpc922.c$325$2$2 ==.
                           1491 ;	..\fb_lpc922.c:325: TH1=110;							// Timer 1 auf 104/3 us laden
   0340 75 8D 6E           1492 	mov	_TH1,#0x6E
                    0343   1493 	C$fb_lpc922.c$326$2$2 ==.
                           1494 ;	..\fb_lpc922.c:326: TL1=128;
   0343 75 8B 80           1495 	mov	_TL1,#0x80
                    0346   1496 	C$fb_lpc922.c$327$2$2 ==.
                           1497 ;	..\fb_lpc922.c:327: TF1=0;
   0346 C2 8F              1498 	clr	_TCON_7
                    0348   1499 	C$fb_lpc922.c$328$2$2 ==.
                           1500 ;	..\fb_lpc922.c:328: TR1=1;
   0348 D2 8E              1501 	setb	_TCON_6
                    034A   1502 	C$fb_lpc922.c$329$2$2 ==.
                           1503 ;	..\fb_lpc922.c:329: fb_state=10;
   034A 75*2A 0A           1504 	mov	_fb_state,#0x0A
                    034D   1505 	C$fb_lpc922.c$334$1$1 ==.
                           1506 ;	..\fb_lpc922.c:334: }
   034D                    1507 00217$:
                    034D   1508 	C$fb_lpc922.c$335$1$1 ==.
                           1509 ;	..\fb_lpc922.c:335: interrupted=1;			// zeigt der app, dass sie unterbrochen wurde
   034D D2*01              1510 	setb	_interrupted
   034F D0 D0              1511 	pop	psw
   0351 D0 00              1512 	pop	(0+0)
   0353 D0 01              1513 	pop	(0+1)
   0355 D0 02              1514 	pop	(0+2)
   0357 D0 03              1515 	pop	(0+3)
   0359 D0 04              1516 	pop	(0+4)
   035B D0 05              1517 	pop	(0+5)
   035D D0 06              1518 	pop	(0+6)
   035F D0 07              1519 	pop	(0+7)
   0361 D0 83              1520 	pop	dph
   0363 D0 82              1521 	pop	dpl
   0365 D0 F0              1522 	pop	b
   0367 D0 E0              1523 	pop	acc
   0369 D0*00              1524 	pop	bits
                    036B   1525 	C$fb_lpc922.c$336$1$1 ==.
                    036B   1526 	XG$T1_int$0$0 ==.
   036B 32                 1527 	reti
                           1528 ;------------------------------------------------------------
                           1529 ;Allocation info for local variables in function 'init_rx'
                           1530 ;------------------------------------------------------------
                    036C   1531 	G$init_rx$0$0 ==.
                    036C   1532 	C$fb_lpc922.c$339$1$1 ==.
                           1533 ;	..\fb_lpc922.c:339: void init_rx(void) 	// Empfangen initiieren (statemachine auf Anfang)
                           1534 ;	-----------------------------------------
                           1535 ;	 function init_rx
                           1536 ;	-----------------------------------------
   036C                    1537 _init_rx:
                    036C   1538 	C$fb_lpc922.c$341$1$1 ==.
                           1539 ;	..\fb_lpc922.c:341: fb_state=0;
   036C 75*2A 00           1540 	mov	_fb_state,#0x00
                    036F   1541 	C$fb_lpc922.c$342$1$1 ==.
                           1542 ;	..\fb_lpc922.c:342: IE1=0;
   036F C2 8B              1543 	clr	_TCON_3
                    0371   1544 	C$fb_lpc922.c$343$1$1 ==.
                           1545 ;	..\fb_lpc922.c:343: TR1=0;
   0371 C2 8E              1546 	clr	_TCON_6
                    0373   1547 	C$fb_lpc922.c$344$1$1 ==.
                           1548 ;	..\fb_lpc922.c:344: ET1=0;
   0373 C2 AB              1549 	clr	_IEN0_3
                    0375   1550 	C$fb_lpc922.c$345$1$1 ==.
                           1551 ;	..\fb_lpc922.c:345: cs=0;
   0375 75*27 00           1552 	mov	_cs,#0x00
                    0378   1553 	C$fb_lpc922.c$346$1$1 ==.
                           1554 ;	..\fb_lpc922.c:346: telpos=0;
   0378 75*26 00           1555 	mov	_telpos,#0x00
                    037B   1556 	C$fb_lpc922.c$347$1$1 ==.
                           1557 ;	..\fb_lpc922.c:347: TR1=0;
   037B C2 8E              1558 	clr	_TCON_6
                    037D   1559 	C$fb_lpc922.c$348$1$1 ==.
                           1560 ;	..\fb_lpc922.c:348: TMOD=(TMOD & 0x0F) +0x10;	// Timer 1 als 16-Bit Timer
   037D 74 0F              1561 	mov	a,#0x0F
   037F 55 89              1562 	anl	a,_TMOD
   0381 24 10              1563 	add	a,#0x10
   0383 F5 89              1564 	mov	_TMOD,a
                    0385   1565 	C$fb_lpc922.c$349$1$1 ==.
                           1566 ;	..\fb_lpc922.c:349: TH1=0x89;					// busfree Zeit = 15 Bit (auf ACK) + 11 Bit (ACK) + 53 Bit
   0385 75 8D 89           1567 	mov	_TH1,#0x89
                    0388   1568 	C$fb_lpc922.c$350$1$1 ==.
                           1569 ;	..\fb_lpc922.c:350: TL1=0xAF;
   0388 75 8B AF           1570 	mov	_TL1,#0xAF
                    038B   1571 	C$fb_lpc922.c$351$1$1 ==.
                           1572 ;	..\fb_lpc922.c:351: send_ack=0;
   038B C2*0B              1573 	clr	_send_ack
                    038D   1574 	C$fb_lpc922.c$352$1$1 ==.
                           1575 ;	..\fb_lpc922.c:352: send_nack=0;
   038D C2*0C              1576 	clr	_send_nack
                    038F   1577 	C$fb_lpc922.c$353$1$1 ==.
                           1578 ;	..\fb_lpc922.c:353: TF1=0;
   038F C2 8F              1579 	clr	_TCON_7
                    0391   1580 	C$fb_lpc922.c$354$1$1 ==.
                           1581 ;	..\fb_lpc922.c:354: TR1=1;
   0391 D2 8E              1582 	setb	_TCON_6
                    0393   1583 	C$fb_lpc922.c$355$1$1 ==.
                           1584 ;	..\fb_lpc922.c:355: EX1=1;
   0393 D2 AA              1585 	setb	_IEN0_2
                    0395   1586 	C$fb_lpc922.c$356$1$1 ==.
                           1587 ;	..\fb_lpc922.c:356: ET1=1;
   0395 D2 AB              1588 	setb	_IEN0_3
                    0397   1589 	C$fb_lpc922.c$357$1$1 ==.
                    0397   1590 	XG$init_rx$0$0 ==.
   0397 22                 1591 	ret
                           1592 ;------------------------------------------------------------
                           1593 ;Allocation info for local variables in function 'init_tx'
                           1594 ;------------------------------------------------------------
                           1595 ;n                         Allocated to registers r6 
                           1596 ;cs_pos                    Allocated to registers r7 
                           1597 ;------------------------------------------------------------
                    0398   1598 	G$init_tx$0$0 ==.
                    0398   1599 	C$fb_lpc922.c$360$1$1 ==.
                           1600 ;	..\fb_lpc922.c:360: void init_tx(void) 		// Checksum des Telegramms berechnen und Senden initiieren
                           1601 ;	-----------------------------------------
                           1602 ;	 function init_tx
                           1603 ;	-----------------------------------------
   0398                    1604 _init_tx:
                    0398   1605 	C$fb_lpc922.c$364$1$1 ==.
                           1606 ;	..\fb_lpc922.c:364: TR1=0;
   0398 C2 8E              1607 	clr	_TCON_6
                    039A   1608 	C$fb_lpc922.c$365$1$1 ==.
                           1609 ;	..\fb_lpc922.c:365: TMOD=(TMOD & 0x0F) +0x20;			// Timer 1 als 8-Bit autoreload
   039A 74 0F              1610 	mov	a,#0x0F
   039C 55 89              1611 	anl	a,_TMOD
   039E 24 20              1612 	add	a,#0x20
   03A0 F5 89              1613 	mov	_TMOD,a
                    03A2   1614 	C$fb_lpc922.c$366$1$1 ==.
                           1615 ;	..\fb_lpc922.c:366: TH1=110;							// von state 10 auf 11
   03A2 75 8D 6E           1616 	mov	_TH1,#0x6E
                    03A5   1617 	C$fb_lpc922.c$367$1$1 ==.
                           1618 ;	..\fb_lpc922.c:367: TL1=128;							// von hier bis state 10
   03A5 75 8B 80           1619 	mov	_TL1,#0x80
                    03A8   1620 	C$fb_lpc922.c$368$1$1 ==.
                           1621 ;	..\fb_lpc922.c:368: TF1=0;
   03A8 C2 8F              1622 	clr	_TCON_7
                    03AA   1623 	C$fb_lpc922.c$370$1$1 ==.
                           1624 ;	..\fb_lpc922.c:370: cs_pos=(telegramm[5]&0x0F)+7;		// Position der Checksum im Telegramm
   03AA 74 0F              1625 	mov	a,#0x0F
   03AC 55*0C              1626 	anl	a,(_telegramm + 0x0005)
   03AE 24 07              1627 	add	a,#0x07
   03B0 FF                 1628 	mov	r7,a
                    03B1   1629 	C$fb_lpc922.c$371$1$1 ==.
                           1630 ;	..\fb_lpc922.c:371: cs=0xFF;
   03B1 75*27 FF           1631 	mov	_cs,#0xFF
                    03B4   1632 	C$fb_lpc922.c$372$1$1 ==.
                           1633 ;	..\fb_lpc922.c:372: for(n=0;n<cs_pos;n++) {
   03B4 7E 00              1634 	mov	r6,#0x00
   03B6                    1635 00101$:
   03B6 C3                 1636 	clr	c
   03B7 EE                 1637 	mov	a,r6
   03B8 9F                 1638 	subb	a,r7
   03B9 50 0B              1639 	jnc	00104$
                    03BB   1640 	C$fb_lpc922.c$373$2$2 ==.
                           1641 ;	..\fb_lpc922.c:373: cs^=telegramm[n];				// Checksum berechnen
   03BB EE                 1642 	mov	a,r6
   03BC 24r07              1643 	add	a,#_telegramm
   03BE F9                 1644 	mov	r1,a
   03BF E7                 1645 	mov	a,@r1
   03C0 FD                 1646 	mov	r5,a
   03C1 62*27              1647 	xrl	_cs,a
                    03C3   1648 	C$fb_lpc922.c$372$1$1 ==.
                           1649 ;	..\fb_lpc922.c:372: for(n=0;n<cs_pos;n++) {
   03C3 0E                 1650 	inc	r6
   03C4 80 F0              1651 	sjmp	00101$
   03C6                    1652 00104$:
                    03C6   1653 	C$fb_lpc922.c$375$1$1 ==.
                           1654 ;	..\fb_lpc922.c:375: telegramm[cs_pos]=cs;				// Checksum hinter Nutzdaten anfügen
   03C6 EF                 1655 	mov	a,r7
   03C7 24r07              1656 	add	a,#_telegramm
   03C9 F8                 1657 	mov	r0,a
   03CA A6*27              1658 	mov	@r0,_cs
                    03CC   1659 	C$fb_lpc922.c$376$1$1 ==.
                           1660 ;	..\fb_lpc922.c:376: ack=0;
   03CC C2*03              1661 	clr	_ack
                    03CE   1662 	C$fb_lpc922.c$377$1$1 ==.
                           1663 ;	..\fb_lpc922.c:377: nack=0;
   03CE C2*04              1664 	clr	_nack
                    03D0   1665 	C$fb_lpc922.c$378$1$1 ==.
                           1666 ;	..\fb_lpc922.c:378: wait_for_ack=1;
   03D0 D2*0A              1667 	setb	_wait_for_ack
                    03D2   1668 	C$fb_lpc922.c$380$1$1 ==.
                           1669 ;	..\fb_lpc922.c:380: fb_state=10;						// nächster state: senden
   03D2 75*2A 0A           1670 	mov	_fb_state,#0x0A
                    03D5   1671 	C$fb_lpc922.c$381$1$1 ==.
                           1672 ;	..\fb_lpc922.c:381: fb_pattern=0;						// nächstes zu sendendes Bit, 0=Startbit
   03D5 75*29 00           1673 	mov	_fb_pattern,#0x00
                    03D8   1674 	C$fb_lpc922.c$382$1$1 ==.
                           1675 ;	..\fb_lpc922.c:382: telpos=0;							// nächstes zu sendende Byte
   03D8 75*26 00           1676 	mov	_telpos,#0x00
                    03DB   1677 	C$fb_lpc922.c$383$1$1 ==.
                           1678 ;	..\fb_lpc922.c:383: EX1=0;								// ext. int1 inaktiv
   03DB C2 AA              1679 	clr	_IEN0_2
                    03DD   1680 	C$fb_lpc922.c$384$1$1 ==.
                           1681 ;	..\fb_lpc922.c:384: TR1=1;								// Timer 1 starten
   03DD D2 8E              1682 	setb	_TCON_6
                    03DF   1683 	C$fb_lpc922.c$385$1$1 ==.
                           1684 ;	..\fb_lpc922.c:385: ET1=1;								// Timer 1 int. aktiv
   03DF D2 AB              1685 	setb	_IEN0_3
                    03E1   1686 	C$fb_lpc922.c$386$1$1 ==.
                    03E1   1687 	XG$init_tx$0$0 ==.
   03E1 22                 1688 	ret
                           1689 ;------------------------------------------------------------
                           1690 ;Allocation info for local variables in function 'gapos_in_gat'
                           1691 ;------------------------------------------------------------
                           1692 ;gal                       Allocated to stack - _bp -3
                           1693 ;gah                       Allocated to registers r7 
                           1694 ;ga_position               Allocated to registers r6 
                           1695 ;n                         Allocated to registers 
                           1696 ;------------------------------------------------------------
                    03E2   1697 	G$gapos_in_gat$0$0 ==.
                    03E2   1698 	C$fb_lpc922.c$393$1$1 ==.
                           1699 ;	..\fb_lpc922.c:393: unsigned char gapos_in_gat(unsigned char gah, unsigned char gal)
                           1700 ;	-----------------------------------------
                           1701 ;	 function gapos_in_gat
                           1702 ;	-----------------------------------------
   03E2                    1703 _gapos_in_gat:
   03E2 C0*00              1704 	push	_bp
   03E4 85 81*00           1705 	mov	_bp,sp
   03E7 AF 82              1706 	mov	r7,dpl
                    03E9   1707 	C$fb_lpc922.c$397$1$1 ==.
                           1708 ;	..\fb_lpc922.c:397: ga_position=0xFF; 			// default return Wert 0xFF = nicht gefunden
   03E9 7E FF              1709 	mov	r6,#0xFF
                    03EB   1710 	C$fb_lpc922.c$398$1$1 ==.
                           1711 ;	..\fb_lpc922.c:398: if (eeprom[ADDRTAB]<0xFF && !transparency){
   03EB 90 1D 16           1712 	mov	dptr,#(_eeprom + 0x0016)
   03EE E4                 1713 	clr	a
   03EF 93                 1714 	movc	a,@a+dptr
   03F0 FD                 1715 	mov	r5,a
   03F1 BD FF 00           1716 	cjne	r5,#0xFF,00123$
   03F4                    1717 00123$:
   03F4 50 3B              1718 	jnc	00107$
   03F6 20*0D 38           1719 	jb	_transparency,00107$
                    03F9   1720 	C$fb_lpc922.c$399$2$2 ==.
                           1721 ;	..\fb_lpc922.c:399: if (eeprom[ADDRTAB]) {
   03F9 90 1D 16           1722 	mov	dptr,#(_eeprom + 0x0016)
   03FC E4                 1723 	clr	a
   03FD 93                 1724 	movc	a,@a+dptr
   03FE 60 31              1725 	jz	00107$
                    0400   1726 	C$fb_lpc922.c$400$1$1 ==.
                           1727 ;	..\fb_lpc922.c:400: for (n=1;n < eeprom[ADDRTAB];n++) {
   0400 7D 01              1728 	mov	r5,#0x01
   0402                    1729 00109$:
   0402 90 1D 16           1730 	mov	dptr,#(_eeprom + 0x0016)
   0405 E4                 1731 	clr	a
   0406 93                 1732 	movc	a,@a+dptr
   0407 FC                 1733 	mov	r4,a
   0408 C3                 1734 	clr	c
   0409 ED                 1735 	mov	a,r5
   040A 9C                 1736 	subb	a,r4
   040B 50 24              1737 	jnc	00107$
                    040D   1738 	C$fb_lpc922.c$401$4$4 ==.
                           1739 ;	..\fb_lpc922.c:401: if (gah==eeprom[ADDRTAB+n*2+1] && gal==eeprom[ADDRTAB+n*2+2])
   040D ED                 1740 	mov	a,r5
   040E 2D                 1741 	add	a,r5
   040F FC                 1742 	mov	r4,a
   0410 24 17              1743 	add	a,#0x17
   0412 90 1D 00           1744 	mov	dptr,#_eeprom
   0415 93                 1745 	movc	a,@a+dptr
   0416 FB                 1746 	mov	r3,a
   0417 EF                 1747 	mov	a,r7
   0418 B5 03 13           1748 	cjne	a,ar3,00111$
   041B 74 18              1749 	mov	a,#0x18
   041D 2C                 1750 	add	a,r4
   041E 90 1D 00           1751 	mov	dptr,#_eeprom
   0421 93                 1752 	movc	a,@a+dptr
   0422 FC                 1753 	mov	r4,a
   0423 E5*00              1754 	mov	a,_bp
   0425 24 FD              1755 	add	a,#0xfd
   0427 F8                 1756 	mov	r0,a
   0428 E6                 1757 	mov	a,@r0
   0429 B5 04 02           1758 	cjne	a,ar4,00111$
                    042C   1759 	C$fb_lpc922.c$402$4$4 ==.
                           1760 ;	..\fb_lpc922.c:402: ga_position=n;
   042C 8D 06              1761 	mov	ar6,r5
   042E                    1762 00111$:
                    042E   1763 	C$fb_lpc922.c$400$3$3 ==.
                           1764 ;	..\fb_lpc922.c:400: for (n=1;n < eeprom[ADDRTAB];n++) {
   042E 0D                 1765 	inc	r5
   042F 80 D1              1766 	sjmp	00109$
   0431                    1767 00107$:
                    0431   1768 	C$fb_lpc922.c$406$1$1 ==.
                           1769 ;	..\fb_lpc922.c:406: return (ga_position);
   0431 8E 82              1770 	mov	dpl,r6
   0433 D0*00              1771 	pop	_bp
                    0435   1772 	C$fb_lpc922.c$407$1$1 ==.
                    0435   1773 	XG$gapos_in_gat$0$0 ==.
   0435 22                 1774 	ret
                           1775 ;------------------------------------------------------------
                           1776 ;Allocation info for local variables in function 'build_tel'
                           1777 ;------------------------------------------------------------
                           1778 ;objno                     Allocated to registers r7 
                           1779 ;build_ok                  Allocated to registers b0 
                           1780 ;objvalue                  Allocated to stack - _bp +1
                           1781 ;ga                        Allocated to registers r5 r6 
                           1782 ;objtype                   Allocated to registers r6 
                           1783 ;n                         Allocated to registers r7 
                           1784 ;length                    Allocated to registers r6 
                           1785 ;type                      Allocated to registers b2 
                           1786 ;repeatflag                Allocated to registers b1 
                           1787 ;------------------------------------------------------------
                    0436   1788 	G$build_tel$0$0 ==.
                    0436   1789 	C$fb_lpc922.c$412$1$1 ==.
                           1790 ;	..\fb_lpc922.c:412: __bit build_tel(unsigned char objno)
                           1791 ;	-----------------------------------------
                           1792 ;	 function build_tel
                           1793 ;	-----------------------------------------
   0436                    1794 _build_tel:
   0436 C0*00              1795 	push	_bp
   0438 E5 81              1796 	mov	a,sp
   043A F5*00              1797 	mov	_bp,a
   043C 24 04              1798 	add	a,#0x04
   043E F5 81              1799 	mov	sp,a
   0440 AF 82              1800 	mov	r7,dpl
                    0442   1801 	C$fb_lpc922.c$414$1$1 ==.
                           1802 ;	..\fb_lpc922.c:414: __bit build_ok=0;
   0442 C2*00              1803 	clr	b0
                    0444   1804 	C$fb_lpc922.c$421$1$1 ==.
                           1805 ;	..\fb_lpc922.c:421: repeatflag=objno&0x20;
   0444 EF                 1806 	mov	a,r7
   0445 A2 E5              1807 	mov	c,acc[5]
   0447 E4                 1808 	clr	a
   0448 33                 1809 	rlc	a
   0449 FE                 1810 	mov	r6,a
   044A 24 FF              1811 	add	a,#0xff
   044C 92*00              1812 	mov	b1,c
                    044E   1813 	C$fb_lpc922.c$423$1$1 ==.
                           1814 ;	..\fb_lpc922.c:423: if(objno<128) {		// Multicast
   044E BF 80 00           1815 	cjne	r7,#0x80,00155$
   0451                    1816 00155$:
   0451 40 03              1817 	jc	00156$
   0453 02s05r4E           1818 	ljmp	00130$
   0456                    1819 00156$:
                    0456   1820 	C$fb_lpc922.c$424$2$2 ==.
                           1821 ;	..\fb_lpc922.c:424: type=(objno&0x40);	// bei Multicast ist type0 normal und type1 response telegramm
   0456 EF                 1822 	mov	a,r7
   0457 23                 1823 	rl	a
   0458 23                 1824 	rl	a
   0459 54 01              1825 	anl	a,#0x01
   045B 24 FF              1826 	add	a,#0xff
   045D 92*00              1827 	mov	b2,c
                    045F   1828 	C$fb_lpc922.c$425$2$2 ==.
                           1829 ;	..\fb_lpc922.c:425: objno&=0x1F;
   045F 53 07 1F           1830 	anl	ar7,#0x1F
                    0462   1831 	C$fb_lpc922.c$427$2$2 ==.
                           1832 ;	..\fb_lpc922.c:427: objvalue=read_obj_value(objno);		// Objektwert lesen
   0462 8F 82              1833 	mov	dpl,r7
   0464 C0 07              1834 	push	ar7
   0466 C0*00              1835 	push	bits
   0468 12s00r00           1836 	lcall	_read_obj_value
   046B AB 82              1837 	mov	r3,dpl
   046D AC 83              1838 	mov	r4,dph
   046F AD F0              1839 	mov	r5,b
   0471 FE                 1840 	mov	r6,a
   0472 D0*00              1841 	pop	bits
   0474 D0 07              1842 	pop	ar7
   0476 A8*00              1843 	mov	r0,_bp
   0478 08                 1844 	inc	r0
   0479 A6 03              1845 	mov	@r0,ar3
   047B 08                 1846 	inc	r0
   047C A6 04              1847 	mov	@r0,ar4
   047E 08                 1848 	inc	r0
   047F A6 05              1849 	mov	@r0,ar5
   0481 08                 1850 	inc	r0
   0482 A6 06              1851 	mov	@r0,ar6
                    0484   1852 	C$fb_lpc922.c$429$2$2 ==.
                           1853 ;	..\fb_lpc922.c:429: ga=find_ga(objno);					// wenn keine Gruppenadresse hinterlegt nix tun
   0484 8F 82              1854 	mov	dpl,r7
   0486 C0 07              1855 	push	ar7
   0488 C0*00              1856 	push	bits
   048A 12s08rF6           1857 	lcall	_find_ga
   048D AA 82              1858 	mov	r2,dpl
   048F AE 83              1859 	mov	r6,dph
   0491 D0*00              1860 	pop	bits
   0493 D0 07              1861 	pop	ar7
   0495 8A 05              1862 	mov	ar5,r2
                    0497   1863 	C$fb_lpc922.c$430$2$2 ==.
                           1864 ;	..\fb_lpc922.c:430: if (ga!=0)
   0497 ED                 1865 	mov	a,r5
   0498 4E                 1866 	orl	a,r6
   0499 70 03              1867 	jnz	00157$
   049B 02s06r2D           1868 	ljmp	00131$
   049E                    1869 00157$:
                    049E   1870 	C$fb_lpc922.c$432$3$3 ==.
                           1871 ;	..\fb_lpc922.c:432: telegramm[0]=0xBC;
   049E 75*07 BC           1872 	mov	_telegramm,#0xBC
                    04A1   1873 	C$fb_lpc922.c$433$3$3 ==.
                           1874 ;	..\fb_lpc922.c:433: telegramm[1]=eeprom[ADDRTAB+1];
   04A1 90 1D 17           1875 	mov	dptr,#(_eeprom + 0x0017)
   04A4 E4                 1876 	clr	a
   04A5 93                 1877 	movc	a,@a+dptr
   04A6 FC                 1878 	mov	r4,a
   04A7 8C*08              1879 	mov	(_telegramm + 0x0001),r4
                    04A9   1880 	C$fb_lpc922.c$434$3$3 ==.
                           1881 ;	..\fb_lpc922.c:434: telegramm[2]=eeprom[ADDRTAB+2];
   04A9 90 1D 18           1882 	mov	dptr,#(_eeprom + 0x0018)
   04AC E4                 1883 	clr	a
   04AD 93                 1884 	movc	a,@a+dptr
   04AE FC                 1885 	mov	r4,a
   04AF 8C*09              1886 	mov	(_telegramm + 0x0002),r4
                    04B1   1887 	C$fb_lpc922.c$435$3$3 ==.
                           1888 ;	..\fb_lpc922.c:435: telegramm[3]=ga>>8;
   04B1 8E 04              1889 	mov	ar4,r6
   04B3 8C*0A              1890 	mov	(_telegramm + 0x0003),r4
                    04B5   1891 	C$fb_lpc922.c$436$3$3 ==.
                           1892 ;	..\fb_lpc922.c:436: telegramm[4]=ga;
   04B5 8D*0B              1893 	mov	(_telegramm + 0x0004),r5
                    04B7   1894 	C$fb_lpc922.c$437$3$3 ==.
                           1895 ;	..\fb_lpc922.c:437: telegramm[6]=0x00;
   04B7 75*0D 00           1896 	mov	(_telegramm + 0x0006),#0x00
                    04BA   1897 	C$fb_lpc922.c$438$3$3 ==.
                           1898 ;	..\fb_lpc922.c:438: if (type) telegramm[7]=0x40;		// read_value_response Telegramm (angefordert)
   04BA 30*00 05           1899 	jnb	b2,00102$
   04BD 75*0E 40           1900 	mov	(_telegramm + 0x0007),#0x40
   04C0 80 03              1901 	sjmp	00103$
   04C2                    1902 00102$:
                    04C2   1903 	C$fb_lpc922.c$439$3$3 ==.
                           1904 ;	..\fb_lpc922.c:439: else telegramm[7]=0x80;				// write_value_request Telegramm (nicht angefordert)
   04C2 75*0E 80           1905 	mov	(_telegramm + 0x0007),#0x80
   04C5                    1906 00103$:
                    04C5   1907 	C$fb_lpc922.c$441$3$3 ==.
                           1908 ;	..\fb_lpc922.c:441: objtype=eeprom[eeprom[COMMSTABPTR]+objno*3+4];
   04C5 90 1D 12           1909 	mov	dptr,#(_eeprom + 0x0012)
   04C8 E4                 1910 	clr	a
   04C9 93                 1911 	movc	a,@a+dptr
   04CA FE                 1912 	mov	r6,a
   04CB EF                 1913 	mov	a,r7
   04CC 75 F0 03           1914 	mov	b,#0x03
   04CF A4                 1915 	mul	ab
   04D0 2E                 1916 	add	a,r6
   04D1 24 04              1917 	add	a,#0x04
   04D3 90 1D 00           1918 	mov	dptr,#_eeprom
   04D6 93                 1919 	movc	a,@a+dptr
                    04D7   1920 	C$fb_lpc922.c$443$3$3 ==.
                           1921 ;	..\fb_lpc922.c:443: if(objtype>6) length=objtype-5; else length=1;
   04D7 FE                 1922 	mov  r6,a
   04D8 24 F9              1923 	add	a,#0xff - 0x06
   04DA 50 06              1924 	jnc	00105$
   04DC EE                 1925 	mov	a,r6
   04DD 24 FB              1926 	add	a,#0xFB
   04DF FE                 1927 	mov	r6,a
   04E0 80 02              1928 	sjmp	00106$
   04E2                    1929 00105$:
   04E2 7E 01              1930 	mov	r6,#0x01
   04E4                    1931 00106$:
                    04E4   1932 	C$fb_lpc922.c$444$3$3 ==.
                           1933 ;	..\fb_lpc922.c:444: telegramm[5]=0xE0+length;
   04E4 74 E0              1934 	mov	a,#0xE0
   04E6 2E                 1935 	add	a,r6
   04E7 F5*0C              1936 	mov	(_telegramm + 0x0005),a
                    04E9   1937 	C$fb_lpc922.c$445$3$3 ==.
                           1938 ;	..\fb_lpc922.c:445: if (length>1) telegramm[length+6]=objvalue; else telegramm[7]+=(objvalue&0x3F);
   04E9 EE                 1939 	mov	a,r6
   04EA 24 FE              1940 	add	a,#0xff - 0x01
   04EC 50 0F              1941 	jnc	00108$
   04EE 74 06              1942 	mov	a,#0x06
   04F0 2E                 1943 	add	a,r6
   04F1 24r07              1944 	add	a,#_telegramm
   04F3 F9                 1945 	mov	r1,a
   04F4 A8*00              1946 	mov	r0,_bp
   04F6 08                 1947 	inc	r0
   04F7 86 03              1948 	mov	ar3,@r0
   04F9 A7 03              1949 	mov	@r1,ar3
   04FB 80 10              1950 	sjmp	00109$
   04FD                    1951 00108$:
   04FD A8*00              1952 	mov	r0,_bp
   04FF 08                 1953 	inc	r0
   0500 74 3F              1954 	mov	a,#0x3F
   0502 56                 1955 	anl	a,@r0
   0503 FA                 1956 	mov	r2,a
   0504 E4                 1957 	clr	a
   0505 FB                 1958 	mov	r3,a
   0506 FC                 1959 	mov	r4,a
   0507 FD                 1960 	mov	r5,a
   0508 EA                 1961 	mov	a,r2
   0509 25*0E              1962 	add	a,(_telegramm + 0x0007)
   050B F5*0E              1963 	mov	(_telegramm + 0x0007),a
   050D                    1964 00109$:
                    050D   1965 	C$fb_lpc922.c$446$3$3 ==.
                           1966 ;	..\fb_lpc922.c:446: if (length>2) telegramm[length+5]=objvalue>>8;
   050D EE                 1967 	mov	a,r6
   050E 24 FD              1968 	add	a,#0xff - 0x02
   0510 50 0E              1969 	jnc	00111$
   0512 74 05              1970 	mov	a,#0x05
   0514 2E                 1971 	add	a,r6
   0515 24r07              1972 	add	a,#_telegramm
   0517 F9                 1973 	mov	r1,a
   0518 A8*00              1974 	mov	r0,_bp
   051A 08                 1975 	inc	r0
   051B 08                 1976 	inc	r0
   051C 86 05              1977 	mov	ar5,@r0
   051E A7 05              1978 	mov	@r1,ar5
   0520                    1979 00111$:
                    0520   1980 	C$fb_lpc922.c$447$3$3 ==.
                           1981 ;	..\fb_lpc922.c:447: if (length>3) telegramm[length+4]=objvalue>>16;
   0520 EE                 1982 	mov	a,r6
   0521 24 FC              1983 	add	a,#0xff - 0x03
   0523 50 0F              1984 	jnc	00113$
   0525 74 04              1985 	mov	a,#0x04
   0527 2E                 1986 	add	a,r6
   0528 24r07              1987 	add	a,#_telegramm
   052A F9                 1988 	mov	r1,a
   052B A8*00              1989 	mov	r0,_bp
   052D 08                 1990 	inc	r0
   052E 08                 1991 	inc	r0
   052F 08                 1992 	inc	r0
   0530 86 05              1993 	mov	ar5,@r0
   0532 A7 05              1994 	mov	@r1,ar5
   0534                    1995 00113$:
                    0534   1996 	C$fb_lpc922.c$448$3$3 ==.
                           1997 ;	..\fb_lpc922.c:448: if (length>4) telegramm[length+3]=objvalue>>24;
   0534 EE                 1998 	mov	a,r6
   0535 24 FB              1999 	add	a,#0xff - 0x04
   0537 50 10              2000 	jnc	00115$
   0539 74 03              2001 	mov	a,#0x03
   053B 2E                 2002 	add	a,r6
   053C 24r07              2003 	add	a,#_telegramm
   053E F9                 2004 	mov	r1,a
   053F A8*00              2005 	mov	r0,_bp
   0541 08                 2006 	inc	r0
   0542 08                 2007 	inc	r0
   0543 08                 2008 	inc	r0
   0544 08                 2009 	inc	r0
   0545 86 06              2010 	mov	ar6,@r0
   0547 A7 06              2011 	mov	@r1,ar6
   0549                    2012 00115$:
                    0549   2013 	C$fb_lpc922.c$450$3$3 ==.
                           2014 ;	..\fb_lpc922.c:450: build_ok=1;
   0549 D2*00              2015 	setb	b0
   054B 02s06r2D           2016 	ljmp	00131$
   054E                    2017 00130$:
                    054E   2018 	C$fb_lpc922.c$454$2$4 ==.
                           2019 ;	..\fb_lpc922.c:454: telegramm[0]=0xB0;				// Control Byte
   054E 75*07 B0           2020 	mov	_telegramm,#0xB0
                    0551   2021 	C$fb_lpc922.c$455$2$4 ==.
                           2022 ;	..\fb_lpc922.c:455: telegramm[1]=eeprom[ADDRTAB+1];	// Quelladresse ist phys. Adresse
   0551 90 1D 17           2023 	mov	dptr,#(_eeprom + 0x0017)
   0554 E4                 2024 	clr	a
   0555 93                 2025 	movc	a,@a+dptr
   0556 FE                 2026 	mov	r6,a
   0557 8E*08              2027 	mov	(_telegramm + 0x0001),r6
                    0559   2028 	C$fb_lpc922.c$456$2$4 ==.
                           2029 ;	..\fb_lpc922.c:456: telegramm[2]=eeprom[ADDRTAB+2];
   0559 90 1D 18           2030 	mov	dptr,#(_eeprom + 0x0018)
   055C E4                 2031 	clr	a
   055D 93                 2032 	movc	a,@a+dptr
   055E FE                 2033 	mov	r6,a
   055F 8E*09              2034 	mov	(_telegramm + 0x0002),r6
                    0561   2035 	C$fb_lpc922.c$457$2$4 ==.
                           2036 ;	..\fb_lpc922.c:457: telegramm[3]=conh;
   0561 85*00*0A           2037 	mov	(_telegramm + 0x0003),_conh
                    0564   2038 	C$fb_lpc922.c$458$2$4 ==.
                           2039 ;	..\fb_lpc922.c:458: telegramm[4]=conl;
   0564 85*01*0B           2040 	mov	(_telegramm + 0x0004),_conl
                    0567   2041 	C$fb_lpc922.c$460$2$4 ==.
                           2042 ;	..\fb_lpc922.c:460: switch(objno&0x1F) {
   0567 53 07 1F           2043 	anl	ar7,#0x1F
   056A EF                 2044 	mov	a,r7
   056B 24 FA              2045 	add	a,#0xff - 0x05
   056D 50 03              2046 	jnc	00164$
   056F 02s06r2B           2047 	ljmp	00128$
   0572                    2048 00164$:
   0572 EF                 2049 	mov	a,r7
   0573 2F                 2050 	add	a,r7
   0574 2F                 2051 	add	a,r7
   0575 90s05r79           2052 	mov	dptr,#00165$
   0578 73                 2053 	jmp	@a+dptr
   0579                    2054 00165$:
   0579 02s06r2B           2055 	ljmp	00128$
   057C 02s05r8B           2056 	ljmp	00118$
   057F 02s05r97           2057 	ljmp	00119$
   0582 02s05rAE           2058 	ljmp	00120$
   0585 02s05rBF           2059 	ljmp	00121$
   0588 02s06r25           2060 	ljmp	00127$
                    058B   2061 	C$fb_lpc922.c$461$3$5 ==.
                           2062 ;	..\fb_lpc922.c:461: case 1:	// NCD ACK Quittierung (129)
   058B                    2063 00118$:
                    058B   2064 	C$fb_lpc922.c$462$3$5 ==.
                           2065 ;	..\fb_lpc922.c:462: telegramm[5]=0x60;					// DRL
   058B 75*0C 60           2066 	mov	(_telegramm + 0x0005),#0x60
                    058E   2067 	C$fb_lpc922.c$463$3$5 ==.
                           2068 ;	..\fb_lpc922.c:463: telegramm[6]=senders_pcount + 0xC2;	// Bit 6,7(TCPI = 11 NCD Quittierung) und Bit 0,1 (10=ACK)
   058E 74 C2              2069 	mov	a,#0xC2
   0590 25*06              2070 	add	a,_senders_pcount
   0592 F5*0D              2071 	mov	(_telegramm + 0x0006),a
                    0594   2072 	C$fb_lpc922.c$465$3$5 ==.
                           2073 ;	..\fb_lpc922.c:465: break;
   0594 02s06r2B           2074 	ljmp	00128$
                    0597   2075 	C$fb_lpc922.c$466$3$5 ==.
                           2076 ;	..\fb_lpc922.c:466: case 2:	// read mask response (130)
   0597                    2077 00119$:
                    0597   2078 	C$fb_lpc922.c$467$3$5 ==.
                           2079 ;	..\fb_lpc922.c:467: telegramm[5]=0x63;					// DRL
   0597 75*0C 63           2080 	mov	(_telegramm + 0x0005),#0x63
                    059A   2081 	C$fb_lpc922.c$468$3$5 ==.
                           2082 ;	..\fb_lpc922.c:468: telegramm[6]=pcount + 0x43;			// bei response immer eigene Paketnummer senden
   059A 74 43              2083 	mov	a,#0x43
   059C 25*02              2084 	add	a,_pcount
   059E F5*0D              2085 	mov	(_telegramm + 0x0006),a
                    05A0   2086 	C$fb_lpc922.c$469$3$5 ==.
                           2087 ;	..\fb_lpc922.c:469: telegramm[7]=0x40;
   05A0 75*0E 40           2088 	mov	(_telegramm + 0x0007),#0x40
                    05A3   2089 	C$fb_lpc922.c$470$3$5 ==.
                           2090 ;	..\fb_lpc922.c:470: telegramm[8]=0x00;
   05A3 75*0F 00           2091 	mov	(_telegramm + 0x0008),#0x00
                    05A6   2092 	C$fb_lpc922.c$471$3$5 ==.
                           2093 ;	..\fb_lpc922.c:471: telegramm[9]=0x12;					// Maskenversion 1 = BCU1
   05A6 75*10 12           2094 	mov	(_telegramm + 0x0009),#0x12
                    05A9   2095 	C$fb_lpc922.c$472$3$5 ==.
                           2096 ;	..\fb_lpc922.c:472: inc_pcount=1;
   05A9 D2*0F              2097 	setb	_inc_pcount
                    05AB   2098 	C$fb_lpc922.c$473$3$5 ==.
                           2099 ;	..\fb_lpc922.c:473: break;
   05AB 02s06r2B           2100 	ljmp	00128$
                    05AE   2101 	C$fb_lpc922.c$474$3$5 ==.
                           2102 ;	..\fb_lpc922.c:474: case 3:	// read PA response (131)
   05AE                    2103 00120$:
                    05AE   2104 	C$fb_lpc922.c$475$3$5 ==.
                           2105 ;	..\fb_lpc922.c:475: telegramm[3]=0x00;			// Zieladresse auf 0000, da Broadcast
   05AE 75*0A 00           2106 	mov	(_telegramm + 0x0003),#0x00
                    05B1   2107 	C$fb_lpc922.c$476$3$5 ==.
                           2108 ;	..\fb_lpc922.c:476: telegramm[4]=0x00;
   05B1 75*0B 00           2109 	mov	(_telegramm + 0x0004),#0x00
                    05B4   2110 	C$fb_lpc922.c$477$3$5 ==.
                           2111 ;	..\fb_lpc922.c:477: telegramm[5]=0xE1;			// DRL
   05B4 75*0C E1           2112 	mov	(_telegramm + 0x0005),#0xE1
                    05B7   2113 	C$fb_lpc922.c$478$3$5 ==.
                           2114 ;	..\fb_lpc922.c:478: telegramm[6]=0x01;
   05B7 75*0D 01           2115 	mov	(_telegramm + 0x0006),#0x01
                    05BA   2116 	C$fb_lpc922.c$479$3$5 ==.
                           2117 ;	..\fb_lpc922.c:479: telegramm[7]=0x40;
   05BA 75*0E 40           2118 	mov	(_telegramm + 0x0007),#0x40
                    05BD   2119 	C$fb_lpc922.c$480$3$5 ==.
                           2120 ;	..\fb_lpc922.c:480: break;
                    05BD   2121 	C$fb_lpc922.c$481$3$5 ==.
                           2122 ;	..\fb_lpc922.c:481: case 4:	// memory_read_response (132)
   05BD 80 6C              2123 	sjmp	00128$
   05BF                    2124 00121$:
                    05BF   2125 	C$fb_lpc922.c$482$1$1 ==.
                           2126 ;	..\fb_lpc922.c:482: for(n=0;n<mem_length;n++) {
   05BF 7F 00              2127 	mov	r7,#0x00
   05C1                    2128 00134$:
   05C1 C3                 2129 	clr	c
   05C2 EF                 2130 	mov	a,r7
   05C3 95*03              2131 	subb	a,_mem_length
   05C5 50 42              2132 	jnc	00137$
                    05C7   2133 	C$fb_lpc922.c$483$4$6 ==.
                           2134 ;	..\fb_lpc922.c:483: if (mem_adrh==0) {
   05C7 E5*04              2135 	mov	a,_mem_adrh
   05C9 70 2C              2136 	jnz	00125$
                    05CB   2137 	C$fb_lpc922.c$484$5$7 ==.
                           2138 ;	..\fb_lpc922.c:484: telegramm[n+10]=userram[mem_adrl+n];
   05CB 74 0A              2139 	mov	a,#0x0A
   05CD 2F                 2140 	add	a,r7
   05CE 24r07              2141 	add	a,#_telegramm
   05D0 F9                 2142 	mov	r1,a
   05D1 EF                 2143 	mov	a,r7
   05D2 25*05              2144 	add	a,_mem_adrl
   05D4 90 1C 00           2145 	mov	dptr,#_userram
   05D7 93                 2146 	movc	a,@a+dptr
   05D8 F7                 2147 	mov	@r1,a
                    05D9   2148 	C$fb_lpc922.c$485$5$7 ==.
                           2149 ;	..\fb_lpc922.c:485: if(mem_adrl+n==0x60) telegramm[n+10]=status60;	// ausser bei 0x60
   05D9 AD*05              2150 	mov	r5,_mem_adrl
   05DB 7E 00              2151 	mov	r6,#0x00
   05DD 8F 03              2152 	mov	ar3,r7
   05DF 7C 00              2153 	mov	r4,#0x00
   05E1 EB                 2154 	mov	a,r3
   05E2 2D                 2155 	add	a,r5
   05E3 FD                 2156 	mov	r5,a
   05E4 EC                 2157 	mov	a,r4
   05E5 3E                 2158 	addc	a,r6
   05E6 FE                 2159 	mov	r6,a
   05E7 BD 60 1C           2160 	cjne	r5,#0x60,00136$
   05EA BE 00 19           2161 	cjne	r6,#0x00,00136$
   05ED 74 0A              2162 	mov	a,#0x0A
   05EF 2F                 2163 	add	a,r7
   05F0 24r07              2164 	add	a,#_telegramm
   05F2 F8                 2165 	mov	r0,a
   05F3 A6*2E              2166 	mov	@r0,_status60
   05F5 80 0F              2167 	sjmp	00136$
   05F7                    2168 00125$:
                    05F7   2169 	C$fb_lpc922.c$487$4$6 ==.
                           2170 ;	..\fb_lpc922.c:487: else telegramm[n+10]=eeprom[mem_adrl+n];
   05F7 74 0A              2171 	mov	a,#0x0A
   05F9 2F                 2172 	add	a,r7
   05FA 24r07              2173 	add	a,#_telegramm
   05FC F9                 2174 	mov	r1,a
   05FD EF                 2175 	mov	a,r7
   05FE 25*05              2176 	add	a,_mem_adrl
   0600 90 1D 00           2177 	mov	dptr,#_eeprom
   0603 93                 2178 	movc	a,@a+dptr
   0604 FE                 2179 	mov	r6,a
   0605 F7                 2180 	mov	@r1,a
   0606                    2181 00136$:
                    0606   2182 	C$fb_lpc922.c$482$3$5 ==.
                           2183 ;	..\fb_lpc922.c:482: for(n=0;n<mem_length;n++) {
   0606 0F                 2184 	inc	r7
   0607 80 B8              2185 	sjmp	00134$
   0609                    2186 00137$:
                    0609   2187 	C$fb_lpc922.c$489$3$5 ==.
                           2188 ;	..\fb_lpc922.c:489: telegramm[5]=mem_length+0x63;		// DRL (Anzahl Bytes + 3)
   0609 74 63              2189 	mov	a,#0x63
   060B 25*03              2190 	add	a,_mem_length
   060D F5*0C              2191 	mov	(_telegramm + 0x0005),a
                    060F   2192 	C$fb_lpc922.c$490$3$5 ==.
                           2193 ;	..\fb_lpc922.c:490: telegramm[6]=pcount|0x42;			// eigener Paketzaehler, TCPI und ersten beiden Befehlsbits
   060F 74 42              2194 	mov	a,#0x42
   0611 45*02              2195 	orl	a,_pcount
   0613 F5*0D              2196 	mov	(_telegramm + 0x0006),a
                    0615   2197 	C$fb_lpc922.c$491$3$5 ==.
                           2198 ;	..\fb_lpc922.c:491: telegramm[7]=mem_length|0x40;		// letzten 2 Befehlsbits
   0615 74 40              2199 	mov	a,#0x40
   0617 45*03              2200 	orl	a,_mem_length
   0619 F5*0E              2201 	mov	(_telegramm + 0x0007),a
                    061B   2202 	C$fb_lpc922.c$492$3$5 ==.
                           2203 ;	..\fb_lpc922.c:492: telegramm[8]=mem_adrh;
   061B 85*04*0F           2204 	mov	(_telegramm + 0x0008),_mem_adrh
                    061E   2205 	C$fb_lpc922.c$493$3$5 ==.
                           2206 ;	..\fb_lpc922.c:493: telegramm[9]=mem_adrl;
   061E 85*05*10           2207 	mov	(_telegramm + 0x0009),_mem_adrl
                    0621   2208 	C$fb_lpc922.c$494$3$5 ==.
                           2209 ;	..\fb_lpc922.c:494: inc_pcount=1;
   0621 D2*0F              2210 	setb	_inc_pcount
                    0623   2211 	C$fb_lpc922.c$495$3$5 ==.
                           2212 ;	..\fb_lpc922.c:495: break;
                    0623   2213 	C$fb_lpc922.c$496$3$5 ==.
                           2214 ;	..\fb_lpc922.c:496: case 5:	// T-disconnect (133)
   0623 80 06              2215 	sjmp	00128$
   0625                    2216 00127$:
                    0625   2217 	C$fb_lpc922.c$497$3$5 ==.
                           2218 ;	..\fb_lpc922.c:497: telegramm[5]=0x60;
   0625 75*0C 60           2219 	mov	(_telegramm + 0x0005),#0x60
                    0628   2220 	C$fb_lpc922.c$498$3$5 ==.
                           2221 ;	..\fb_lpc922.c:498: telegramm[6]=0x81;
   0628 75*0D 81           2222 	mov	(_telegramm + 0x0006),#0x81
                    062B   2223 	C$fb_lpc922.c$500$2$4 ==.
                           2224 ;	..\fb_lpc922.c:500: }
   062B                    2225 00128$:
                    062B   2226 	C$fb_lpc922.c$501$2$4 ==.
                           2227 ;	..\fb_lpc922.c:501: build_ok=1;
   062B D2*00              2228 	setb	b0
   062D                    2229 00131$:
                    062D   2230 	C$fb_lpc922.c$503$1$1 ==.
                           2231 ;	..\fb_lpc922.c:503: if(repeatflag) telegramm[0]&=0xDF;		// Wiederholungsbit löschen für Wiederholtelegramm
   062D 30*00 06           2232 	jnb	b1,00133$
   0630 74 DF              2233 	mov	a,#0xDF
   0632 55*07              2234 	anl	a,_telegramm
   0634 F5*07              2235 	mov	_telegramm,a
   0636                    2236 00133$:
                    0636   2237 	C$fb_lpc922.c$504$1$1 ==.
                           2238 ;	..\fb_lpc922.c:504: return(build_ok);
   0636 A2*00              2239 	mov	c,b0
   0638 85*00 81           2240 	mov	sp,_bp
   063B D0*00              2241 	pop	_bp
                    063D   2242 	C$fb_lpc922.c$505$1$1 ==.
                    063D   2243 	XG$build_tel$0$0 ==.
   063D 22                 2244 	ret
                           2245 ;------------------------------------------------------------
                           2246 ;Allocation info for local variables in function 'send_obj_value'
                           2247 ;------------------------------------------------------------
                           2248 ;objno                     Allocated to registers r7 
                           2249 ;success                   Allocated to registers b0 
                           2250 ;------------------------------------------------------------
                    063E   2251 	G$send_obj_value$0$0 ==.
                    063E   2252 	C$fb_lpc922.c$508$1$1 ==.
                           2253 ;	..\fb_lpc922.c:508: __bit send_obj_value(unsigned char objno)
                           2254 ;	-----------------------------------------
                           2255 ;	 function send_obj_value
                           2256 ;	-----------------------------------------
   063E                    2257 _send_obj_value:
   063E AF 82              2258 	mov	r7,dpl
                    0640   2259 	C$fb_lpc922.c$510$1$1 ==.
                           2260 ;	..\fb_lpc922.c:510: __bit success=0;
   0640 C2*00              2261 	clr	b0
                    0642   2262 	C$fb_lpc922.c$512$1$1 ==.
                           2263 ;	..\fb_lpc922.c:512: if(tx_nextsend!=((tx_nextwrite+1)&0x07)) {
   0642 AD*2C              2264 	mov	r5,_tx_nextwrite
   0644 7E 00              2265 	mov	r6,#0x00
   0646 0D                 2266 	inc	r5
   0647 BD 00 01           2267 	cjne	r5,#0x00,00106$
   064A 0E                 2268 	inc	r6
   064B                    2269 00106$:
   064B 53 05 07           2270 	anl	ar5,#0x07
   064E 7E 00              2271 	mov	r6,#0x00
   0650 AB*2D              2272 	mov	r3,_tx_nextsend
   0652 7C 00              2273 	mov	r4,#0x00
   0654 EB                 2274 	mov	a,r3
   0655 B5 05 06           2275 	cjne	a,ar5,00107$
   0658 EC                 2276 	mov	a,r4
   0659 B5 06 02           2277 	cjne	a,ar6,00107$
   065C 80 0E              2278 	sjmp	00102$
   065E                    2279 00107$:
                    065E   2280 	C$fb_lpc922.c$513$2$2 ==.
                           2281 ;	..\fb_lpc922.c:513: tx_buffer[tx_nextwrite]=objno;
   065E E5*2C              2282 	mov	a,_tx_nextwrite
   0660 24r1E              2283 	add	a,#_tx_buffer
   0662 F8                 2284 	mov	r0,a
   0663 A6 07              2285 	mov	@r0,ar7
                    0665   2286 	C$fb_lpc922.c$514$2$2 ==.
                           2287 ;	..\fb_lpc922.c:514: tx_nextwrite++;
   0665 05*2C              2288 	inc	_tx_nextwrite
                    0667   2289 	C$fb_lpc922.c$515$2$2 ==.
                           2290 ;	..\fb_lpc922.c:515: tx_nextwrite&=0x07;
   0667 53*2C 07           2291 	anl	_tx_nextwrite,#0x07
                    066A   2292 	C$fb_lpc922.c$516$2$2 ==.
                           2293 ;	..\fb_lpc922.c:516: success=1;
   066A D2*00              2294 	setb	b0
   066C                    2295 00102$:
                    066C   2296 	C$fb_lpc922.c$518$1$1 ==.
                           2297 ;	..\fb_lpc922.c:518: TR1=1;	// statemachine starten falls vorher in state 0 gestoppt
   066C D2 8E              2298 	setb	_TCON_6
                    066E   2299 	C$fb_lpc922.c$519$1$1 ==.
                           2300 ;	..\fb_lpc922.c:519: return(success);
   066E A2*00              2301 	mov	c,b0
                    0670   2302 	C$fb_lpc922.c$520$1$1 ==.
                    0670   2303 	XG$send_obj_value$0$0 ==.
   0670 22                 2304 	ret
                           2305 ;------------------------------------------------------------
                           2306 ;Allocation info for local variables in function 'process_tel'
                           2307 ;------------------------------------------------------------
                           2308 ;tpdu                      Allocated to registers r6 
                           2309 ;apdu                      Allocated to registers r5 
                           2310 ;------------------------------------------------------------
                    0671   2311 	G$process_tel$0$0 ==.
                    0671   2312 	C$fb_lpc922.c$525$1$1 ==.
                           2313 ;	..\fb_lpc922.c:525: void process_tel(void)
                           2314 ;	-----------------------------------------
                           2315 ;	 function process_tel
                           2316 ;	-----------------------------------------
   0671                    2317 _process_tel:
                    0671   2318 	C$fb_lpc922.c$529$1$1 ==.
                           2319 ;	..\fb_lpc922.c:529: tel_arrived=0;
   0671 C2*06              2320 	clr	_tel_arrived
                    0673   2321 	C$fb_lpc922.c$530$1$1 ==.
                           2322 ;	..\fb_lpc922.c:530: tpdu=telegramm[6]&0xC3;
   0673 AF*0D              2323 	mov	r7,(_telegramm + 0x0006)
   0675 74 C3              2324 	mov	a,#0xC3
   0677 5F                 2325 	anl	a,r7
   0678 FE                 2326 	mov	r6,a
                    0679   2327 	C$fb_lpc922.c$531$1$1 ==.
                           2328 ;	..\fb_lpc922.c:531: apdu=telegramm[7];
   0679 AD*0E              2329 	mov	r5,(_telegramm + 0x0007)
                    067B   2330 	C$fb_lpc922.c$534$1$1 ==.
                           2331 ;	..\fb_lpc922.c:534: if(telegramm[3]==0 && telegramm[4]==0) {	// nur wenn wenn Zieladresse = 0
   067B E5*0A              2332 	mov	a,(_telegramm + 0x0003)
   067D FC                 2333 	mov	r4,a
   067E 70 34              2334 	jnz	00144$
   0680 E5*0B              2335 	mov	a,(_telegramm + 0x0004)
   0682 70 30              2336 	jnz	00144$
                    0684   2337 	C$fb_lpc922.c$535$2$2 ==.
                           2338 ;	..\fb_lpc922.c:535: if(status60 & 0x01) {					// und nur im prog mode
   0684 E5*2E              2339 	mov	a,_status60
   0686 20 E0 03           2340 	jb	acc.0,00178$
   0689 02s07r8B           2341 	ljmp	00147$
   068C                    2342 00178$:
                    068C   2343 	C$fb_lpc922.c$536$3$3 ==.
                           2344 ;	..\fb_lpc922.c:536: if(tpdu==BROADCAST_PDU_SET_PA_REQ && apdu==SET_PHYSADDR_REQUEST) set_pa();				// 00000000 11000000
   068C EE                 2345 	mov	a,r6
   068D 70 0E              2346 	jnz	00102$
   068F BD C0 0B           2347 	cjne	r5,#0xC0,00102$
   0692 C0 06              2348 	push	ar6
   0694 C0 05              2349 	push	ar5
   0696 12s08r6C           2350 	lcall	_set_pa
   0699 D0 05              2351 	pop	ar5
   069B D0 06              2352 	pop	ar6
   069D                    2353 00102$:
                    069D   2354 	C$fb_lpc922.c$537$3$3 ==.
                           2355 ;	..\fb_lpc922.c:537: if(tpdu==BROADCAST_PDU_READ_PA && apdu==READ_PHYSADDR_REQUEST) send_obj_value(READ_PHYSADDR_RESPONSE);	// 00000001 00000000
   069D BE 01 02           2356 	cjne	r6,#0x01,00182$
   06A0 80 03              2357 	sjmp	00183$
   06A2                    2358 00182$:
   06A2 02s07r8B           2359 	ljmp	00147$
   06A5                    2360 00183$:
   06A5 ED                 2361 	mov	a,r5
   06A6 60 03              2362 	jz	00184$
   06A8 02s07r8B           2363 	ljmp	00147$
   06AB                    2364 00184$:
   06AB 75 82 83           2365 	mov	dpl,#0x83
   06AE 12s06r3E           2366 	lcall	_send_obj_value
   06B1 02s07r8B           2367 	ljmp	00147$
   06B4                    2368 00144$:
                    06B4   2369 	C$fb_lpc922.c$542$2$4 ==.
                           2370 ;	..\fb_lpc922.c:542: if((telegramm[5]&0x80)==0x00) {	// Destination Adress Flag Bit 7, 0=phys. Adr., 1=Gruppenadr.
   06B4 E5*0C              2371 	mov	a,(_telegramm + 0x0005)
   06B6 30 E7 03           2372 	jnb	acc.7,00185$
   06B9 02s07r74           2373 	ljmp	00141$
   06BC                    2374 00185$:
                    06BC   2375 	C$fb_lpc922.c$543$3$5 ==.
                           2376 ;	..\fb_lpc922.c:543: if(telegramm[3]==eeprom[ADDRTAB+1] && telegramm[4]==eeprom[ADDRTAB+2]) {	// nur wenn es die eigene phys. Adr. ist
   06BC 90 1D 17           2377 	mov	dptr,#(_eeprom + 0x0017)
   06BF E4                 2378 	clr	a
   06C0 93                 2379 	movc	a,@a+dptr
   06C1 FB                 2380 	mov	r3,a
   06C2 EC                 2381 	mov	a,r4
   06C3 B5 03 02           2382 	cjne	a,ar3,00186$
   06C6 80 03              2383 	sjmp	00187$
   06C8                    2384 00186$:
   06C8 02s07r8B           2385 	ljmp	00147$
   06CB                    2386 00187$:
   06CB 90 1D 18           2387 	mov	dptr,#(_eeprom + 0x0018)
   06CE E4                 2388 	clr	a
   06CF 93                 2389 	movc	a,@a+dptr
   06D0 FC                 2390 	mov	r4,a
   06D1 B5*0B 02           2391 	cjne	a,(_telegramm + 0x0004),00188$
   06D4 80 03              2392 	sjmp	00189$
   06D6                    2393 00188$:
   06D6 02s07r8B           2394 	ljmp	00147$
   06D9                    2395 00189$:
                    06D9   2396 	C$fb_lpc922.c$547$4$6 ==.
                           2397 ;	..\fb_lpc922.c:547: switch (tpdu) {	// transport layer control field
   06D9 BE 42 02           2398 	cjne	r6,#0x42,00190$
   06DC 80 17              2399 	sjmp	00109$
   06DE                    2400 00190$:
   06DE BE 43 02           2401 	cjne	r6,#0x43,00191$
   06E1 80 4A              2402 	sjmp	00116$
   06E3                    2403 00191$:
   06E3 BE 80 02           2404 	cjne	r6,#0x80,00192$
   06E6 80 61              2405 	sjmp	00121$
   06E8                    2406 00192$:
   06E8 BE 81 02           2407 	cjne	r6,#0x81,00193$
   06EB 80 6E              2408 	sjmp	00124$
   06ED                    2409 00193$:
   06ED BE 83 02           2410 	cjne	r6,#0x83,00194$
   06F0 80 7A              2411 	sjmp	00129$
   06F2                    2412 00194$:
   06F2 02s07r8B           2413 	ljmp	00147$
                    06F5   2414 	C$fb_lpc922.c$549$5$7 ==.
                           2415 ;	..\fb_lpc922.c:549: case DATA_PDU_MEMORY_OPERATIONS:
   06F5                    2416 00109$:
                    06F5   2417 	C$fb_lpc922.c$550$5$7 ==.
                           2418 ;	..\fb_lpc922.c:550: if(connected){ 
   06F5 20*0E 03           2419 	jb	_connected,00195$
   06F8 02s07r8B           2420 	ljmp	00147$
   06FB                    2421 00195$:
                    06FB   2422 	C$fb_lpc922.c$551$6$8 ==.
                           2423 ;	..\fb_lpc922.c:551: senders_pcount=telegramm[6]&0x3C;
   06FB 74 3C              2424 	mov	a,#0x3C
   06FD 5F                 2425 	anl	a,r7
   06FE F5*06              2426 	mov	_senders_pcount,a
                    0700   2427 	C$fb_lpc922.c$552$6$8 ==.
                           2428 ;	..\fb_lpc922.c:552: apdu &= 0xF0;						// da bei memory operations nur obere 4 Bits aktiv
   0700 53 05 F0           2429 	anl	ar5,#0xF0
                    0703   2430 	C$fb_lpc922.c$553$6$8 ==.
                           2431 ;	..\fb_lpc922.c:553: if(apdu==WRITE_MEMORY_REQUEST) {	// 01pppp10 1000xxxx
   0703 BD 80 0D           2432 	cjne	r5,#0x80,00111$
                    0706   2433 	C$fb_lpc922.c$554$7$9 ==.
                           2434 ;	..\fb_lpc922.c:554: send_obj_value(NCD_ACK);
   0706 75 82 81           2435 	mov	dpl,#0x81
   0709 C0 05              2436 	push	ar5
   070B 12s06r3E           2437 	lcall	_send_obj_value
                    070E   2438 	C$fb_lpc922.c$555$7$9 ==.
                           2439 ;	..\fb_lpc922.c:555: write_memory();
   070E 12s07r8C           2440 	lcall	_write_memory
   0711 D0 05              2441 	pop	ar5
   0713                    2442 00111$:
                    0713   2443 	C$fb_lpc922.c$557$6$8 ==.
                           2444 ;	..\fb_lpc922.c:557: if(apdu==READ_MEMORY_REQUEST) {		// 01pppp10 0000xxxx
   0713 ED                 2445 	mov	a,r5
   0714 70 75              2446 	jnz	00147$
                    0716   2447 	C$fb_lpc922.c$558$7$10 ==.
                           2448 ;	..\fb_lpc922.c:558: mem_length=telegramm[7];		// Anzahl Bytes für späteres(!) memory Auslesen
   0716 85*0E*03           2449 	mov	_mem_length,(_telegramm + 0x0007)
                    0719   2450 	C$fb_lpc922.c$559$7$10 ==.
                           2451 ;	..\fb_lpc922.c:559: mem_adrh = telegramm[8];		// Adresse
   0719 85*0F*04           2452 	mov	_mem_adrh,(_telegramm + 0x0008)
                    071C   2453 	C$fb_lpc922.c$560$7$10 ==.
                           2454 ;	..\fb_lpc922.c:560: mem_adrl = telegramm[9];
   071C 85*10*05           2455 	mov	_mem_adrl,(_telegramm + 0x0009)
                    071F   2456 	C$fb_lpc922.c$561$7$10 ==.
                           2457 ;	..\fb_lpc922.c:561: send_obj_value(NCD_ACK);
   071F 75 82 81           2458 	mov	dpl,#0x81
   0722 12s06r3E           2459 	lcall	_send_obj_value
                    0725   2460 	C$fb_lpc922.c$562$7$10 ==.
                           2461 ;	..\fb_lpc922.c:562: send_obj_value(READ_MEMORY_RESPONSE);
   0725 75 82 84           2462 	mov	dpl,#0x84
   0728 12s06r3E           2463 	lcall	_send_obj_value
                    072B   2464 	C$fb_lpc922.c$565$5$7 ==.
                           2465 ;	..\fb_lpc922.c:565: break;
                    072B   2466 	C$fb_lpc922.c$567$5$7 ==.
                           2467 ;	..\fb_lpc922.c:567: case DATA_PDU_MISC_OPERATIONS:
   072B 80 5E              2468 	sjmp	00147$
   072D                    2469 00116$:
                    072D   2470 	C$fb_lpc922.c$568$5$7 ==.
                           2471 ;	..\fb_lpc922.c:568: senders_pcount=telegramm[6]&0x3C;
   072D 74 3C              2472 	mov	a,#0x3C
   072F 5F                 2473 	anl	a,r7
   0730 F5*06              2474 	mov	_senders_pcount,a
                    0732   2475 	C$fb_lpc922.c$569$5$7 ==.
                           2476 ;	..\fb_lpc922.c:569: if(apdu==RESTART_REQUEST) {		// 01pppp11 10000000
   0732 BD 80 03           2477 	cjne	r5,#0x80,00118$
                    0735   2478 	C$fb_lpc922.c$570$6$11 ==.
                           2479 ;	..\fb_lpc922.c:570: AUXR1|=0x08;				// Software Reset
   0735 43 A2 08           2480 	orl	_AUXR1,#0x08
   0738                    2481 00118$:
                    0738   2482 	C$fb_lpc922.c$572$5$7 ==.
                           2483 ;	..\fb_lpc922.c:572: if(apdu==READ_MASK_VERSION_REQUEST) {		// 01pppp11 00000000
   0738 ED                 2484 	mov	a,r5
   0739 70 50              2485 	jnz	00147$
                    073B   2486 	C$fb_lpc922.c$573$6$12 ==.
                           2487 ;	..\fb_lpc922.c:573: send_obj_value(NCD_ACK);
   073B 75 82 81           2488 	mov	dpl,#0x81
   073E 12s06r3E           2489 	lcall	_send_obj_value
                    0741   2490 	C$fb_lpc922.c$574$6$12 ==.
                           2491 ;	..\fb_lpc922.c:574: send_obj_value(READ_MASK_VERSION_RESPONSE);
   0741 75 82 82           2492 	mov	dpl,#0x82
   0744 12s06r3E           2493 	lcall	_send_obj_value
                    0747   2494 	C$fb_lpc922.c$576$5$7 ==.
                           2495 ;	..\fb_lpc922.c:576: break;
                    0747   2496 	C$fb_lpc922.c$578$5$7 ==.
                           2497 ;	..\fb_lpc922.c:578: case CONNECT_PDU:	// 10000000 xxxxxxxx
   0747 80 42              2498 	sjmp	00147$
   0749                    2499 00121$:
                    0749   2500 	C$fb_lpc922.c$579$5$7 ==.
                           2501 ;	..\fb_lpc922.c:579: if(!connected) {				// wenn bereits verbunden: ignorieren
   0749 20*0E 3F           2502 	jb	_connected,00147$
                    074C   2503 	C$fb_lpc922.c$580$6$13 ==.
                           2504 ;	..\fb_lpc922.c:580: connected=1;
   074C D2*0E              2505 	setb	_connected
                    074E   2506 	C$fb_lpc922.c$581$6$13 ==.
                           2507 ;	..\fb_lpc922.c:581: conh=telegramm[1];			// phys. Adresse des Verbindungspartners
   074E 85*08*00           2508 	mov	_conh,(_telegramm + 0x0001)
                    0751   2509 	C$fb_lpc922.c$582$6$13 ==.
                           2510 ;	..\fb_lpc922.c:582: conl=telegramm[2];
   0751 85*09*01           2511 	mov	_conl,(_telegramm + 0x0002)
                    0754   2512 	C$fb_lpc922.c$583$6$13 ==.
                           2513 ;	..\fb_lpc922.c:583: pcount=0;					// Paketzaehler zuruecksetzen
   0754 75*02 00           2514 	mov	_pcount,#0x00
                    0757   2515 	C$fb_lpc922.c$584$6$13 ==.
                           2516 ;	..\fb_lpc922.c:584: inc_pcount=0;
   0757 C2*0F              2517 	clr	_inc_pcount
                    0759   2518 	C$fb_lpc922.c$586$5$7 ==.
                           2519 ;	..\fb_lpc922.c:586: break;
                    0759   2520 	C$fb_lpc922.c$588$5$7 ==.
                           2521 ;	..\fb_lpc922.c:588: case DISCONNECT_PDU:	// 10000001 xxxxxxxx
   0759 80 30              2522 	sjmp	00147$
   075B                    2523 00124$:
                    075B   2524 	C$fb_lpc922.c$589$5$7 ==.
                           2525 ;	..\fb_lpc922.c:589: if(conh==telegramm[1] && conl==telegramm[2] && connected)	{	// nur abbauen, wenn verbunden und Anforderung vom Verbindungspartner, kein ACK senden
   075B E5*08              2526 	mov	a,(_telegramm + 0x0001)
   075D B5*00 2B           2527 	cjne	a,_conh,00147$
   0760 E5*09              2528 	mov	a,(_telegramm + 0x0002)
   0762 B5*01 26           2529 	cjne	a,_conl,00147$
                    0765   2530 	C$fb_lpc922.c$590$6$14 ==.
                           2531 ;	..\fb_lpc922.c:590: connected=0;
   0765 10*0E 02           2532 	jbc	_connected,00207$
   0768 80 21              2533 	sjmp	00147$
   076A                    2534 00207$:
                    076A   2535 	C$fb_lpc922.c$594$5$7 ==.
                           2536 ;	..\fb_lpc922.c:594: break;
                    076A   2537 	C$fb_lpc922.c$596$5$7 ==.
                           2538 ;	..\fb_lpc922.c:596: case NACK_PDU:	// 11pppp11 xxxxxxxx
   076A 80 1F              2539 	sjmp	00147$
   076C                    2540 00129$:
                    076C   2541 	C$fb_lpc922.c$597$5$7 ==.
                           2542 ;	..\fb_lpc922.c:597: send_obj_value(T_DISCONNECT);
   076C 75 82 85           2543 	mov	dpl,#0x85
   076F 12s06r3E           2544 	lcall	_send_obj_value
                    0772   2545 	C$fb_lpc922.c$599$2$4 ==.
                           2546 ;	..\fb_lpc922.c:599: }
   0772 80 17              2547 	sjmp	00147$
   0774                    2548 00141$:
                    0774   2549 	C$fb_lpc922.c$605$3$15 ==.
                           2550 ;	..\fb_lpc922.c:605: if(tpdu==GROUP_PDU){
   0774 EE                 2551 	mov	a,r6
   0775 70 14              2552 	jnz	00147$
                    0777   2553 	C$fb_lpc922.c$606$4$16 ==.
                           2554 ;	..\fb_lpc922.c:606: if((apdu&0xC0)==WRITE_GROUP) write_value_req();	// Objektwerte schreiben (zB. EISx)		00000000 10xxxxxx
   0777 74 C0              2555 	mov	a,#0xC0
   0779 5D                 2556 	anl	a,r5
   077A FF                 2557 	mov	r7,a
   077B BF 80 07           2558 	cjne	r7,#0x80,00135$
   077E C0 05              2559 	push	ar5
   0780 12s00r00           2560 	lcall	_write_value_req
   0783 D0 05              2561 	pop	ar5
   0785                    2562 00135$:
                    0785   2563 	C$fb_lpc922.c$607$4$16 ==.
                           2564 ;	..\fb_lpc922.c:607: if(apdu==READ_GROUP_REQUEST) read_value_req();	// Objektwert lesen und read_value_response senden	00000000 00000000
   0785 ED                 2565 	mov	a,r5
   0786 70 03              2566 	jnz	00147$
   0788 12s00r00           2567 	lcall	_read_value_req
   078B                    2568 00147$:
                    078B   2569 	C$fb_lpc922.c$611$1$1 ==.
                    078B   2570 	XG$process_tel$0$0 ==.
   078B 22                 2571 	ret
                           2572 ;------------------------------------------------------------
                           2573 ;Allocation info for local variables in function 'write_memory'
                           2574 ;------------------------------------------------------------
                           2575 ;ab                        Allocated to stack - _bp +1
                           2576 ;n                         Allocated to stack - _bp +2
                           2577 ;sloc0                     Allocated to stack - _bp +3
                           2578 ;------------------------------------------------------------
                    078C   2579 	G$write_memory$0$0 ==.
                    078C   2580 	C$fb_lpc922.c$618$1$1 ==.
                           2581 ;	..\fb_lpc922.c:618: void write_memory(void)
                           2582 ;	-----------------------------------------
                           2583 ;	 function write_memory
                           2584 ;	-----------------------------------------
   078C                    2585 _write_memory:
   078C C0*00              2586 	push	_bp
   078E E5 81              2587 	mov	a,sp
   0790 F5*00              2588 	mov	_bp,a
   0792 24 04              2589 	add	a,#0x04
   0794 F5 81              2590 	mov	sp,a
                    0796   2591 	C$fb_lpc922.c$622$1$1 ==.
                           2592 ;	..\fb_lpc922.c:622: ab=telegramm[7]&0x0F;		// Anzahl Bytes
   0796 A8*00              2593 	mov	r0,_bp
   0798 08                 2594 	inc	r0
   0799 74 0F              2595 	mov	a,#0x0F
   079B 55*0E              2596 	anl	a,(_telegramm + 0x0007)
   079D F6                 2597 	mov	@r0,a
                    079E   2598 	C$fb_lpc922.c$624$1$1 ==.
                           2599 ;	..\fb_lpc922.c:624: while(fb_state!=0);					// warten falls noch gesendet wird
   079E                    2600 00101$:
   079E E5*2A              2601 	mov	a,_fb_state
   07A0 70 FC              2602 	jnz	00101$
                    07A2   2603 	C$fb_lpc922.c$626$1$1 ==.
                           2604 ;	..\fb_lpc922.c:626: EA=0;
   07A2 C2 AF              2605 	clr	_IEN0_7
                    07A4   2606 	C$fb_lpc922.c$627$1$1 ==.
                           2607 ;	..\fb_lpc922.c:627: START_WRITECYCLE;					// load command, leert das pageregister
   07A4 75 E4 00           2608 	mov	_FMCON,#0x00
                    07A7   2609 	C$fb_lpc922.c$628$2$2 ==.
                           2610 ;	..\fb_lpc922.c:628: for(n=0;n<ab;n++) {
   07A7 AE*10              2611 	mov	r6,(_telegramm + 0x0009)
   07A9 AD*0F              2612 	mov	r5,(_telegramm + 0x0008)
   07AB 74 01              2613 	mov	a,#0x01
   07AD 5D                 2614 	anl	a,r5
   07AE 24 1C              2615 	add	a,#0x1C
   07B0 FC                 2616 	mov	r4,a
   07B1 A8*00              2617 	mov	r0,_bp
   07B3 08                 2618 	inc	r0
   07B4 08                 2619 	inc	r0
   07B5 76 00              2620 	mov	@r0,#0x00
   07B7                    2621 00111$:
   07B7 A8*00              2622 	mov	r0,_bp
   07B9 08                 2623 	inc	r0
   07BA 08                 2624 	inc	r0
   07BB A9*00              2625 	mov	r1,_bp
   07BD 09                 2626 	inc	r1
   07BE C3                 2627 	clr	c
   07BF E6                 2628 	mov	a,@r0
   07C0 97                 2629 	subb	a,@r1
   07C1 40 03              2630 	jc	00127$
   07C3 02s08r61           2631 	ljmp	00114$
   07C6                    2632 00127$:
                    07C6   2633 	C$fb_lpc922.c$629$2$2 ==.
                           2634 ;	..\fb_lpc922.c:629: if(telegramm[8]==0 && (telegramm[9]+n)==0x60) status60=telegramm[10+n];
   07C6 ED                 2635 	mov	a,r5
   07C7 70 30              2636 	jnz	00105$
   07C9 C0 04              2637 	push	ar4
   07CB 8E 02              2638 	mov	ar2,r6
   07CD 7C 00              2639 	mov	r4,#0x00
   07CF A8*00              2640 	mov	r0,_bp
   07D1 08                 2641 	inc	r0
   07D2 08                 2642 	inc	r0
   07D3 86 03              2643 	mov	ar3,@r0
   07D5 7F 00              2644 	mov	r7,#0x00
   07D7 EB                 2645 	mov	a,r3
   07D8 2A                 2646 	add	a,r2
   07D9 FA                 2647 	mov	r2,a
   07DA EF                 2648 	mov	a,r7
   07DB 3C                 2649 	addc	a,r4
   07DC FC                 2650 	mov	r4,a
   07DD BA 60 05           2651 	cjne	r2,#0x60,00129$
   07E0 BC 00 02           2652 	cjne	r4,#0x00,00129$
   07E3 80 04              2653 	sjmp	00130$
   07E5                    2654 00129$:
   07E5 D0 04              2655 	pop	ar4
   07E7 80 10              2656 	sjmp	00105$
   07E9                    2657 00130$:
   07E9 D0 04              2658 	pop	ar4
   07EB A8*00              2659 	mov	r0,_bp
   07ED 08                 2660 	inc	r0
   07EE 08                 2661 	inc	r0
   07EF 74 0A              2662 	mov	a,#0x0A
   07F1 26                 2663 	add	a,@r0
   07F2 24r07              2664 	add	a,#_telegramm
   07F4 F9                 2665 	mov	r1,a
   07F5 87*2E              2666 	mov	_status60,@r1
   07F7 80 02              2667 	sjmp	00106$
   07F9                    2668 00105$:
                    07F9   2669 	C$fb_lpc922.c$630$2$2 ==.
                           2670 ;	..\fb_lpc922.c:630: else WRITE_BYTE(telegramm[8],telegramm[9]+n,telegramm[n+10]);
   07F9 8C E7              2671 	mov	_FMADRH,r4
   07FB                    2672 00106$:
   07FB A8*00              2673 	mov	r0,_bp
   07FD 08                 2674 	inc	r0
   07FE 08                 2675 	inc	r0
   07FF E6                 2676 	mov	a,@r0
   0800 2E                 2677 	add	a,r6
   0801 F5 E6              2678 	mov	_FMADRL,a
   0803 A8*00              2679 	mov	r0,_bp
   0805 08                 2680 	inc	r0
   0806 08                 2681 	inc	r0
   0807 74 0A              2682 	mov	a,#0x0A
   0809 26                 2683 	add	a,@r0
   080A 24r07              2684 	add	a,#_telegramm
   080C F9                 2685 	mov	r1,a
   080D 87 E5              2686 	mov	_FMDATA,@r1
                    080F   2687 	C$fb_lpc922.c$632$2$2 ==.
                           2688 ;	..\fb_lpc922.c:632: if ((((telegramm[9]+n)&0x3F)==0x3F) && n!=(ab-1)) {		// Ende des 64-Byte Pageregisters, also zwischendurch flashen
   080F 8E 03              2689 	mov	ar3,r6
   0811 7F 00              2690 	mov	r7,#0x00
   0813 A8*00              2691 	mov	r0,_bp
   0815 08                 2692 	inc	r0
   0816 08                 2693 	inc	r0
   0817 E5*00              2694 	mov	a,_bp
   0819 24 03              2695 	add	a,#0x03
   081B F9                 2696 	mov	r1,a
   081C E6                 2697 	mov	a,@r0
   081D F7                 2698 	mov	@r1,a
   081E 09                 2699 	inc	r1
   081F 77 00              2700 	mov	@r1,#0x00
   0821 E5*00              2701 	mov	a,_bp
   0823 24 03              2702 	add	a,#0x03
   0825 F8                 2703 	mov	r0,a
   0826 E6                 2704 	mov	a,@r0
   0827 2B                 2705 	add	a,r3
   0828 FB                 2706 	mov	r3,a
   0829 08                 2707 	inc	r0
   082A E6                 2708 	mov	a,@r0
   082B 3F                 2709 	addc	a,r7
   082C 53 03 3F           2710 	anl	ar3,#0x3F
   082F 7F 00              2711 	mov	r7,#0x00
   0831 BB 3F 25           2712 	cjne	r3,#0x3F,00113$
   0834 BF 00 22           2713 	cjne	r7,#0x00,00113$
   0837 A8*00              2714 	mov	r0,_bp
   0839 08                 2715 	inc	r0
   083A 86 03              2716 	mov	ar3,@r0
   083C 7F 00              2717 	mov	r7,#0x00
   083E 1B                 2718 	dec	r3
   083F BB FF 01           2719 	cjne	r3,#0xFF,00133$
   0842 1F                 2720 	dec	r7
   0843                    2721 00133$:
   0843 E5*00              2722 	mov	a,_bp
   0845 24 03              2723 	add	a,#0x03
   0847 F8                 2724 	mov	r0,a
   0848 E6                 2725 	mov	a,@r0
   0849 B5 03 07           2726 	cjne	a,ar3,00134$
   084C 08                 2727 	inc	r0
   084D E6                 2728 	mov	a,@r0
   084E B5 07 02           2729 	cjne	a,ar7,00134$
   0851 80 06              2730 	sjmp	00113$
   0853                    2731 00134$:
                    0853   2732 	C$fb_lpc922.c$633$3$3 ==.
                           2733 ;	..\fb_lpc922.c:633: STOP_WRITECYCLE;			// write command, schreibt pageregister ins flash und versetzt CPU in idle fuer 4ms
   0853 75 E4 68           2734 	mov	_FMCON,#0x68
                    0856   2735 	C$fb_lpc922.c$634$3$3 ==.
                           2736 ;	..\fb_lpc922.c:634: START_WRITECYCLE;		// load command, leert das pageregister
   0856 75 E4 00           2737 	mov	_FMCON,#0x00
   0859                    2738 00113$:
                    0859   2739 	C$fb_lpc922.c$628$1$1 ==.
                           2740 ;	..\fb_lpc922.c:628: for(n=0;n<ab;n++) {
   0859 A8*00              2741 	mov	r0,_bp
   085B 08                 2742 	inc	r0
   085C 08                 2743 	inc	r0
   085D 06                 2744 	inc	@r0
   085E 02s07rB7           2745 	ljmp	00111$
   0861                    2746 00114$:
                    0861   2747 	C$fb_lpc922.c$637$1$1 ==.
                           2748 ;	..\fb_lpc922.c:637: STOP_WRITECYCLE;					// write command, schreibt pageregister ins flash und versetzt CPU in idle fuer 4ms
   0861 75 E4 68           2749 	mov	_FMCON,#0x68
                    0864   2750 	C$fb_lpc922.c$638$1$1 ==.
                           2751 ;	..\fb_lpc922.c:638: EA=1;
   0864 D2 AF              2752 	setb	_IEN0_7
   0866 85*00 81           2753 	mov	sp,_bp
   0869 D0*00              2754 	pop	_bp
                    086B   2755 	C$fb_lpc922.c$639$1$1 ==.
                    086B   2756 	XG$write_memory$0$0 ==.
   086B 22                 2757 	ret
                           2758 ;------------------------------------------------------------
                           2759 ;Allocation info for local variables in function 'set_pa'
                           2760 ;------------------------------------------------------------
                    086C   2761 	G$set_pa$0$0 ==.
                    086C   2762 	C$fb_lpc922.c$643$1$1 ==.
                           2763 ;	..\fb_lpc922.c:643: void set_pa(void)
                           2764 ;	-----------------------------------------
                           2765 ;	 function set_pa
                           2766 ;	-----------------------------------------
   086C                    2767 _set_pa:
                    086C   2768 	C$fb_lpc922.c$645$1$1 ==.
                           2769 ;	..\fb_lpc922.c:645: while(fb_state!=0);		// warten falls noch gesendet wird
   086C                    2770 00101$:
   086C E5*2A              2771 	mov	a,_fb_state
   086E 70 FC              2772 	jnz	00101$
                    0870   2773 	C$fb_lpc922.c$646$1$1 ==.
                           2774 ;	..\fb_lpc922.c:646: EA=0;
   0870 C2 AF              2775 	clr	_IEN0_7
                    0872   2776 	C$fb_lpc922.c$647$1$1 ==.
                           2777 ;	..\fb_lpc922.c:647: FMCON=0x00;				// load command, leert das pageregister
   0872 75 E4 00           2778 	mov	_FMCON,#0x00
                    0875   2779 	C$fb_lpc922.c$648$1$1 ==.
                           2780 ;	..\fb_lpc922.c:648: FMADRH=0x1D;
   0875 75 E7 1D           2781 	mov	_FMADRH,#0x1D
                    0878   2782 	C$fb_lpc922.c$649$1$1 ==.
                           2783 ;	..\fb_lpc922.c:649: FMADRL=ADDRTAB+1;
   0878 75 E6 17           2784 	mov	_FMADRL,#0x17
                    087B   2785 	C$fb_lpc922.c$650$1$1 ==.
                           2786 ;	..\fb_lpc922.c:650: FMDATA=telegramm[8];
   087B 85*0F E5           2787 	mov	_FMDATA,(_telegramm + 0x0008)
                    087E   2788 	C$fb_lpc922.c$651$1$1 ==.
                           2789 ;	..\fb_lpc922.c:651: FMDATA=telegramm[9];	// nächstes Byte, da autoinkrement
   087E 85*10 E5           2790 	mov	_FMDATA,(_telegramm + 0x0009)
                    0881   2791 	C$fb_lpc922.c$652$1$1 ==.
                           2792 ;	..\fb_lpc922.c:652: FMCON=0x68;				// write command, schreibt pageregister ins flash und versetzt CPU in idle fuer 4ms
   0881 75 E4 68           2793 	mov	_FMCON,#0x68
                    0884   2794 	C$fb_lpc922.c$653$1$1 ==.
                           2795 ;	..\fb_lpc922.c:653: EA=1;
   0884 D2 AF              2796 	setb	_IEN0_7
                    0886   2797 	C$fb_lpc922.c$654$1$1 ==.
                    0886   2798 	XG$set_pa$0$0 ==.
   0886 22                 2799 	ret
                           2800 ;------------------------------------------------------------
                           2801 ;Allocation info for local variables in function 'read_objflags'
                           2802 ;------------------------------------------------------------
                           2803 ;objno                     Allocated to registers r7 
                           2804 ;------------------------------------------------------------
                    0887   2805 	G$read_objflags$0$0 ==.
                    0887   2806 	C$fb_lpc922.c$659$1$1 ==.
                           2807 ;	..\fb_lpc922.c:659: unsigned char read_objflags(unsigned char objno)
                           2808 ;	-----------------------------------------
                           2809 ;	 function read_objflags
                           2810 ;	-----------------------------------------
   0887                    2811 _read_objflags:
   0887 AF 82              2812 	mov	r7,dpl
                    0889   2813 	C$fb_lpc922.c$662$1$1 ==.
                           2814 ;	..\fb_lpc922.c:662: return(eeprom[eeprom[COMMSTABPTR]+3+objno+objno+objno]);
   0889 90 1D 12           2815 	mov	dptr,#(_eeprom + 0x0012)
   088C E4                 2816 	clr	a
   088D 93                 2817 	movc	a,@a+dptr
   088E FE                 2818 	mov	r6,a
   088F 0E                 2819 	inc	r6
   0890 0E                 2820 	inc	r6
   0891 0E                 2821 	inc	r6
   0892 EF                 2822 	mov	a,r7
   0893 2E                 2823 	add	a,r6
   0894 2F                 2824 	add	a,r7
   0895 2F                 2825 	add	a,r7
   0896 90 1D 00           2826 	mov	dptr,#_eeprom
   0899 93                 2827 	movc	a,@a+dptr
                    089A   2828 	C$fb_lpc922.c$663$1$1 ==.
                    089A   2829 	XG$read_objflags$0$0 ==.
   089A F5 82              2830 	mov	dpl,a
   089C 22                 2831 	ret
                           2832 ;------------------------------------------------------------
                           2833 ;Allocation info for local variables in function 'find_first_objno'
                           2834 ;------------------------------------------------------------
                           2835 ;gal                       Allocated to stack - _bp -3
                           2836 ;gah                       Allocated to registers r7 
                           2837 ;gaposgat                  Allocated to registers r7 
                           2838 ;gaposass                  Allocated to registers r2 
                           2839 ;atp                       Allocated to registers r5 
                           2840 ;assmax                    Allocated to registers r4 
                           2841 ;n                         Allocated to registers r3 
                           2842 ;objno                     Allocated to registers r6 
                           2843 ;asspos                    Allocated to registers r5 
                           2844 ;------------------------------------------------------------
                    089D   2845 	G$find_first_objno$0$0 ==.
                    089D   2846 	C$fb_lpc922.c$667$1$1 ==.
                           2847 ;	..\fb_lpc922.c:667: unsigned char find_first_objno(unsigned char gah, unsigned char gal)
                           2848 ;	-----------------------------------------
                           2849 ;	 function find_first_objno
                           2850 ;	-----------------------------------------
   089D                    2851 _find_first_objno:
   089D C0*00              2852 	push	_bp
   089F 85 81*00           2853 	mov	_bp,sp
   08A2 AF 82              2854 	mov	r7,dpl
                    08A4   2855 	C$fb_lpc922.c$671$1$1 ==.
                           2856 ;	..\fb_lpc922.c:671: objno=0xFF;
   08A4 7E FF              2857 	mov	r6,#0xFF
                    08A6   2858 	C$fb_lpc922.c$672$1$1 ==.
                           2859 ;	..\fb_lpc922.c:672: gaposgat=gapos_in_gat(gah,gal);
   08A6 C0 06              2860 	push	ar6
   08A8 E5*00              2861 	mov	a,_bp
   08AA 24 FD              2862 	add	a,#0xfd
   08AC F8                 2863 	mov	r0,a
   08AD E6                 2864 	mov	a,@r0
   08AE C0 E0              2865 	push	acc
   08B0 8F 82              2866 	mov	dpl,r7
   08B2 12s03rE2           2867 	lcall	_gapos_in_gat
   08B5 AF 82              2868 	mov	r7,dpl
   08B7 15 81              2869 	dec	sp
   08B9 D0 06              2870 	pop	ar6
                    08BB   2871 	C$fb_lpc922.c$674$1$1 ==.
                           2872 ;	..\fb_lpc922.c:674: atp=eeprom[ASSOCTABPTR];	// Pointer auf Assoziationstabelle
   08BB 90 1D 11           2873 	mov	dptr,#(_eeprom + 0x0011)
   08BE E4                 2874 	clr	a
   08BF 93                 2875 	movc	a,@a+dptr
                    08C0   2876 	C$fb_lpc922.c$675$1$1 ==.
                           2877 ;	..\fb_lpc922.c:675: assmax=eeprom[atp];			// Anzahl Assoziationen
   08C0 FD                 2878 	mov	r5,a
   08C1 F5 82              2879 	mov	dpl,a
   08C3 75 83 1D           2880 	mov	dph,#(_eeprom >> 8)
   08C6 E4                 2881 	clr	a
   08C7 93                 2882 	movc	a,@a+dptr
   08C8 FC                 2883 	mov	r4,a
                    08C9   2884 	C$fb_lpc922.c$676$1$1 ==.
                           2885 ;	..\fb_lpc922.c:676: if (gaposgat!=0xFF) {	// falls Gruppenadresse nicht vorhanden
   08C9 BF FF 02           2886 	cjne	r7,#0xFF,00115$
   08CC 80 23              2887 	sjmp	00107$
   08CE                    2888 00115$:
                    08CE   2889 	C$fb_lpc922.c$677$2$2 ==.
                           2890 ;	..\fb_lpc922.c:677: n=0;
   08CE 7B 00              2891 	mov	r3,#0x00
                    08D0   2892 	C$fb_lpc922.c$678$2$2 ==.
                           2893 ;	..\fb_lpc922.c:678: asspos=atp+1;
   08D0 0D                 2894 	inc	r5
                    08D1   2895 	C$fb_lpc922.c$679$1$1 ==.
                           2896 ;	..\fb_lpc922.c:679: while(n<assmax) { 	// Schleife ueber Assoziationstabelle
   08D1                    2897 00103$:
   08D1 C3                 2898 	clr	c
   08D2 EB                 2899 	mov	a,r3
   08D3 9C                 2900 	subb	a,r4
   08D4 50 1B              2901 	jnc	00107$
                    08D6   2902 	C$fb_lpc922.c$680$3$3 ==.
                           2903 ;	..\fb_lpc922.c:680: gaposass=eeprom[asspos];
   08D6 8D 82              2904 	mov	dpl,r5
   08D8 75 83 1D           2905 	mov	dph,#(_eeprom >> 8)
   08DB E4                 2906 	clr	a
   08DC 93                 2907 	movc	a,@a+dptr
   08DD FA                 2908 	mov	r2,a
                    08DE   2909 	C$fb_lpc922.c$681$3$3 ==.
                           2910 ;	..\fb_lpc922.c:681: if(gaposgat==gaposass) {
   08DE EF                 2911 	mov	a,r7
   08DF B5 02 0A           2912 	cjne	a,ar2,00102$
                    08E2   2913 	C$fb_lpc922.c$682$4$4 ==.
                           2914 ;	..\fb_lpc922.c:682: objno=eeprom[asspos+1];
   08E2 ED                 2915 	mov	a,r5
   08E3 04                 2916 	inc	a
   08E4 90 1D 00           2917 	mov	dptr,#_eeprom
   08E7 93                 2918 	movc	a,@a+dptr
   08E8 FA                 2919 	mov	r2,a
   08E9 FE                 2920 	mov	r6,a
                    08EA   2921 	C$fb_lpc922.c$683$4$4 ==.
                           2922 ;	..\fb_lpc922.c:683: n=assmax;
   08EA 8C 03              2923 	mov	ar3,r4
   08EC                    2924 00102$:
                    08EC   2925 	C$fb_lpc922.c$685$3$3 ==.
                           2926 ;	..\fb_lpc922.c:685: n++;
   08EC 0B                 2927 	inc	r3
                    08ED   2928 	C$fb_lpc922.c$686$3$3 ==.
                           2929 ;	..\fb_lpc922.c:686: asspos+=2;
   08ED 0D                 2930 	inc	r5
   08EE 0D                 2931 	inc	r5
   08EF 80 E0              2932 	sjmp	00103$
   08F1                    2933 00107$:
                    08F1   2934 	C$fb_lpc922.c$689$1$1 ==.
                           2935 ;	..\fb_lpc922.c:689: return (objno);
   08F1 8E 82              2936 	mov	dpl,r6
   08F3 D0*00              2937 	pop	_bp
                    08F5   2938 	C$fb_lpc922.c$690$1$1 ==.
                    08F5   2939 	XG$find_first_objno$0$0 ==.
   08F5 22                 2940 	ret
                           2941 ;------------------------------------------------------------
                           2942 ;Allocation info for local variables in function 'find_ga'
                           2943 ;------------------------------------------------------------
                           2944 ;objno                     Allocated to registers r7 
                           2945 ;asstab                    Allocated to registers r5 
                           2946 ;gapos                     Allocated to registers r6 
                           2947 ;asspos                    Allocated to registers r5 
                           2948 ;ga                        Allocated to registers r7 r5 
                           2949 ;------------------------------------------------------------
                    08F6   2950 	G$find_ga$0$0 ==.
                    08F6   2951 	C$fb_lpc922.c$695$1$1 ==.
                           2952 ;	..\fb_lpc922.c:695: unsigned int find_ga(unsigned char objno)
                           2953 ;	-----------------------------------------
                           2954 ;	 function find_ga
                           2955 ;	-----------------------------------------
   08F6                    2956 _find_ga:
   08F6 AF 82              2957 	mov	r7,dpl
                    08F8   2958 	C$fb_lpc922.c$700$1$1 ==.
                           2959 ;	..\fb_lpc922.c:700: gapos=0xFE;
   08F8 7E FE              2960 	mov	r6,#0xFE
                    08FA   2961 	C$fb_lpc922.c$701$1$1 ==.
                           2962 ;	..\fb_lpc922.c:701: asstab=eeprom[ASSOCTABPTR];		// Adresse der Assoziationstabelle
   08FA 90 1D 11           2963 	mov	dptr,#(_eeprom + 0x0011)
   08FD E4                 2964 	clr	a
   08FE 93                 2965 	movc	a,@a+dptr
   08FF FD                 2966 	mov	r5,a
                    0900   2967 	C$fb_lpc922.c$702$1$1 ==.
                           2968 ;	..\fb_lpc922.c:702: asspos=asstab+1+2*objno;
   0900 0D                 2969 	inc	r5
   0901 EF                 2970 	mov	a,r7
   0902 2F                 2971 	add	a,r7
   0903 2D                 2972 	add	a,r5
                    0904   2973 	C$fb_lpc922.c$704$1$1 ==.
                           2974 ;	..\fb_lpc922.c:704: if(eeprom[asspos+1]==objno) gapos=eeprom[asspos];
   0904 FD                 2975 	mov	r5,a
   0905 04                 2976 	inc	a
   0906 90 1D 00           2977 	mov	dptr,#_eeprom
   0909 93                 2978 	movc	a,@a+dptr
   090A FC                 2979 	mov	r4,a
   090B B5 07 09           2980 	cjne	a,ar7,00102$
   090E 8D 82              2981 	mov	dpl,r5
   0910 75 83 1D           2982 	mov	dph,#(_eeprom >> 8)
   0913 E4                 2983 	clr	a
   0914 93                 2984 	movc	a,@a+dptr
   0915 FF                 2985 	mov	r7,a
   0916 FE                 2986 	mov	r6,a
   0917                    2987 00102$:
                    0917   2988 	C$fb_lpc922.c$706$1$1 ==.
                           2989 ;	..\fb_lpc922.c:706: if(gapos!=0xFE) {
   0917 BE FE 02           2990 	cjne	r6,#0xFE,00112$
   091A 80 1D              2991 	sjmp	00104$
   091C                    2992 00112$:
                    091C   2993 	C$fb_lpc922.c$708$2$2 ==.
                           2994 ;	..\fb_lpc922.c:708: ga=eeprom[ADDRTAB+1+gapos*2]*256;
   091C EE                 2995 	mov	a,r6
   091D 2E                 2996 	add	a,r6
   091E FE                 2997 	mov	r6,a
   091F 24 17              2998 	add	a,#0x17
   0921 90 1D 00           2999 	mov	dptr,#_eeprom
   0924 93                 3000 	movc	a,@a+dptr
   0925 FD                 3001 	mov	r5,a
   0926 7F 00              3002 	mov	r7,#0x00
                    0928   3003 	C$fb_lpc922.c$709$2$2 ==.
                           3004 ;	..\fb_lpc922.c:709: ga+=eeprom[ADDRTAB+2+gapos*2];
   0928 74 18              3005 	mov	a,#0x18
   092A 2E                 3006 	add	a,r6
   092B 90 1D 00           3007 	mov	dptr,#_eeprom
   092E 93                 3008 	movc	a,@a+dptr
   092F FE                 3009 	mov	r6,a
   0930 7C 00              3010 	mov	r4,#0x00
   0932 2F                 3011 	add	a,r7
   0933 FF                 3012 	mov	r7,a
   0934 EC                 3013 	mov	a,r4
   0935 3D                 3014 	addc	a,r5
   0936 FD                 3015 	mov	r5,a
   0937 80 04              3016 	sjmp	00105$
   0939                    3017 00104$:
                    0939   3018 	C$fb_lpc922.c$711$1$1 ==.
                           3019 ;	..\fb_lpc922.c:711: else ga=0;
   0939 7F 00              3020 	mov	r7,#0x00
   093B 7D 00              3021 	mov	r5,#0x00
   093D                    3022 00105$:
                    093D   3023 	C$fb_lpc922.c$713$1$1 ==.
                           3024 ;	..\fb_lpc922.c:713: return(ga);
   093D 8F 82              3025 	mov	dpl,r7
   093F 8D 83              3026 	mov	dph,r5
                    0941   3027 	C$fb_lpc922.c$714$1$1 ==.
                    0941   3028 	XG$find_ga$0$0 ==.
   0941 22                 3029 	ret
                           3030 ;------------------------------------------------------------
                           3031 ;Allocation info for local variables in function 'restart_hw'
                           3032 ;------------------------------------------------------------
                    0942   3033 	G$restart_hw$0$0 ==.
                    0942   3034 	C$fb_lpc922.c$719$1$1 ==.
                           3035 ;	..\fb_lpc922.c:719: void restart_hw(void)
                           3036 ;	-----------------------------------------
                           3037 ;	 function restart_hw
                           3038 ;	-----------------------------------------
   0942                    3039 _restart_hw:
                    0942   3040 	C$fb_lpc922.c$721$1$1 ==.
                           3041 ;	..\fb_lpc922.c:721: DIVM=0;			// Taktferquenz nicht teilen -> volles Tempo
   0942 75 95 00           3042 	mov	_DIVM,#0x00
                    0945   3043 	C$fb_lpc922.c$723$1$1 ==.
                           3044 ;	..\fb_lpc922.c:723: P1M1=0x14;		// Port 1 auf quasi-bidirektional,
   0945 75 91 14           3045 	mov	_P1M1,#0x14
                    0948   3046 	C$fb_lpc922.c$724$1$1 ==.
                           3047 ;	..\fb_lpc922.c:724: P1M2=0x4C;		// ausser P1.2(T0 als PWM Ausgang)=open-drain,
   0948 75 92 4C           3048 	mov	_P1M2,#0x4C
                    094B   3049 	C$fb_lpc922.c$728$1$1 ==.
                           3050 ;	..\fb_lpc922.c:728: FBOUTC=0;		// Bus-Ausgang auf low
   094B C2 96              3051 	clr	_P1_6
                    094D   3052 	C$fb_lpc922.c$730$1$1 ==.
                           3053 ;	..\fb_lpc922.c:730: TMOD=0x21;		// Timer 0 als 16-Bit Timer, Timer 1 als 8 Bit autoreload
   094D 75 89 21           3054 	mov	_TMOD,#0x21
                    0950   3055 	C$fb_lpc922.c$731$1$1 ==.
                           3056 ;	..\fb_lpc922.c:731: TAMOD=0x00;
   0950 75 8F 00           3057 	mov	_TAMOD,#0x00
                    0953   3058 	C$fb_lpc922.c$732$1$1 ==.
                           3059 ;	..\fb_lpc922.c:732: TR0=0;			// Timer 0 (zur Verwendung in app) zunaechst stoppen 
   0953 C2 8C              3060 	clr	_TCON_4
                    0955   3061 	C$fb_lpc922.c$733$1$1 ==.
                           3062 ;	..\fb_lpc922.c:733: TR1=0;			// Timer 1 (Empfangs-Timer, nicht in app verwenden!) zunaechst stoppen
   0955 C2 8E              3063 	clr	_TCON_6
                    0957   3064 	C$fb_lpc922.c$734$1$1 ==.
                           3065 ;	..\fb_lpc922.c:734: TH1=128;		// Timer 1 auf 104us/3
   0957 75 8D 80           3066 	mov	_TH1,#0x80
                    095A   3067 	C$fb_lpc922.c$735$1$1 ==.
                           3068 ;	..\fb_lpc922.c:735: TL1=128;
   095A 75 8B 80           3069 	mov	_TL1,#0x80
                    095D   3070 	C$fb_lpc922.c$736$1$1 ==.
                           3071 ;	..\fb_lpc922.c:736: TF1=0;
   095D C2 8F              3072 	clr	_TCON_7
                    095F   3073 	C$fb_lpc922.c$743$1$1 ==.
                           3074 ;	..\fb_lpc922.c:743: interrupted=0;	// wird durch die interrupt-routine auf 1 gesetzt
   095F C2*01              3075 	clr	_interrupted
                    0961   3076 	C$fb_lpc922.c$744$1$1 ==.
                           3077 ;	..\fb_lpc922.c:744: IEN0=0x80;// mit 0x80 sind die unten auskommentierten erschlagen.
   0961 75 A8 80           3078 	mov	_IEN0,#0x80
                    0964   3079 	C$fb_lpc922.c$745$1$1 ==.
                           3080 ;	..\fb_lpc922.c:745: IEN1=0x00;
   0964 75 E8 00           3081 	mov	_IEN1,#0x00
                    0967   3082 	C$fb_lpc922.c$752$1$1 ==.
                           3083 ;	..\fb_lpc922.c:752: IP0=0x04;		// höchste Priorität fuer ext1
   0967 75 B8 04           3084 	mov	_IP0,#0x04
                    096A   3085 	C$fb_lpc922.c$753$1$1 ==.
                           3086 ;	..\fb_lpc922.c:753: IP0H=0x0C;
   096A 75 B7 0C           3087 	mov	_IP0H,#0x0C
                    096D   3088 	C$fb_lpc922.c$754$1$1 ==.
                           3089 ;	..\fb_lpc922.c:754: IT1=1;			// Interrupt 1 flankengetriggert=1
   096D D2 8A              3090 	setb	_TCON_2
                    096F   3091 	C$fb_lpc922.c$756$1$1 ==.
                           3092 ;	..\fb_lpc922.c:756: status60=0x2E;	// Status-Byte (steht normal im userram an 0x60)
   096F 75*2E 2E           3093 	mov	_status60,#0x2E
                    0972   3094 	C$fb_lpc922.c$758$1$1 ==.
                           3095 ;	..\fb_lpc922.c:758: ack=0;			// ack und nack flag zurücksetzen
   0972 C2*03              3096 	clr	_ack
                    0974   3097 	C$fb_lpc922.c$759$1$1 ==.
                           3098 ;	..\fb_lpc922.c:759: nack=0;
   0974 C2*04              3099 	clr	_nack
                    0976   3100 	C$fb_lpc922.c$760$1$1 ==.
                           3101 ;	..\fb_lpc922.c:760: send_ack=0;
   0976 C2*0B              3102 	clr	_send_ack
                    0978   3103 	C$fb_lpc922.c$761$1$1 ==.
                           3104 ;	..\fb_lpc922.c:761: send_nack=0;
   0978 C2*0C              3105 	clr	_send_nack
                    097A   3106 	C$fb_lpc922.c$762$1$1 ==.
                           3107 ;	..\fb_lpc922.c:762: tel_arrived=0;	// kein Telegramm empfangen
   097A C2*06              3108 	clr	_tel_arrived
                    097C   3109 	C$fb_lpc922.c$763$1$1 ==.
                           3110 ;	..\fb_lpc922.c:763: auto_ack=1;		// empfangene Telegramme automatisch mit ack bestätigen
   097C D2*08              3111 	setb	_auto_ack
                    097E   3112 	C$fb_lpc922.c$764$1$1 ==.
                           3113 ;	..\fb_lpc922.c:764: tx_nextwrite=0;	// Zeiger auf nächste zu schreibende Objektnr. in tx_buffer
   097E 75*2C 00           3114 	mov	_tx_nextwrite,#0x00
                    0981   3115 	C$fb_lpc922.c$765$1$1 ==.
                           3116 ;	..\fb_lpc922.c:765: tx_nextsend=0;	// Zeiger auf nächste zu sendende Objektnr. in tx_buffer
   0981 75*2D 00           3117 	mov	_tx_nextsend,#0x00
                    0984   3118 	C$fb_lpc922.c$766$1$1 ==.
                           3119 ;	..\fb_lpc922.c:766: pcount=0;		// Paketzaehler initialisieren
   0984 75*02 00           3120 	mov	_pcount,#0x00
                    0987   3121 	C$fb_lpc922.c$767$1$1 ==.
                           3122 ;	..\fb_lpc922.c:767: inc_pcount=0;
   0987 C2*0F              3123 	clr	_inc_pcount
                    0989   3124 	C$fb_lpc922.c$768$1$1 ==.
                           3125 ;	..\fb_lpc922.c:768: connected=0;	// keine Verbindung
   0989 C2*0E              3126 	clr	_connected
                    098B   3127 	C$fb_lpc922.c$769$1$1 ==.
                           3128 ;	..\fb_lpc922.c:769: transparency=0;	// fremde Gruppentelegramme werden ignoriert
   098B C2*0D              3129 	clr	_transparency
                    098D   3130 	C$fb_lpc922.c$770$1$1 ==.
                           3131 ;	..\fb_lpc922.c:770: init_rx();		// Empfang initialisieren
   098D 12s03r6C           3132 	lcall	_init_rx
                    0990   3133 	C$fb_lpc922.c$771$1$1 ==.
                    0990   3134 	XG$restart_hw$0$0 ==.
   0990 22                 3135 	ret
                           3136 	.area CSEG    (CODE)
                           3137 	.area CONST   (CODE)
                    1C00   3138 G$userram$0$0 == 0x1c00
                    1C00   3139 _userram	=	0x1c00
                    1D00   3140 G$eeprom$0$0 == 0x1d00
                    1D00   3141 _eeprom	=	0x1d00
                           3142 	.area XINIT   (CODE)
                           3143 	.area CABS    (ABS,CODE)
