                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 2.8.0 #5117 (Mar 23 2008) (MINGW32)
                              4 ; This file was generated Sun Aug 14 13:44:17 2011
                              5 ;--------------------------------------------------------
                              6 	.module fb_app_dim
                              7 	.optsdcc -mmcs51 --model-small
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _P3_1
                             13 	.globl _P3_0
                             14 	.globl _P1_7
                             15 	.globl _P1_6
                             16 	.globl _P1_5
                             17 	.globl _P1_4
                             18 	.globl _P1_3
                             19 	.globl _P1_2
                             20 	.globl _P1_1
                             21 	.globl _P1_0
                             22 	.globl _P0_7
                             23 	.globl _P0_6
                             24 	.globl _P0_5
                             25 	.globl _P0_4
                             26 	.globl _P0_3
                             27 	.globl _P0_2
                             28 	.globl _P0_1
                             29 	.globl _P0_0
                             30 	.globl _I2CON_0
                             31 	.globl _I2CON_2
                             32 	.globl _I2CON_3
                             33 	.globl _I2CON_4
                             34 	.globl _I2CON_5
                             35 	.globl _I2CON_6
                             36 	.globl _SCON_7
                             37 	.globl _SCON_6
                             38 	.globl _SCON_5
                             39 	.globl _SCON_4
                             40 	.globl _SCON_3
                             41 	.globl _SCON_2
                             42 	.globl _SCON_1
                             43 	.globl _SCON_0
                             44 	.globl _IP0_0
                             45 	.globl _IP0_1
                             46 	.globl _IP0_2
                             47 	.globl _IP0_3
                             48 	.globl _IP0_4
                             49 	.globl _IP0_5
                             50 	.globl _IP0_6
                             51 	.globl _IP1_0
                             52 	.globl _IP1_1
                             53 	.globl _IP1_2
                             54 	.globl _IP1_6
                             55 	.globl _IEN1_0
                             56 	.globl _IEN1_1
                             57 	.globl _IEN1_2
                             58 	.globl _IEN0_0
                             59 	.globl _IEN0_1
                             60 	.globl _IEN0_2
                             61 	.globl _IEN0_3
                             62 	.globl _IEN0_4
                             63 	.globl _IEN0_5
                             64 	.globl _IEN0_6
                             65 	.globl _IEN0_7
                             66 	.globl _TCON_0
                             67 	.globl _TCON_1
                             68 	.globl _TCON_2
                             69 	.globl _TCON_3
                             70 	.globl _TCON_4
                             71 	.globl _TCON_5
                             72 	.globl _TCON_6
                             73 	.globl _TCON_7
                             74 	.globl _PSW_7
                             75 	.globl _PSW_6
                             76 	.globl _PSW_5
                             77 	.globl _PSW_4
                             78 	.globl _PSW_3
                             79 	.globl _PSW_2
                             80 	.globl _PSW_1
                             81 	.globl _PSW_0
                             82 	.globl _IEN1
                             83 	.globl _IP0H
                             84 	.globl _WFEED2
                             85 	.globl _WFEED1
                             86 	.globl _WDL
                             87 	.globl _WDCON
                             88 	.globl _TRIM
                             89 	.globl _TAMOD
                             90 	.globl _SSTAT
                             91 	.globl _RTCL
                             92 	.globl _RTCH
                             93 	.globl _RTCCON
                             94 	.globl _RSTSRC
                             95 	.globl _PT0AD
                             96 	.globl _PCONA
                             97 	.globl _P3M2
                             98 	.globl _P3M1
                             99 	.globl _P1M2
                            100 	.globl _P1M1
                            101 	.globl _P0M2
                            102 	.globl _P0M1
                            103 	.globl _KBPATN
                            104 	.globl _KBMASK
                            105 	.globl _KBCON
                            106 	.globl _IP1H
                            107 	.globl _IP1
                            108 	.globl _I2STAT
                            109 	.globl _I2SCLL
                            110 	.globl _I2SCLH
                            111 	.globl _I2DAT
                            112 	.globl _I2CON
                            113 	.globl _I2ADR
                            114 	.globl _FMDATA
                            115 	.globl _FMCON
                            116 	.globl _FMADRL
                            117 	.globl _FMADRH
                            118 	.globl _DIVM
                            119 	.globl _CMP2
                            120 	.globl _CMP1
                            121 	.globl _BRGCON
                            122 	.globl _BRGR1
                            123 	.globl _BRGR0
                            124 	.globl _SADEN
                            125 	.globl _SADDR
                            126 	.globl _AUXR1
                            127 	.globl _SBUF
                            128 	.globl _SCON
                            129 	.globl _IP0
                            130 	.globl _IEN0
                            131 	.globl _TH1
                            132 	.globl _TH0
                            133 	.globl _TL1
                            134 	.globl _TL0
                            135 	.globl _TMOD
                            136 	.globl _TCON
                            137 	.globl _PCON
                            138 	.globl _DPH
                            139 	.globl _DPL
                            140 	.globl _SP
                            141 	.globl _B
                            142 	.globl _ACC
                            143 	.globl _PSW
                            144 	.globl _P3
                            145 	.globl _P1
                            146 	.globl _P0
                            147 	.globl _delay_toggle
                            148 	.globl _timer
                            149 	.globl _logicstate
                            150 	.globl _blocked
                            151 	.globl _zfstate
                            152 	.globl _portbuffer
                            153 	.globl _Tval
                            154 	.globl _send_value
                            155 	.globl _write_value_req
                            156 	.globl _write_obj_lz
                            157 	.globl _read_value_req
                            158 	.globl _respond
                            159 ;--------------------------------------------------------
                            160 ; special function registers
                            161 ;--------------------------------------------------------
                            162 	.area RSEG    (DATA)
                    0080    163 _P0	=	0x0080
                    0090    164 _P1	=	0x0090
                    00B0    165 _P3	=	0x00b0
                    00D0    166 _PSW	=	0x00d0
                    00E0    167 _ACC	=	0x00e0
                    00F0    168 _B	=	0x00f0
                    0081    169 _SP	=	0x0081
                    0082    170 _DPL	=	0x0082
                    0083    171 _DPH	=	0x0083
                    0087    172 _PCON	=	0x0087
                    0088    173 _TCON	=	0x0088
                    0089    174 _TMOD	=	0x0089
                    008A    175 _TL0	=	0x008a
                    008B    176 _TL1	=	0x008b
                    008C    177 _TH0	=	0x008c
                    008D    178 _TH1	=	0x008d
                    00A8    179 _IEN0	=	0x00a8
                    00B8    180 _IP0	=	0x00b8
                    0098    181 _SCON	=	0x0098
                    0099    182 _SBUF	=	0x0099
                    00A2    183 _AUXR1	=	0x00a2
                    00A9    184 _SADDR	=	0x00a9
                    00B9    185 _SADEN	=	0x00b9
                    00BE    186 _BRGR0	=	0x00be
                    00BF    187 _BRGR1	=	0x00bf
                    00BD    188 _BRGCON	=	0x00bd
                    00AC    189 _CMP1	=	0x00ac
                    00AD    190 _CMP2	=	0x00ad
                    0095    191 _DIVM	=	0x0095
                    00E7    192 _FMADRH	=	0x00e7
                    00E6    193 _FMADRL	=	0x00e6
                    00E4    194 _FMCON	=	0x00e4
                    00E5    195 _FMDATA	=	0x00e5
                    00DB    196 _I2ADR	=	0x00db
                    00D8    197 _I2CON	=	0x00d8
                    00DA    198 _I2DAT	=	0x00da
                    00DD    199 _I2SCLH	=	0x00dd
                    00DC    200 _I2SCLL	=	0x00dc
                    00D9    201 _I2STAT	=	0x00d9
                    00F8    202 _IP1	=	0x00f8
                    00F7    203 _IP1H	=	0x00f7
                    0094    204 _KBCON	=	0x0094
                    0086    205 _KBMASK	=	0x0086
                    0093    206 _KBPATN	=	0x0093
                    0084    207 _P0M1	=	0x0084
                    0085    208 _P0M2	=	0x0085
                    0091    209 _P1M1	=	0x0091
                    0092    210 _P1M2	=	0x0092
                    00B1    211 _P3M1	=	0x00b1
                    00B2    212 _P3M2	=	0x00b2
                    00B5    213 _PCONA	=	0x00b5
                    00F6    214 _PT0AD	=	0x00f6
                    00DF    215 _RSTSRC	=	0x00df
                    00D1    216 _RTCCON	=	0x00d1
                    00D2    217 _RTCH	=	0x00d2
                    00D3    218 _RTCL	=	0x00d3
                    00BA    219 _SSTAT	=	0x00ba
                    008F    220 _TAMOD	=	0x008f
                    0096    221 _TRIM	=	0x0096
                    00A7    222 _WDCON	=	0x00a7
                    00C1    223 _WDL	=	0x00c1
                    00C2    224 _WFEED1	=	0x00c2
                    00C3    225 _WFEED2	=	0x00c3
                    00B7    226 _IP0H	=	0x00b7
                    00E8    227 _IEN1	=	0x00e8
                            228 ;--------------------------------------------------------
                            229 ; special function bits
                            230 ;--------------------------------------------------------
                            231 	.area RSEG    (DATA)
                    00D0    232 _PSW_0	=	0x00d0
                    00D1    233 _PSW_1	=	0x00d1
                    00D2    234 _PSW_2	=	0x00d2
                    00D3    235 _PSW_3	=	0x00d3
                    00D4    236 _PSW_4	=	0x00d4
                    00D5    237 _PSW_5	=	0x00d5
                    00D6    238 _PSW_6	=	0x00d6
                    00D7    239 _PSW_7	=	0x00d7
                    008F    240 _TCON_7	=	0x008f
                    008E    241 _TCON_6	=	0x008e
                    008D    242 _TCON_5	=	0x008d
                    008C    243 _TCON_4	=	0x008c
                    008B    244 _TCON_3	=	0x008b
                    008A    245 _TCON_2	=	0x008a
                    0089    246 _TCON_1	=	0x0089
                    0088    247 _TCON_0	=	0x0088
                    00AF    248 _IEN0_7	=	0x00af
                    00AE    249 _IEN0_6	=	0x00ae
                    00AD    250 _IEN0_5	=	0x00ad
                    00AC    251 _IEN0_4	=	0x00ac
                    00AB    252 _IEN0_3	=	0x00ab
                    00AA    253 _IEN0_2	=	0x00aa
                    00A9    254 _IEN0_1	=	0x00a9
                    00A8    255 _IEN0_0	=	0x00a8
                    00EA    256 _IEN1_2	=	0x00ea
                    00E9    257 _IEN1_1	=	0x00e9
                    00E8    258 _IEN1_0	=	0x00e8
                    00FE    259 _IP1_6	=	0x00fe
                    00FA    260 _IP1_2	=	0x00fa
                    00F9    261 _IP1_1	=	0x00f9
                    00F8    262 _IP1_0	=	0x00f8
                    00BE    263 _IP0_6	=	0x00be
                    00BD    264 _IP0_5	=	0x00bd
                    00BC    265 _IP0_4	=	0x00bc
                    00BB    266 _IP0_3	=	0x00bb
                    00BA    267 _IP0_2	=	0x00ba
                    00B9    268 _IP0_1	=	0x00b9
                    00B8    269 _IP0_0	=	0x00b8
                    0098    270 _SCON_0	=	0x0098
                    0099    271 _SCON_1	=	0x0099
                    009A    272 _SCON_2	=	0x009a
                    009B    273 _SCON_3	=	0x009b
                    009C    274 _SCON_4	=	0x009c
                    009D    275 _SCON_5	=	0x009d
                    009E    276 _SCON_6	=	0x009e
                    009F    277 _SCON_7	=	0x009f
                    00DE    278 _I2CON_6	=	0x00de
                    00DD    279 _I2CON_5	=	0x00dd
                    00DC    280 _I2CON_4	=	0x00dc
                    00DB    281 _I2CON_3	=	0x00db
                    00DA    282 _I2CON_2	=	0x00da
                    00D8    283 _I2CON_0	=	0x00d8
                    0080    284 _P0_0	=	0x0080
                    0081    285 _P0_1	=	0x0081
                    0082    286 _P0_2	=	0x0082
                    0083    287 _P0_3	=	0x0083
                    0084    288 _P0_4	=	0x0084
                    0085    289 _P0_5	=	0x0085
                    0086    290 _P0_6	=	0x0086
                    0087    291 _P0_7	=	0x0087
                    0090    292 _P1_0	=	0x0090
                    0091    293 _P1_1	=	0x0091
                    0092    294 _P1_2	=	0x0092
                    0093    295 _P1_3	=	0x0093
                    0094    296 _P1_4	=	0x0094
                    0095    297 _P1_5	=	0x0095
                    0096    298 _P1_6	=	0x0096
                    0097    299 _P1_7	=	0x0097
                    00B0    300 _P3_0	=	0x00b0
                    00B1    301 _P3_1	=	0x00b1
                            302 ;--------------------------------------------------------
                            303 ; overlayable register banks
                            304 ;--------------------------------------------------------
                            305 	.area REG_BANK_0	(REL,OVR,DATA)
   0000                     306 	.ds 8
                            307 ;--------------------------------------------------------
                            308 ; overlayable bit register bank
                            309 ;--------------------------------------------------------
                            310 	.area BIT_BANK	(REL,OVR,DATA)
   0000                     311 bits:
   0000                     312 	.ds 1
                    8000    313 	b0 = bits[0]
                    8100    314 	b1 = bits[1]
                    8200    315 	b2 = bits[2]
                    8300    316 	b3 = bits[3]
                    8400    317 	b4 = bits[4]
                    8500    318 	b5 = bits[5]
                    8600    319 	b6 = bits[6]
                    8700    320 	b7 = bits[7]
                            321 ;--------------------------------------------------------
                            322 ; internal ram data
                            323 ;--------------------------------------------------------
                            324 	.area DSEG    (DATA)
   0000                     325 _Tval::
   0000                     326 	.ds 1
   0001                     327 _portbuffer::
   0001                     328 	.ds 1
   0002                     329 _zfstate::
   0002                     330 	.ds 1
   0003                     331 _blocked::
   0003                     332 	.ds 1
   0004                     333 _logicstate::
   0004                     334 	.ds 1
   0005                     335 _timer::
   0005                     336 	.ds 4
                            337 ;--------------------------------------------------------
                            338 ; overlayable items in internal ram 
                            339 ;--------------------------------------------------------
                            340 	.area OSEG    (OVR,DATA)
                            341 ;--------------------------------------------------------
                            342 ; indirectly addressable internal ram data
                            343 ;--------------------------------------------------------
                            344 	.area ISEG    (DATA)
                            345 ;--------------------------------------------------------
                            346 ; absolute internal ram data
                            347 ;--------------------------------------------------------
                            348 	.area IABS    (ABS,DATA)
                            349 	.area IABS    (ABS,DATA)
                            350 ;--------------------------------------------------------
                            351 ; bit data
                            352 ;--------------------------------------------------------
                            353 	.area BSEG    (BIT)
   0000                     354 _delay_toggle::
   0000                     355 	.ds 1
                            356 ;--------------------------------------------------------
                            357 ; paged external ram data
                            358 ;--------------------------------------------------------
                            359 	.area PSEG    (PAG,XDATA)
                            360 ;--------------------------------------------------------
                            361 ; external ram data
                            362 ;--------------------------------------------------------
                            363 	.area XSEG    (XDATA)
                            364 ;--------------------------------------------------------
                            365 ; absolute external ram data
                            366 ;--------------------------------------------------------
                            367 	.area XABS    (ABS,XDATA)
                            368 ;--------------------------------------------------------
                            369 ; external initialized ram data
                            370 ;--------------------------------------------------------
                            371 	.area XISEG   (XDATA)
                            372 	.area HOME    (CODE)
                            373 	.area GSINIT0 (CODE)
                            374 	.area GSINIT1 (CODE)
                            375 	.area GSINIT2 (CODE)
                            376 	.area GSINIT3 (CODE)
                            377 	.area GSINIT4 (CODE)
                            378 	.area GSINIT5 (CODE)
                            379 	.area GSINIT  (CODE)
                            380 	.area GSFINAL (CODE)
                            381 	.area CSEG    (CODE)
                            382 ;--------------------------------------------------------
                            383 ; global & static initialisations
                            384 ;--------------------------------------------------------
                            385 	.area HOME    (CODE)
                            386 	.area GSINIT  (CODE)
                            387 	.area GSFINAL (CODE)
                            388 	.area GSINIT  (CODE)
                            389 ;--------------------------------------------------------
                            390 ; Home
                            391 ;--------------------------------------------------------
                            392 	.area HOME    (CODE)
                            393 	.area HOME    (CODE)
                            394 ;--------------------------------------------------------
                            395 ; code
                            396 ;--------------------------------------------------------
                            397 	.area CSEG    (CODE)
                            398 ;------------------------------------------------------------
                            399 ;Allocation info for local variables in function 'send_value'
                            400 ;------------------------------------------------------------
                            401 ;objno                     Allocated to stack - offset -3
                            402 ;sval                      Allocated to stack - offset -5
                            403 ;type                      Allocated to registers r2 
                            404 ;ga                        Allocated to registers r3 r4 
                            405 ;objtype                   Allocated to registers r2 
                            406 ;------------------------------------------------------------
                            407 ;	../fb_app_dim.c:38: void send_value(unsigned char type, unsigned char objno, int sval)      // sucht Gruppenadresse für das Objekt objno uns sendet ein EIS Telegramm
                            408 ;	-----------------------------------------
                            409 ;	 function send_value
                            410 ;	-----------------------------------------
   0000                     411 _send_value:
                    0002    412 	ar2 = 0x02
                    0003    413 	ar3 = 0x03
                    0004    414 	ar4 = 0x04
                    0005    415 	ar5 = 0x05
                    0006    416 	ar6 = 0x06
                    0007    417 	ar7 = 0x07
                    0000    418 	ar0 = 0x00
                    0001    419 	ar1 = 0x01
   0000 C0*00               420 	push	_bp
   0002 85 81*00            421 	mov	_bp,sp
   0005 AA 82               422 	mov	r2,dpl
                            423 ;	../fb_app_dim.c:43: ga=find_ga(objno);                            // wenn keine Gruppenadresse hintrlegt nix tun
   0007 A8*00               424 	mov	r0,_bp
   0009 18                  425 	dec	r0
   000A 18                  426 	dec	r0
   000B 18                  427 	dec	r0
   000C 86 82               428 	mov	dpl,@r0
   000E C0 02               429 	push	ar2
   0010 12s00r00            430 	lcall	_find_ga
   0013 AB 82               431 	mov	r3,dpl
   0015 AC 83               432 	mov	r4,dph
   0017 D0 02               433 	pop	ar2
                            434 ;	../fb_app_dim.c:44: if (ga!=0)
   0019 EB                  435 	mov	a,r3
   001A 4C                  436 	orl	a,r4
   001B 70 03               437 	jnz	00121$
   001D 02s00r9F            438 	ljmp	00113$
   0020                     439 00121$:
                            440 ;	../fb_app_dim.c:46: telegramm[0]=0xBC;
   0020 75*00 BC            441 	mov	_telegramm,#0xBC
                            442 ;	../fb_app_dim.c:47: telegramm[1]=eeprom[ADDRTAB+1];
   0023 90s00r17            443 	mov	dptr,#(_eeprom + 0x0017)
   0026 E4                  444 	clr	a
   0027 93                  445 	movc	a,@a+dptr
   0028 FD                  446 	mov	r5,a
   0029 8D*01               447 	mov	(_telegramm + 0x0001),r5
                            448 ;	../fb_app_dim.c:48: telegramm[2]=eeprom[ADDRTAB+2];
   002B 90s00r18            449 	mov	dptr,#(_eeprom + 0x0018)
   002E E4                  450 	clr	a
   002F 93                  451 	movc	a,@a+dptr
   0030 FD                  452 	mov	r5,a
   0031 8D*02               453 	mov	(_telegramm + 0x0002),r5
                            454 ;	../fb_app_dim.c:49: telegramm[3]=ga>>8;
   0033 8C 05               455 	mov	ar5,r4
   0035 8D*03               456 	mov	(_telegramm + 0x0003),r5
                            457 ;	../fb_app_dim.c:50: telegramm[4]=ga;
   0037 8B*04               458 	mov	(_telegramm + 0x0004),r3
                            459 ;	../fb_app_dim.c:51: telegramm[6]=0x00;
   0039 75*06 00            460 	mov	(_telegramm + 0x0006),#0x00
                            461 ;	../fb_app_dim.c:52: if (type==0) telegramm[7]=0x40;             // read_value_response Telegramm (angefordert)
   003C EA                  462 	mov	a,r2
   003D 70 05               463 	jnz	00102$
   003F 75*07 40            464 	mov	(_telegramm + 0x0007),#0x40
   0042 80 03               465 	sjmp	00103$
   0044                     466 00102$:
                            467 ;	../fb_app_dim.c:53: else telegramm[7]=0x80;                     // write_value_request Telegramm (nicht angefordert)
   0044 75*07 80            468 	mov	(_telegramm + 0x0007),#0x80
   0047                     469 00103$:
                            470 ;	../fb_app_dim.c:55: objtype=read_obj_type(objno);
   0047 A8*00               471 	mov	r0,_bp
   0049 18                  472 	dec	r0
   004A 18                  473 	dec	r0
   004B 18                  474 	dec	r0
   004C 86 82               475 	mov	dpl,@r0
   004E 12s00r00            476 	lcall	_read_obj_type
   0051 AA 82               477 	mov	r2,dpl
                            478 ;	../fb_app_dim.c:57: if(objtype<6) {                             // Objekttyp, 1-6 Bit
   0053 BA 06 00            479 	cjne	r2,#0x06,00123$
   0056                     480 00123$:
   0056 E4                  481 	clr	a
   0057 33                  482 	rlc	a
   0058 FB                  483 	mov	r3,a
   0059 60 0E               484 	jz	00105$
                            485 ;	../fb_app_dim.c:58: telegramm[5]=0xE1;
   005B 75*05 E1            486 	mov	(_telegramm + 0x0005),#0xE1
                            487 ;	../fb_app_dim.c:59: telegramm[7]+=sval;
   005E E5*00               488 	mov	a,_bp
   0060 24 FB               489 	add	a,#0xfb
   0062 F8                  490 	mov	r0,a
   0063 E6                  491 	mov	a,@r0
   0064 FC                  492 	mov	r4,a
   0065 25*07               493 	add	a,(_telegramm + 0x0007)
   0067 F5*07               494 	mov	(_telegramm + 0x0007),a
   0069                     495 00105$:
                            496 ;	../fb_app_dim.c:62: if(objtype>=6 && objtype<=7) {              // Objekttyp, 7-8 Bit
   0069 EB                  497 	mov	a,r3
   006A 70 11               498 	jnz	00107$
   006C EA                  499 	mov	a,r2
   006D 24 F8               500 	add	a,#0xff - 0x07
   006F 40 0C               501 	jc	00107$
                            502 ;	../fb_app_dim.c:63: telegramm[5]=0xE2;
   0071 75*05 E2            503 	mov	(_telegramm + 0x0005),#0xE2
                            504 ;	../fb_app_dim.c:64: telegramm[8]=sval;
   0074 E5*00               505 	mov	a,_bp
   0076 24 FB               506 	add	a,#0xfb
   0078 F8                  507 	mov	r0,a
   0079 86 03               508 	mov	ar3,@r0
   007B 8B*08               509 	mov	(_telegramm + 0x0008),r3
   007D                     510 00107$:
                            511 ;	../fb_app_dim.c:67: if(objtype==8) {                           // Objekttyp, 16 Bit
   007D BA 08 16            512 	cjne	r2,#0x08,00110$
                            513 ;	../fb_app_dim.c:68: telegramm[5]=0xE3;
   0080 75*05 E3            514 	mov	(_telegramm + 0x0005),#0xE3
                            515 ;	../fb_app_dim.c:69: telegramm[8]=sval>>8;
   0083 E5*00               516 	mov	a,_bp
   0085 24 FB               517 	add	a,#0xfb
   0087 F8                  518 	mov	r0,a
   0088 08                  519 	inc	r0
   0089 86 02               520 	mov	ar2,@r0
   008B 8A*08               521 	mov	(_telegramm + 0x0008),r2
                            522 ;	../fb_app_dim.c:70: telegramm[9]=sval;
   008D E5*00               523 	mov	a,_bp
   008F 24 FB               524 	add	a,#0xfb
   0091 F8                  525 	mov	r0,a
   0092 86 02               526 	mov	ar2,@r0
   0094 8A*09               527 	mov	(_telegramm + 0x0009),r2
   0096                     528 00110$:
                            529 ;	../fb_app_dim.c:73: EX1=0;
   0096 C2 AA               530 	clr	_IEN0_2
                            531 ;	../fb_app_dim.c:74: send_telegramm();
   0098 12s00r00            532 	lcall	_send_telegramm
                            533 ;	../fb_app_dim.c:75: IE1=0;
   009B C2 8B               534 	clr	_TCON_3
                            535 ;	../fb_app_dim.c:76: EX1=1;
   009D D2 AA               536 	setb	_IEN0_2
   009F                     537 00113$:
   009F D0*00               538 	pop	_bp
   00A1 22                  539 	ret
                            540 ;------------------------------------------------------------
                            541 ;Allocation info for local variables in function 'write_value_req'
                            542 ;------------------------------------------------------------
                            543 ;c                         Allocated to stack - offset 1
                            544 ;objno                     Allocated to registers r3 
                            545 ;gapos                     Allocated to stack - offset 2
                            546 ;atp                       Allocated to registers r3 
                            547 ;assno                     Allocated to stack - offset 3
                            548 ;n                         Allocated to stack - offset 4
                            549 ;gaposh                    Allocated to registers r6 
                            550 ;datal                     Allocated to registers r5 
                            551 ;b_send                    Allocated to registers b0 
                            552 ;dataw                     Allocated to stack - offset 5
                            553 ;sperr                     Allocated to registers r2 
                            554 ;commObjectNumber          Allocated to stack - offset 6
                            555 ;sloc0                     Allocated to stack - offset 7
                            556 ;sloc1                     Allocated to stack - offset 8
                            557 ;sloc2                     Allocated to stack - offset 9
                            558 ;sloc3                     Allocated to stack - offset 17
                            559 ;sloc4                     Allocated to stack - offset 11
                            560 ;------------------------------------------------------------
                            561 ;	../fb_app_dim.c:84: void write_value_req(void)				// Ausgänge schalten gemäß EIS 1 Protokoll (an/aus)
                            562 ;	-----------------------------------------
                            563 ;	 function write_value_req
                            564 ;	-----------------------------------------
   00A2                     565 _write_value_req:
   00A2 C0*00               566 	push	_bp
   00A4 E5 81               567 	mov	a,sp
   00A6 F5*00               568 	mov	_bp,a
   00A8 24 0B               569 	add	a,#0x0b
   00AA F5 81               570 	mov	sp,a
                            571 ;	../fb_app_dim.c:87: bit b_send=0;//wert setzen und rueckmelden
   00AC C2*00               572 	clr	b0
                            573 ;	../fb_app_dim.c:92: gapos=gapos_in_gat(telegramm[3],telegramm[4]);	// Position der Gruppenadresse in der Adresstabelle
   00AE 85*03 82            574 	mov	dpl,(_telegramm + 0x0003)
   00B1 C0*00               575 	push	bits
   00B3 C0*04               576 	push	(_telegramm + 0x0004)
   00B5 12s00r00            577 	lcall	_gapos_in_gat
   00B8 AA 82               578 	mov	r2,dpl
   00BA 15 81               579 	dec	sp
   00BC D0*00               580 	pop	bits
   00BE A8*00               581 	mov	r0,_bp
   00C0 08                  582 	inc	r0
   00C1 08                  583 	inc	r0
   00C2 A6 02               584 	mov	@r0,ar2
                            585 ;	../fb_app_dim.c:94: if (gapos!=0xFF)					// =0xFF falls nicht vorhanden
   00C4 A8*00               586 	mov	r0,_bp
   00C6 08                  587 	inc	r0
   00C7 08                  588 	inc	r0
   00C8 B6 FF 03            589 	cjne	@r0,#0xFF,00192$
   00CB 02s05rAE            590 	ljmp	00154$
   00CE                     591 00192$:
                            592 ;	../fb_app_dim.c:96: send_ack();
   00CE C0*00               593 	push	bits
   00D0 12s00r00            594 	lcall	_send_ack
   00D3 D0*00               595 	pop	bits
                            596 ;	../fb_app_dim.c:97: rs_send_s("\nwr_val_rq ");
   00D5 90s00r00            597 	mov	dptr,#__str_0
   00D8 75 F0 80            598 	mov	b,#0x80
   00DB C0*00               599 	push	bits
   00DD 12s00r00            600 	lcall	_rs_send_s
   00E0 D0*00               601 	pop	bits
                            602 ;	../fb_app_dim.c:98: atp=eeprom[ASSOCTABPTR];			// Start Association Table
   00E2 90s00r11            603 	mov	dptr,#(_eeprom + 0x0011)
   00E5 E4                  604 	clr	a
   00E6 93                  605 	movc	a,@a+dptr
                            606 ;	../fb_app_dim.c:99: assno=eeprom[atp];			// Erster Eintrag = Anzahl Einträge
   00E7 FB                  607 	mov	r3,a
   00E8 F5 82               608 	mov	dpl,a
   00EA 75 83s00            609 	mov	dph,#(_eeprom >> 8)
   00ED E4                  610 	clr	a
   00EE 93                  611 	movc	a,@a+dptr
   00EF FC                  612 	mov	r4,a
   00F0 A8*00               613 	mov	r0,_bp
   00F2 08                  614 	inc	r0
   00F3 08                  615 	inc	r0
   00F4 08                  616 	inc	r0
   00F5 A6 04               617 	mov	@r0,ar4
                            618 ;	../fb_app_dim.c:100: datal=telegramm[8];                       //wert sichern nach respond ist er anders
   00F7 AD*08               619 	mov	r5,(_telegramm + 0x0008)
                            620 ;	../fb_app_dim.c:102: for(n=0;n<assno;n++)			// Schleife über alle Einträge in der Ass-Table, denn es könnten mehrere Objekte (Pins) der gleichen Gruppenadresse zugeordnet sein
   00F9 74 02               621 	mov	a,#0x02
   00FB 2B                  622 	add	a,r3
   00FC FE                  623 	mov	r6,a
   00FD 74 80               624 	mov	a,#0x80
   00FF 5D                  625 	anl	a,r5
   0100 FF                  626 	mov	r7,a
   0101 E4                  627 	clr	a
   0102 BF 80 01            628 	cjne	r7,#0x80,00193$
   0105 04                  629 	inc	a
   0106                     630 00193$:
   0106 FF                  631 	mov	r7,a
   0107 74 7F               632 	mov	a,#0x7F
   0109 5D                  633 	anl	a,r5
   010A 24 E7               634 	add	a,#0xE7
   010C FD                  635 	mov	r5,a
   010D E5*00               636 	mov	a,_bp
   010F 24 07               637 	add	a,#0x07
   0111 F8                  638 	mov	r0,a
   0112 A6 05               639 	mov	@r0,ar5
   0114 E5*00               640 	mov	a,_bp
   0116 24 0B               641 	add	a,#0x0b
   0118 F8                  642 	mov	r0,a
   0119 EB                  643 	mov	a,r3
   011A 04                  644 	inc	a
   011B F6                  645 	mov	@r0,a
   011C E5*00               646 	mov	a,_bp
   011E 24 04               647 	add	a,#0x04
   0120 F8                  648 	mov	r0,a
   0121 76 00               649 	mov	@r0,#0x00
   0123                     650 00150$:
   0123 E5*00               651 	mov	a,_bp
   0125 24 04               652 	add	a,#0x04
   0127 F8                  653 	mov	r0,a
   0128 A9*00               654 	mov	r1,_bp
   012A 09                  655 	inc	r1
   012B 09                  656 	inc	r1
   012C 09                  657 	inc	r1
   012D C3                  658 	clr	c
   012E E6                  659 	mov	a,@r0
   012F 97                  660 	subb	a,@r1
   0130 40 03               661 	jc	00195$
   0132 02s05rAE            662 	ljmp	00154$
   0135                     663 00195$:
                            664 ;	../fb_app_dim.c:104: gaposh=eeprom[atp+1+(n*2)];
   0135 C0 06               665 	push	ar6
   0137 E5*00               666 	mov	a,_bp
   0139 24 04               667 	add	a,#0x04
   013B F8                  668 	mov	r0,a
   013C E6                  669 	mov	a,@r0
   013D 25 E0               670 	add	a,acc
   013F FA                  671 	mov	r2,a
   0140 E5*00               672 	mov	a,_bp
   0142 24 0B               673 	add	a,#0x0b
   0144 F8                  674 	mov	r0,a
   0145 EA                  675 	mov	a,r2
   0146 26                  676 	add	a,@r0
   0147 90s00r00            677 	mov	dptr,#_eeprom
   014A 93                  678 	movc	a,@a+dptr
   014B FE                  679 	mov	r6,a
                            680 ;	../fb_app_dim.c:105: if(gapos==gaposh)			// Wenn Positionsnummer übereinstimmt
   014C A8*00               681 	mov	r0,_bp
   014E 08                  682 	inc	r0
   014F 08                  683 	inc	r0
   0150 E6                  684 	mov	a,@r0
   0151 B5 06 04            685 	cjne	a,ar6,00196$
   0154 74 01               686 	mov	a,#0x01
   0156 80 01               687 	sjmp	00197$
   0158                     688 00196$:
   0158 E4                  689 	clr	a
   0159                     690 00197$:
   0159 D0 06               691 	pop	ar6
   015B 70 03               692 	jnz	00198$
   015D 02s05rA5            693 	ljmp	00152$
   0160                     694 00198$:
                            695 ;	../fb_app_dim.c:107: objno=eeprom[atp+2+(n*2)];		// Objektnummer
   0160 EA                  696 	mov	a,r2
   0161 2E                  697 	add	a,r6
   0162 90s00r00            698 	mov	dptr,#_eeprom
   0165 93                  699 	movc	a,@a+dptr
   0166 FB                  700 	mov	r3,a
                            701 ;	../fb_app_dim.c:108: commObjectNumber=objno;
   0167 E5*00               702 	mov	a,_bp
   0169 24 06               703 	add	a,#0x06
   016B F8                  704 	mov	r0,a
   016C A6 03               705 	mov	@r0,ar3
                            706 ;	../fb_app_dim.c:109: dataw=telegramm[7]&0x3f;
   016E E5*00               707 	mov	a,_bp
   0170 24 05               708 	add	a,#0x05
   0172 F8                  709 	mov	r0,a
   0173 74 3F               710 	mov	a,#0x3F
   0175 55*07               711 	anl	a,(_telegramm + 0x0007)
   0177 F6                  712 	mov	@r0,a
                            713 ;	../fb_app_dim.c:111: rs_send_s(" ");
   0178 90s00r0C            714 	mov	dptr,#__str_1
   017B 75 F0 80            715 	mov	b,#0x80
   017E C0 03               716 	push	ar3
   0180 C0 05               717 	push	ar5
   0182 C0 06               718 	push	ar6
   0184 C0 07               719 	push	ar7
   0186 C0*00               720 	push	bits
   0188 12s00r00            721 	lcall	_rs_send_s
   018B D0*00               722 	pop	bits
   018D D0 07               723 	pop	ar7
   018F D0 06               724 	pop	ar6
   0191 D0 05               725 	pop	ar5
   0193 D0 03               726 	pop	ar3
                            727 ;	../fb_app_dim.c:112: rs_send_hex(objno);
   0195 8B 82               728 	mov	dpl,r3
   0197 C0 05               729 	push	ar5
   0199 C0 06               730 	push	ar6
   019B C0 07               731 	push	ar7
   019D C0*00               732 	push	bits
   019F 12s00r00            733 	lcall	_rs_send_hex
   01A2 D0*00               734 	pop	bits
                            735 ;	../fb_app_dim.c:113: rs_send_s(" ");
   01A4 90s00r0C            736 	mov	dptr,#__str_1
   01A7 75 F0 80            737 	mov	b,#0x80
   01AA C0*00               738 	push	bits
   01AC 12s00r00            739 	lcall	_rs_send_s
   01AF D0*00               740 	pop	bits
                            741 ;	../fb_app_dim.c:114: rs_send_hex(dataw);
   01B1 E5*00               742 	mov	a,_bp
   01B3 24 05               743 	add	a,#0x05
   01B5 F8                  744 	mov	r0,a
   01B6 86 82               745 	mov	dpl,@r0
   01B8 C0*00               746 	push	bits
   01BA 12s00r00            747 	lcall	_rs_send_hex
   01BD D0*00               748 	pop	bits
   01BF D0 07               749 	pop	ar7
   01C1 D0 06               750 	pop	ar6
   01C3 D0 05               751 	pop	ar5
                            752 ;	../fb_app_dim.c:102: for(n=0;n<assno;n++)			// Schleife über alle Einträge in der Ass-Table, denn es könnten mehrere Objekte (Pins) der gleichen Gruppenadresse zugeordnet sein
                            753 ;	../fb_app_dim.c:115: for(c=0;c<2;c++)
   01C5 E5*00               754 	mov	a,_bp
   01C7 24 05               755 	add	a,#0x05
   01C9 F8                  756 	mov	r0,a
   01CA E5*00               757 	mov	a,_bp
   01CC 24 08               758 	add	a,#0x08
   01CE F9                  759 	mov	r1,a
   01CF E4                  760 	clr	a
   01D0 B6 01 01            761 	cjne	@r0,#0x01,00199$
   01D3 04                  762 	inc	a
   01D4                     763 00199$:
   01D4 F7                  764 	mov	@r1,a
   01D5 A8*00               765 	mov	r0,_bp
   01D7 08                  766 	inc	r0
   01D8 76 00               767 	mov	@r0,#0x00
   01DA                     768 00146$:
   01DA A8*00               769 	mov	r0,_bp
   01DC 08                  770 	inc	r0
   01DD B6 02 00            771 	cjne	@r0,#0x02,00201$
   01E0                     772 00201$:
   01E0 40 03               773 	jc	00202$
   01E2 02s05rA5            774 	ljmp	00152$
   01E5                     775 00202$:
                            776 ;	../fb_app_dim.c:118: if(dataw==0&&commObjectNumber==c && sperren[c]==0) //schaltobjekt  aus,
   01E5 E5*00               777 	mov	a,_bp
   01E7 24 05               778 	add	a,#0x05
   01E9 F8                  779 	mov	r0,a
   01EA E6                  780 	mov	a,@r0
   01EB 70 23               781 	jnz	00102$
   01ED E5*00               782 	mov	a,_bp
   01EF 24 06               783 	add	a,#0x06
   01F1 F8                  784 	mov	r0,a
   01F2 A9*00               785 	mov	r1,_bp
   01F4 09                  786 	inc	r1
   01F5 86 F0               787 	mov	b,@r0
   01F7 E7                  788 	mov	a,@r1
   01F8 B5 F0 15            789 	cjne	a,b,00102$
   01FB A9*00               790 	mov	r1,_bp
   01FD 09                  791 	inc	r1
   01FE E7                  792 	mov	a,@r1
   01FF 24r00               793 	add	a,#_sperren
   0201 F8                  794 	mov	r0,a
   0202 E6                  795 	mov	a,@r0
   0203 70 0B               796 	jnz	00102$
                            797 ;	../fb_app_dim.c:120: dimmwert[c]=0;
   0205 A8*00               798 	mov	r0,_bp
   0207 08                  799 	inc	r0
   0208 E6                  800 	mov	a,@r0
   0209 24r00               801 	add	a,#_dimmwert
   020B F8                  802 	mov	r0,a
   020C 76 00               803 	mov	@r0,#0x00
                            804 ;	../fb_app_dim.c:121: b_send=1;
   020E D2*00               805 	setb	b0
   0210                     806 00102$:
                            807 ;	../fb_app_dim.c:123: if(dataw==1&&commObjectNumber==c && sperren[c]==0) //schaltobjekt  EIN
   0210 E5*00               808 	mov	a,_bp
   0212 24 08               809 	add	a,#0x08
   0214 F8                  810 	mov	r0,a
   0215 E6                  811 	mov	a,@r0
   0216 60 50               812 	jz	00106$
   0218 E5*00               813 	mov	a,_bp
   021A 24 06               814 	add	a,#0x06
   021C F8                  815 	mov	r0,a
   021D A9*00               816 	mov	r1,_bp
   021F 09                  817 	inc	r1
   0220 86 F0               818 	mov	b,@r0
   0222 E7                  819 	mov	a,@r1
   0223 B5 F0 42            820 	cjne	a,b,00106$
   0226 A9*00               821 	mov	r1,_bp
   0228 09                  822 	inc	r1
   0229 E7                  823 	mov	a,@r1
   022A 24r00               824 	add	a,#_sperren
   022C F8                  825 	mov	r0,a
   022D E6                  826 	mov	a,@r0
   022E 70 38               827 	jnz	00106$
                            828 ;	../fb_app_dim.c:125: dimmwert[c]=helligkeittsstufe(einschathellikeit[c]-1,c);
   0230 C0 06               829 	push	ar6
   0232 A9*00               830 	mov	r1,_bp
   0234 09                  831 	inc	r1
   0235 E7                  832 	mov	a,@r1
   0236 24r00               833 	add	a,#_dimmwert
   0238 F8                  834 	mov	r0,a
   0239 C0 00               835 	push	ar0
   023B A8*00               836 	mov	r0,_bp
   023D 08                  837 	inc	r0
   023E E6                  838 	mov	a,@r0
   023F 24r00               839 	add	a,#_einschathellikeit
   0241 F9                  840 	mov	r1,a
   0242 D0 00               841 	pop	ar0
   0244 87 06               842 	mov	ar6,@r1
   0246 1E                  843 	dec	r6
   0247 C0 05               844 	push	ar5
   0249 C0 07               845 	push	ar7
   024B C0 00               846 	push	ar0
   024D A9*00               847 	mov	r1,_bp
   024F 09                  848 	inc	r1
   0250 E7                  849 	mov	a,@r1
   0251 C0 E0               850 	push	acc
   0253 8E 82               851 	mov	dpl,r6
   0255 12s00r00            852 	lcall	_helligkeittsstufe
   0258 AE 82               853 	mov	r6,dpl
   025A 15 81               854 	dec	sp
   025C D0 00               855 	pop	ar0
   025E D0 07               856 	pop	ar7
   0260 D0 05               857 	pop	ar5
   0262 A6 06               858 	mov	@r0,ar6
                            859 ;	../fb_app_dim.c:126: b_send=1;
   0264 D2*00               860 	setb	b0
                            861 ;	../fb_app_dim.c:102: for(n=0;n<assno;n++)			// Schleife über alle Einträge in der Ass-Table, denn es könnten mehrere Objekte (Pins) der gleichen Gruppenadresse zugeordnet sein
   0266 D0 06               862 	pop	ar6
                            863 ;	../fb_app_dim.c:126: b_send=1;
   0268                     864 00106$:
                            865 ;	../fb_app_dim.c:128: if(commObjectNumber==c+2 && sperren[c]==0)         //Dimmobjekt
   0268 C0 06               866 	push	ar6
   026A A8*00               867 	mov	r0,_bp
   026C 08                  868 	inc	r0
   026D 86 06               869 	mov	ar6,@r0
   026F 7C 00               870 	mov	r4,#0x00
   0271 74 02               871 	mov	a,#0x02
   0273 2E                  872 	add	a,r6
   0274 FE                  873 	mov	r6,a
   0275 E4                  874 	clr	a
   0276 3C                  875 	addc	a,r4
   0277 FC                  876 	mov	r4,a
   0278 E5*00               877 	mov	a,_bp
   027A 24 06               878 	add	a,#0x06
   027C F8                  879 	mov	r0,a
   027D E5*00               880 	mov	a,_bp
   027F 24 09               881 	add	a,#0x09
   0281 F9                  882 	mov	r1,a
   0282 E6                  883 	mov	a,@r0
   0283 F7                  884 	mov	@r1,a
   0284 09                  885 	inc	r1
   0285 77 00               886 	mov	@r1,#0x00
   0287 E5*00               887 	mov	a,_bp
   0289 24 09               888 	add	a,#0x09
   028B F8                  889 	mov	r0,a
   028C E6                  890 	mov	a,@r0
   028D B5 06 09            891 	cjne	a,ar6,00211$
   0290 08                  892 	inc	r0
   0291 E6                  893 	mov	a,@r0
   0292 B5 04 04            894 	cjne	a,ar4,00211$
   0295 74 01               895 	mov	a,#0x01
   0297 80 01               896 	sjmp	00212$
   0299                     897 00211$:
   0299 E4                  898 	clr	a
   029A                     899 00212$:
   029A D0 06               900 	pop	ar6
   029C 60 22               901 	jz	00112$
   029E A9*00               902 	mov	r1,_bp
   02A0 09                  903 	inc	r1
   02A1 E7                  904 	mov	a,@r1
   02A2 24r00               905 	add	a,#_sperren
   02A4 F8                  906 	mov	r0,a
   02A5 E6                  907 	mov	a,@r0
   02A6 70 18               908 	jnz	00112$
                            909 ;	../fb_app_dim.c:130: dimm_helldunkel[c]=dataw;
   02A8 A8*00               910 	mov	r0,_bp
   02AA 08                  911 	inc	r0
   02AB E6                  912 	mov	a,@r0
   02AC 24r00               913 	add	a,#_dimm_helldunkel
   02AE F8                  914 	mov	r0,a
   02AF E5*00               915 	mov	a,_bp
   02B1 24 05               916 	add	a,#0x05
   02B3 F9                  917 	mov	r1,a
   02B4 E7                  918 	mov	a,@r1
   02B5 F6                  919 	mov	@r0,a
                            920 ;	../fb_app_dim.c:131: if(dataw==0) //nur senden beim aulassen der taste
   02B6 E5*00               921 	mov	a,_bp
   02B8 24 05               922 	add	a,#0x05
   02BA F8                  923 	mov	r0,a
   02BB E6                  924 	mov	a,@r0
   02BC 70 02               925 	jnz	00112$
                            926 ;	../fb_app_dim.c:132: b_send=1;
   02BE D2*00               927 	setb	b0
   02C0                     928 00112$:
                            929 ;	../fb_app_dim.c:134: if(commObjectNumber==c+4 && sperren[c]==0)         //Wertobjekt
   02C0 C0 06               930 	push	ar6
   02C2 A8*00               931 	mov	r0,_bp
   02C4 08                  932 	inc	r0
   02C5 86 04               933 	mov	ar4,@r0
   02C7 7E 00               934 	mov	r6,#0x00
   02C9 74 04               935 	mov	a,#0x04
   02CB 2C                  936 	add	a,r4
   02CC FC                  937 	mov	r4,a
   02CD E4                  938 	clr	a
   02CE 3E                  939 	addc	a,r6
   02CF FE                  940 	mov	r6,a
   02D0 E5*00               941 	mov	a,_bp
   02D2 24 09               942 	add	a,#0x09
   02D4 F8                  943 	mov	r0,a
   02D5 E6                  944 	mov	a,@r0
   02D6 B5 04 09            945 	cjne	a,ar4,00216$
   02D9 08                  946 	inc	r0
   02DA E6                  947 	mov	a,@r0
   02DB B5 06 04            948 	cjne	a,ar6,00216$
   02DE 74 01               949 	mov	a,#0x01
   02E0 80 01               950 	sjmp	00217$
   02E2                     951 00216$:
   02E2 E4                  952 	clr	a
   02E3                     953 00217$:
   02E3 D0 06               954 	pop	ar6
   02E5 60 17               955 	jz	00115$
   02E7 A9*00               956 	mov	r1,_bp
   02E9 09                  957 	inc	r1
   02EA E7                  958 	mov	a,@r1
   02EB 24r00               959 	add	a,#_sperren
   02ED F8                  960 	mov	r0,a
   02EE E6                  961 	mov	a,@r0
   02EF 70 0D               962 	jnz	00115$
                            963 ;	../fb_app_dim.c:136: dimmwert[c]=telegramm[8];
   02F1 A9*00               964 	mov	r1,_bp
   02F3 09                  965 	inc	r1
   02F4 E7                  966 	mov	a,@r1
   02F5 24r00               967 	add	a,#_dimmwert
   02F7 F8                  968 	mov	r0,a
   02F8 AC*08               969 	mov	r4,(_telegramm + 0x0008)
   02FA A6 04               970 	mov	@r0,ar4
                            971 ;	../fb_app_dim.c:137: b_send=1;
   02FC D2*00               972 	setb	b0
   02FE                     973 00115$:
                            974 ;	../fb_app_dim.c:139: if(commObjectNumber==c+0x0c && sperren[c]==0)      //Lichtzene
   02FE C0 06               975 	push	ar6
   0300 A8*00               976 	mov	r0,_bp
   0302 08                  977 	inc	r0
   0303 86 03               978 	mov	ar3,@r0
   0305 7A 00               979 	mov	r2,#0x00
   0307 74 0C               980 	mov	a,#0x0C
   0309 2B                  981 	add	a,r3
   030A FC                  982 	mov	r4,a
   030B E4                  983 	clr	a
   030C 3A                  984 	addc	a,r2
   030D FE                  985 	mov	r6,a
   030E E5*00               986 	mov	a,_bp
   0310 24 09               987 	add	a,#0x09
   0312 F8                  988 	mov	r0,a
   0313 E6                  989 	mov	a,@r0
   0314 B5 04 09            990 	cjne	a,ar4,00220$
   0317 08                  991 	inc	r0
   0318 E6                  992 	mov	a,@r0
   0319 B5 06 04            993 	cjne	a,ar6,00220$
   031C 74 01               994 	mov	a,#0x01
   031E 80 01               995 	sjmp	00221$
   0320                     996 00220$:
   0320 E4                  997 	clr	a
   0321                     998 00221$:
   0321 D0 06               999 	pop	ar6
   0323 70 03              1000 	jnz	00222$
   0325 02s03rB9           1001 	ljmp	00123$
   0328                    1002 00222$:
   0328 A9*00              1003 	mov	r1,_bp
   032A 09                 1004 	inc	r1
   032B E7                 1005 	mov	a,@r1
   032C 24r00              1006 	add	a,#_sperren
   032E F8                 1007 	mov	r0,a
   032F E6                 1008 	mov	a,@r0
   0330 60 03              1009 	jz	00223$
   0332 02s03rB9           1010 	ljmp	00123$
   0335                    1011 00223$:
                           1012 ;	../fb_app_dim.c:141: if((datal&0x80)==0x80)        //Lichtzenen Speichern mit 0x8n n=szenennummer
   0335 EF                 1013 	mov	a,r7
   0336 60 62              1014 	jz	00120$
                           1015 ;	../fb_app_dim.c:143: if(eeprom[0xe3]&(1<<(4+c))!=0)// speichern nur wenn erlaubt
   0338 C0 06              1016 	push	ar6
   033A 90s00rE3           1017 	mov	dptr,#(_eeprom + 0x00e3)
   033D E4                 1018 	clr	a
   033E 93                 1019 	movc	a,@a+dptr
   033F FC                 1020 	mov	r4,a
   0340 74 04              1021 	mov	a,#0x04
   0342 2B                 1022 	add	a,r3
   0343 FE                 1023 	mov	r6,a
   0344 E4                 1024 	clr	a
   0345 3A                 1025 	addc	a,r2
   0346 8E F0              1026 	mov	b,r6
   0348 05 F0              1027 	inc	b
   034A 7E 01              1028 	mov	r6,#0x01
   034C 7A 00              1029 	mov	r2,#0x00
   034E 80 06              1030 	sjmp	00226$
   0350                    1031 00225$:
   0350 EE                 1032 	mov	a,r6
   0351 2E                 1033 	add	a,r6
   0352 FE                 1034 	mov	r6,a
   0353 EA                 1035 	mov	a,r2
   0354 33                 1036 	rlc	a
   0355 FA                 1037 	mov	r2,a
   0356                    1038 00226$:
   0356 D5 F0 F7           1039 	djnz	b,00225$
   0359 7B 00              1040 	mov	r3,#0x00
   035B EC                 1041 	mov	a,r4
   035C 52 06              1042 	anl	ar6,a
   035E EB                 1043 	mov	a,r3
   035F 52 02              1044 	anl	ar2,a
   0361 EE                 1045 	mov	a,r6
   0362 4A                 1046 	orl	a,r2
   0363 D0 06              1047 	pop	ar6
   0365 60 35              1048 	jz	00121$
                           1049 ;	../fb_app_dim.c:144: write_obj_lz(0xe7+(datal&~0x80)+(c*8),dimmwert[c]);
   0367 A9*00              1050 	mov	r1,_bp
   0369 09                 1051 	inc	r1
   036A E7                 1052 	mov	a,@r1
   036B 24r00              1053 	add	a,#_dimmwert
   036D F8                 1054 	mov	r0,a
   036E 86 02              1055 	mov	ar2,@r0
   0370 7B 00              1056 	mov	r3,#0x00
   0372 A8*00              1057 	mov	r0,_bp
   0374 08                 1058 	inc	r0
   0375 E6                 1059 	mov	a,@r0
   0376 C4                 1060 	swap	a
   0377 03                 1061 	rr	a
   0378 54 F8              1062 	anl	a,#0xf8
   037A 2D                 1063 	add	a,r5
   037B F5 82              1064 	mov	dpl,a
   037D C0 05              1065 	push	ar5
   037F C0 06              1066 	push	ar6
   0381 C0 07              1067 	push	ar7
   0383 C0*00              1068 	push	bits
   0385 C0 02              1069 	push	ar2
   0387 C0 03              1070 	push	ar3
   0389 12s05rB4           1071 	lcall	_write_obj_lz
   038C 15 81              1072 	dec	sp
   038E 15 81              1073 	dec	sp
   0390 D0*00              1074 	pop	bits
   0392 D0 07              1075 	pop	ar7
   0394 D0 06              1076 	pop	ar6
   0396 D0 05              1077 	pop	ar5
   0398 80 02              1078 	sjmp	00121$
   039A                    1079 00120$:
                           1080 ;	../fb_app_dim.c:147: b_send=1;
   039A D2*00              1081 	setb	b0
   039C                    1082 00121$:
                           1083 ;	../fb_app_dim.c:148: dimmwert[c]=eeprom[0xe7+(datal&~0x80)+(c*8)]; //Nummer der LZ
   039C A9*00              1084 	mov	r1,_bp
   039E 09                 1085 	inc	r1
   039F E7                 1086 	mov	a,@r1
   03A0 24r00              1087 	add	a,#_dimmwert
   03A2 F8                 1088 	mov	r0,a
   03A3 A9*00              1089 	mov	r1,_bp
   03A5 09                 1090 	inc	r1
   03A6 E7                 1091 	mov	a,@r1
   03A7 C4                 1092 	swap	a
   03A8 03                 1093 	rr	a
   03A9 54 F8              1094 	anl	a,#0xf8
   03AB FA                 1095 	mov	r2,a
   03AC E5*00              1096 	mov	a,_bp
   03AE 24 07              1097 	add	a,#0x07
   03B0 F9                 1098 	mov	r1,a
   03B1 EA                 1099 	mov	a,r2
   03B2 27                 1100 	add	a,@r1
   03B3 90s00r00           1101 	mov	dptr,#_eeprom
   03B6 93                 1102 	movc	a,@a+dptr
   03B7 FA                 1103 	mov	r2,a
   03B8 F6                 1104 	mov	@r0,a
   03B9                    1105 00123$:
                           1106 ;	../fb_app_dim.c:150: if(commObjectNumber==c+0x0a)      // Sperren
   03B9 C0 06              1107 	push	ar6
   03BB A8*00              1108 	mov	r0,_bp
   03BD 08                 1109 	inc	r0
   03BE 86 02              1110 	mov	ar2,@r0
   03C0 7B 00              1111 	mov	r3,#0x00
   03C2 74 0A              1112 	mov	a,#0x0A
   03C4 2A                 1113 	add	a,r2
   03C5 FC                 1114 	mov	r4,a
   03C6 E4                 1115 	clr	a
   03C7 3B                 1116 	addc	a,r3
   03C8 FE                 1117 	mov	r6,a
   03C9 E5*00              1118 	mov	a,_bp
   03CB 24 09              1119 	add	a,#0x09
   03CD F8                 1120 	mov	r0,a
   03CE E6                 1121 	mov	a,@r0
   03CF B5 04 09           1122 	cjne	a,ar4,00228$
   03D2 08                 1123 	inc	r0
   03D3 E6                 1124 	mov	a,@r0
   03D4 B5 06 04           1125 	cjne	a,ar6,00228$
   03D7 74 01              1126 	mov	a,#0x01
   03D9 80 01              1127 	sjmp	00229$
   03DB                    1128 00228$:
   03DB E4                 1129 	clr	a
   03DC                    1130 00229$:
   03DC D0 06              1131 	pop	ar6
   03DE 70 03              1132 	jnz	00230$
   03E0 02s04rAE           1133 	ljmp	00135$
   03E3                    1134 00230$:
                           1135 ;	../fb_app_dim.c:152: if(eeprom[0xc3]&(1<<(3+c))!=0)//invertiert
   03E3 C0 06              1136 	push	ar6
   03E5 90s00rC3           1137 	mov	dptr,#(_eeprom + 0x00c3)
   03E8 E4                 1138 	clr	a
   03E9 93                 1139 	movc	a,@a+dptr
   03EA FC                 1140 	mov	r4,a
   03EB 74 03              1141 	mov	a,#0x03
   03ED 2A                 1142 	add	a,r2
   03EE FA                 1143 	mov	r2,a
   03EF E4                 1144 	clr	a
   03F0 3B                 1145 	addc	a,r3
   03F1 8A F0              1146 	mov	b,r2
   03F3 05 F0              1147 	inc	b
   03F5 7A 01              1148 	mov	r2,#0x01
   03F7 7B 00              1149 	mov	r3,#0x00
   03F9 80 06              1150 	sjmp	00232$
   03FB                    1151 00231$:
   03FB EA                 1152 	mov	a,r2
   03FC 2A                 1153 	add	a,r2
   03FD FA                 1154 	mov	r2,a
   03FE EB                 1155 	mov	a,r3
   03FF 33                 1156 	rlc	a
   0400 FB                 1157 	mov	r3,a
   0401                    1158 00232$:
   0401 D5 F0 F7           1159 	djnz	b,00231$
   0404 7E 00              1160 	mov	r6,#0x00
   0406 EC                 1161 	mov	a,r4
   0407 52 02              1162 	anl	ar2,a
   0409 EE                 1163 	mov	a,r6
   040A 52 03              1164 	anl	ar3,a
   040C D0 06              1165 	pop	ar6
   040E EA                 1166 	mov	a,r2
   040F 4B                 1167 	orl	a,r3
   0410 60 10              1168 	jz	00129$
                           1169 ;	../fb_app_dim.c:154: if(dataw==1) sperr=0;
   0412 E5*00              1170 	mov	a,_bp
   0414 24 08              1171 	add	a,#0x08
   0416 F8                 1172 	mov	r0,a
   0417 E6                 1173 	mov	a,@r0
   0418 60 04              1174 	jz	00126$
   041A 7A 00              1175 	mov	r2,#0x00
   041C 80 0B              1176 	sjmp	00130$
   041E                    1177 00126$:
                           1178 ;	../fb_app_dim.c:155: else sperr=1;
   041E 7A 01              1179 	mov	r2,#0x01
   0420 80 07              1180 	sjmp	00130$
   0422                    1181 00129$:
                           1182 ;	../fb_app_dim.c:157: else sperr=dataw;
   0422 E5*00              1183 	mov	a,_bp
   0424 24 05              1184 	add	a,#0x05
   0426 F8                 1185 	mov	r0,a
   0427 86 02              1186 	mov	ar2,@r0
   0429                    1187 00130$:
                           1188 ;	../fb_app_dim.c:158: if (sperr==1)
   0429 BA 01 41           1189 	cjne	r2,#0x01,00132$
                           1190 ;	../fb_app_dim.c:160: dimmwert[c]=helligkeittsstufe(eeprom[0xdf+c]&0x0f,c);
   042C A9*00              1191 	mov	r1,_bp
   042E 09                 1192 	inc	r1
   042F E7                 1193 	mov	a,@r1
   0430 24r00              1194 	add	a,#_dimmwert
   0432 F8                 1195 	mov	r0,a
   0433 A9*00              1196 	mov	r1,_bp
   0435 09                 1197 	inc	r1
   0436 74 DF              1198 	mov	a,#0xDF
   0438 27                 1199 	add	a,@r1
   0439 90s00r00           1200 	mov	dptr,#_eeprom
   043C 93                 1201 	movc	a,@a+dptr
   043D FA                 1202 	mov	r2,a
   043E 53 02 0F           1203 	anl	ar2,#0x0F
   0441 C0 05              1204 	push	ar5
   0443 C0 06              1205 	push	ar6
   0445 C0 07              1206 	push	ar7
   0447 C0 00              1207 	push	ar0
   0449 A9*00              1208 	mov	r1,_bp
   044B 09                 1209 	inc	r1
   044C E7                 1210 	mov	a,@r1
   044D C0 E0              1211 	push	acc
   044F 8A 82              1212 	mov	dpl,r2
   0451 12s00r00           1213 	lcall	_helligkeittsstufe
   0454 AA 82              1214 	mov	r2,dpl
   0456 15 81              1215 	dec	sp
   0458 D0 00              1216 	pop	ar0
   045A D0 07              1217 	pop	ar7
   045C D0 06              1218 	pop	ar6
   045E D0 05              1219 	pop	ar5
   0460 A6 02              1220 	mov	@r0,ar2
                           1221 ;	../fb_app_dim.c:161: sperren[c]=1;
   0462 A8*00              1222 	mov	r0,_bp
   0464 08                 1223 	inc	r0
   0465 E6                 1224 	mov	a,@r0
   0466 24r00              1225 	add	a,#_sperren
   0468 F8                 1226 	mov	r0,a
   0469 76 01              1227 	mov	@r0,#0x01
   046B 80 3F              1228 	sjmp	00133$
   046D                    1229 00132$:
                           1230 ;	../fb_app_dim.c:165: dimmwert[c]=helligkeittsstufe(eeprom[0xdf+c]>>4,c);
   046D A9*00              1231 	mov	r1,_bp
   046F 09                 1232 	inc	r1
   0470 E7                 1233 	mov	a,@r1
   0471 24r00              1234 	add	a,#_dimmwert
   0473 F8                 1235 	mov	r0,a
   0474 A9*00              1236 	mov	r1,_bp
   0476 09                 1237 	inc	r1
   0477 74 DF              1238 	mov	a,#0xDF
   0479 27                 1239 	add	a,@r1
   047A 90s00r00           1240 	mov	dptr,#_eeprom
   047D 93                 1241 	movc	a,@a+dptr
   047E C4                 1242 	swap	a
   047F 54 0F              1243 	anl	a,#0x0f
   0481 FA                 1244 	mov	r2,a
   0482 C0 05              1245 	push	ar5
   0484 C0 06              1246 	push	ar6
   0486 C0 07              1247 	push	ar7
   0488 C0 00              1248 	push	ar0
   048A A9*00              1249 	mov	r1,_bp
   048C 09                 1250 	inc	r1
   048D E7                 1251 	mov	a,@r1
   048E C0 E0              1252 	push	acc
   0490 8A 82              1253 	mov	dpl,r2
   0492 12s00r00           1254 	lcall	_helligkeittsstufe
   0495 AA 82              1255 	mov	r2,dpl
   0497 15 81              1256 	dec	sp
   0499 D0 00              1257 	pop	ar0
   049B D0 07              1258 	pop	ar7
   049D D0 06              1259 	pop	ar6
   049F D0 05              1260 	pop	ar5
   04A1 A6 02              1261 	mov	@r0,ar2
                           1262 ;	../fb_app_dim.c:166: sperren[c]=0;
   04A3 A8*00              1263 	mov	r0,_bp
   04A5 08                 1264 	inc	r0
   04A6 E6                 1265 	mov	a,@r0
   04A7 24r00              1266 	add	a,#_sperren
   04A9 F8                 1267 	mov	r0,a
   04AA 76 00              1268 	mov	@r0,#0x00
   04AC                    1269 00133$:
                           1270 ;	../fb_app_dim.c:168: b_send=1;
   04AC D2*00              1271 	setb	b0
   04AE                    1272 00135$:
                           1273 ;	../fb_app_dim.c:171: if(b_send==1)
   04AE A2*00              1274 	mov	c,b0
   04B0 E4                 1275 	clr	a
   04B1 33                 1276 	rlc	a
   04B2 FA                 1277 	mov	r2,a
   04B3 BA 01 02           1278 	cjne	r2,#0x01,00237$
   04B6 80 03              1279 	sjmp	00238$
   04B8                    1280 00237$:
   04B8 02s05r9E           1281 	ljmp	00148$
   04BB                    1282 00238$:
                           1283 ;	../fb_app_dim.c:173: write_obj_value(c,dimmwert[c]?1:0);     //Schaltobjekt
   04BB A9*00              1284 	mov	r1,_bp
   04BD 09                 1285 	inc	r1
   04BE E7                 1286 	mov	a,@r1
   04BF 24r00              1287 	add	a,#_dimmwert
   04C1 F8                 1288 	mov	r0,a
   04C2 E6                 1289 	mov	a,@r0
   04C3 60 02              1290 	jz	00156$
   04C5 74 01              1291 	mov	a,#0x01
   04C7                    1292 00156$:
   04C7 FA                 1293 	mov	r2,a
   04C8 C0 06              1294 	push	ar6
   04CA 7B 00              1295 	mov	r3,#0x00
   04CC C0 05              1296 	push	ar5
   04CE C0 06              1297 	push	ar6
   04D0 C0 07              1298 	push	ar7
   04D2 C0 02              1299 	push	ar2
   04D4 C0 03              1300 	push	ar3
   04D6 A8*00              1301 	mov	r0,_bp
   04D8 08                 1302 	inc	r0
   04D9 86 82              1303 	mov	dpl,@r0
   04DB 12s00r00           1304 	lcall	_write_obj_value
   04DE 15 81              1305 	dec	sp
   04E0 15 81              1306 	dec	sp
                           1307 ;	../fb_app_dim.c:174: write_obj_value(c+4,dimmwert[c]);       //wertobjekt
   04E2 A9*00              1308 	mov	r1,_bp
   04E4 09                 1309 	inc	r1
   04E5 E7                 1310 	mov	a,@r1
   04E6 24r00              1311 	add	a,#_dimmwert
   04E8 F8                 1312 	mov	r0,a
   04E9 86 02              1313 	mov	ar2,@r0
   04EB 7B 00              1314 	mov	r3,#0x00
   04ED A8*00              1315 	mov	r0,_bp
   04EF 08                 1316 	inc	r0
   04F0 74 04              1317 	mov	a,#0x04
   04F2 26                 1318 	add	a,@r0
   04F3 F5 82              1319 	mov	dpl,a
   04F5 C0 02              1320 	push	ar2
   04F7 C0 03              1321 	push	ar3
   04F9 12s00r00           1322 	lcall	_write_obj_value
   04FC 15 81              1323 	dec	sp
   04FE 15 81              1324 	dec	sp
   0500 D0 07              1325 	pop	ar7
   0502 D0 06              1326 	pop	ar6
   0504 D0 05              1327 	pop	ar5
                           1328 ;	../fb_app_dim.c:175: if(eeprom[0xc3]&(1<<(6+c))!=0)// nur wenn  wertobjekt eingeschalten
   0506 90s00rC3           1329 	mov	dptr,#(_eeprom + 0x00c3)
   0509 E4                 1330 	clr	a
   050A 93                 1331 	movc	a,@a+dptr
   050B FA                 1332 	mov	r2,a
   050C A8*00              1333 	mov	r0,_bp
   050E 08                 1334 	inc	r0
   050F 86 03              1335 	mov	ar3,@r0
   0511 7C 00              1336 	mov	r4,#0x00
   0513 74 06              1337 	mov	a,#0x06
   0515 2B                 1338 	add	a,r3
   0516 FB                 1339 	mov	r3,a
   0517 E4                 1340 	clr	a
   0518 3C                 1341 	addc	a,r4
   0519 8B F0              1342 	mov	b,r3
   051B 05 F0              1343 	inc	b
   051D 7B 01              1344 	mov	r3,#0x01
   051F 7C 00              1345 	mov	r4,#0x00
   0521 80 06              1346 	sjmp	00241$
   0523                    1347 00240$:
   0523 EB                 1348 	mov	a,r3
   0524 2B                 1349 	add	a,r3
   0525 FB                 1350 	mov	r3,a
   0526 EC                 1351 	mov	a,r4
   0527 33                 1352 	rlc	a
   0528 FC                 1353 	mov	r4,a
   0529                    1354 00241$:
   0529 D5 F0 F7           1355 	djnz	b,00240$
   052C 7E 00              1356 	mov	r6,#0x00
   052E EA                 1357 	mov	a,r2
   052F 52 03              1358 	anl	ar3,a
   0531 EE                 1359 	mov	a,r6
   0532 52 04              1360 	anl	ar4,a
   0534 D0 06              1361 	pop	ar6
   0536 EB                 1362 	mov	a,r3
   0537 4C                 1363 	orl	a,r4
   0538 60 24              1364 	jz	00137$
                           1365 ;	../fb_app_dim.c:176: respond(c+8,dimmwert[c]);
   053A A9*00              1366 	mov	r1,_bp
   053C 09                 1367 	inc	r1
   053D E7                 1368 	mov	a,@r1
   053E 24r00              1369 	add	a,#_dimmwert
   0540 F8                 1370 	mov	r0,a
   0541 86 02              1371 	mov	ar2,@r0
   0543 A8*00              1372 	mov	r0,_bp
   0545 08                 1373 	inc	r0
   0546 74 08              1374 	mov	a,#0x08
   0548 26                 1375 	add	a,@r0
   0549 F5 82              1376 	mov	dpl,a
   054B C0 05              1377 	push	ar5
   054D C0 06              1378 	push	ar6
   054F C0 07              1379 	push	ar7
   0551 C0 02              1380 	push	ar2
   0553 12s06r30           1381 	lcall	_respond
   0556 15 81              1382 	dec	sp
   0558 D0 07              1383 	pop	ar7
   055A D0 06              1384 	pop	ar6
   055C D0 05              1385 	pop	ar5
   055E                    1386 00137$:
                           1387 ;	../fb_app_dim.c:177: respond(c+6,(dimmwert[c]?1:0)+0x80);
   055E A9*00              1388 	mov	r1,_bp
   0560 09                 1389 	inc	r1
   0561 E7                 1390 	mov	a,@r1
   0562 24r00              1391 	add	a,#_dimmwert
   0564 F8                 1392 	mov	r0,a
   0565 E6                 1393 	mov	a,@r0
   0566 60 02              1394 	jz	00158$
   0568 74 01              1395 	mov	a,#0x01
   056A                    1396 00158$:
   056A 24 80              1397 	add	a,#0x80
   056C FA                 1398 	mov	r2,a
   056D A8*00              1399 	mov	r0,_bp
   056F 08                 1400 	inc	r0
   0570 74 06              1401 	mov	a,#0x06
   0572 26                 1402 	add	a,@r0
   0573 F5 82              1403 	mov	dpl,a
   0575 C0 05              1404 	push	ar5
   0577 C0 06              1405 	push	ar6
   0579 C0 07              1406 	push	ar7
   057B C0 02              1407 	push	ar2
   057D 12s06r30           1408 	lcall	_respond
   0580 15 81              1409 	dec	sp
   0582 D0 07              1410 	pop	ar7
   0584 D0 06              1411 	pop	ar6
   0586 D0 05              1412 	pop	ar5
                           1413 ;	../fb_app_dim.c:178: if(dimmwert[c]>0)
   0588 A9*00              1414 	mov	r1,_bp
   058A 09                 1415 	inc	r1
   058B E7                 1416 	mov	a,@r1
   058C 24r00              1417 	add	a,#_dimmwert
   058E F8                 1418 	mov	r0,a
   058F E6                 1419 	mov	a,@r0
   0590 FA                 1420 	mov	r2,a
   0591 60 09              1421 	jz	00139$
                           1422 ;	../fb_app_dim.c:179: ausschalthellikeit[c]=dimmwert[c];
   0593 A8*00              1423 	mov	r0,_bp
   0595 08                 1424 	inc	r0
   0596 E6                 1425 	mov	a,@r0
   0597 24r00              1426 	add	a,#_ausschalthellikeit
   0599 F8                 1427 	mov	r0,a
   059A A6 02              1428 	mov	@r0,ar2
   059C                    1429 00139$:
                           1430 ;	../fb_app_dim.c:180: b_send=0;
   059C C2*00              1431 	clr	b0
   059E                    1432 00148$:
                           1433 ;	../fb_app_dim.c:115: for(c=0;c<2;c++)
   059E A8*00              1434 	mov	r0,_bp
   05A0 08                 1435 	inc	r0
   05A1 06                 1436 	inc	@r0
   05A2 02s01rDA           1437 	ljmp	00146$
   05A5                    1438 00152$:
                           1439 ;	../fb_app_dim.c:102: for(n=0;n<assno;n++)			// Schleife über alle Einträge in der Ass-Table, denn es könnten mehrere Objekte (Pins) der gleichen Gruppenadresse zugeordnet sein
   05A5 E5*00              1440 	mov	a,_bp
   05A7 24 04              1441 	add	a,#0x04
   05A9 F8                 1442 	mov	r0,a
   05AA 06                 1443 	inc	@r0
   05AB 02s01r23           1444 	ljmp	00150$
   05AE                    1445 00154$:
   05AE 85*00 81           1446 	mov	sp,_bp
   05B1 D0*00              1447 	pop	_bp
   05B3 22                 1448 	ret
                           1449 ;------------------------------------------------------------
                           1450 ;Allocation info for local variables in function 'write_obj_lz'
                           1451 ;------------------------------------------------------------
                           1452 ;objvalue                  Allocated to stack - offset -4
                           1453 ;objno                     Allocated to registers r2 
                           1454 ;write_ok                  Allocated to registers b0 
                           1455 ;------------------------------------------------------------
                           1456 ;	../fb_app_dim.c:191: bit write_obj_lz(unsigned char objno,int objvalue)  // schreibt den aktuellen Wert eines Objektes ins 'EEprom'
                           1457 ;	-----------------------------------------
                           1458 ;	 function write_obj_lz
                           1459 ;	-----------------------------------------
   05B4                    1460 _write_obj_lz:
   05B4 C0*00              1461 	push	_bp
   05B6 85 81*00           1462 	mov	_bp,sp
   05B9 AA 82              1463 	mov	r2,dpl
                           1464 ;	../fb_app_dim.c:193: bit write_ok=0;
   05BB C2*00              1465 	clr	b0
                           1466 ;	../fb_app_dim.c:194: while (!write_ok)
   05BD                    1467 00103$:
   05BD 20*00 1B           1468 	jb	b0,00105$
                           1469 ;	../fb_app_dim.c:196: START_WRITECYCLE
   05C0 75 E4 00           1470 	mov	_FMCON,#0x00
                           1471 ;	../fb_app_dim.c:197: WRITE_BYTE(0x01,objno,objvalue);
   05C3 75 E7 1D           1472 	mov	_FMADRH,#0x1D
   05C6 8A E6              1473 	mov	_FMADRL,r2
   05C8 E5*00              1474 	mov	a,_bp
   05CA 24 FC              1475 	add	a,#0xfc
   05CC F8                 1476 	mov	r0,a
   05CD 86 E5              1477 	mov	_FMDATA,@r0
                           1478 ;	../fb_app_dim.c:198: STOP_WRITECYCLE
   05CF 75 E4 68           1479 	mov	_FMCON,#0x68
                           1480 ;	../fb_app_dim.c:199: if(!(FMCON & 0x01)) write_ok=1;
   05D2 E5 E4              1481 	mov	a,_FMCON
   05D4 20 E0 E6           1482 	jb	acc.0,00103$
   05D7 D2*00              1483 	setb	b0
   05D9 80 E2              1484 	sjmp	00103$
   05DB                    1485 00105$:
                           1486 ;	../fb_app_dim.c:201: return(write_ok);
   05DB A2*00              1487 	mov	c,b0
   05DD D0*00              1488 	pop	_bp
   05DF 22                 1489 	ret
                           1490 ;------------------------------------------------------------
                           1491 ;Allocation info for local variables in function 'read_value_req'
                           1492 ;------------------------------------------------------------
                           1493 ;objno                     Allocated to registers r2 
                           1494 ;objflags                  Allocated to registers r5 
                           1495 ;objvalue                  Allocated to registers 
                           1496 ;------------------------------------------------------------
                           1497 ;	../fb_app_dim.c:211: void read_value_req(void)
                           1498 ;	-----------------------------------------
                           1499 ;	 function read_value_req
                           1500 ;	-----------------------------------------
   05E0                    1501 _read_value_req:
                           1502 ;	../fb_app_dim.c:216: objno=find_first_objno(telegramm[3],telegramm[4]);      // erste Objektnummer zu empfangener GA finden
   05E0 85*03 82           1503 	mov	dpl,(_telegramm + 0x0003)
   05E3 C0*04              1504 	push	(_telegramm + 0x0004)
   05E5 12s00r00           1505 	lcall	_find_first_objno
   05E8 AA 82              1506 	mov	r2,dpl
   05EA 15 81              1507 	dec	sp
                           1508 ;	../fb_app_dim.c:217: if(objno!=0xFF) {       // falls Gruppenadresse nicht gefunden
   05EC BA FF 01           1509 	cjne	r2,#0xFF,00109$
   05EF 22                 1510 	ret
   05F0                    1511 00109$:
                           1512 ;	../fb_app_dim.c:218: send_ack();
   05F0 C0 02              1513 	push	ar2
   05F2 12s00r00           1514 	lcall	_send_ack
   05F5 D0 02              1515 	pop	ar2
                           1516 ;	../fb_app_dim.c:220: objvalue=read_obj_value(objno);         // Objektwert aus USER-RAM lesen (Standard Einstellung)
   05F7 8A 82              1517 	mov	dpl,r2
   05F9 C0 02              1518 	push	ar2
   05FB 12s00r00           1519 	lcall	_read_obj_value
   05FE AB 82              1520 	mov	r3,dpl
   0600 AC 83              1521 	mov	r4,dph
   0602 D0 02              1522 	pop	ar2
                           1523 ;	../fb_app_dim.c:222: objflags=read_objflags(objno);          // Objekt Flags lesen
   0604 8A 82              1524 	mov	dpl,r2
   0606 C0 02              1525 	push	ar2
   0608 C0 03              1526 	push	ar3
   060A C0 04              1527 	push	ar4
   060C 12s00r00           1528 	lcall	_read_objflags
   060F AD 82              1529 	mov	r5,dpl
   0611 D0 04              1530 	pop	ar4
   0613 D0 03              1531 	pop	ar3
   0615 D0 02              1532 	pop	ar2
                           1533 ;	../fb_app_dim.c:224: if((objflags&0x0C)==0x0C) send_value(0,objno,objvalue);
   0617 53 05 0C           1534 	anl	ar5,#0x0C
   061A BD 0C 12           1535 	cjne	r5,#0x0C,00105$
   061D C0 03              1536 	push	ar3
   061F C0 04              1537 	push	ar4
   0621 C0 02              1538 	push	ar2
   0623 75 82 00           1539 	mov	dpl,#0x00
   0626 12s00r00           1540 	lcall	_send_value
   0629 15 81              1541 	dec	sp
   062B 15 81              1542 	dec	sp
   062D 15 81              1543 	dec	sp
   062F                    1544 00105$:
   062F 22                 1545 	ret
                           1546 ;------------------------------------------------------------
                           1547 ;Allocation info for local variables in function 'respond'
                           1548 ;------------------------------------------------------------
                           1549 ;rval                      Allocated to stack - offset -3
                           1550 ;objno                     Allocated to registers r2 
                           1551 ;ga                        Allocated to registers r3 r4 
                           1552 ;------------------------------------------------------------
                           1553 ;	../fb_app_dim.c:229: void respond(unsigned char objno, unsigned char rval)	// sucht Gruppenadresse für das Objekt objno uns sendet ein Telegramm
                           1554 ;	-----------------------------------------
                           1555 ;	 function respond
                           1556 ;	-----------------------------------------
   0630                    1557 _respond:
   0630 C0*00              1558 	push	_bp
   0632 85 81*00           1559 	mov	_bp,sp
                           1560 ;	../fb_app_dim.c:232: ga=find_ga(objno);					// wenn keine Gruppenadresse hintrlegt nix tun
   0635 AA 82              1561 	mov  r2,dpl
   0637 C0 02              1562 	push	ar2
   0639 12s00r00           1563 	lcall	_find_ga
   063C AB 82              1564 	mov	r3,dpl
   063E AC 83              1565 	mov	r4,dph
   0640 D0 02              1566 	pop	ar2
                           1567 ;	../fb_app_dim.c:233: if (ga!=0)
   0642 EB                 1568 	mov	a,r3
   0643 4C                 1569 	orl	a,r4
   0644 60 3E              1570 	jz	00106$
                           1571 ;	../fb_app_dim.c:236: telegramm[0]=0xBC;
   0646 75*00 BC           1572 	mov	_telegramm,#0xBC
                           1573 ;	../fb_app_dim.c:237: telegramm[1]=eeprom[ADDRTAB+1];
   0649 90s00r17           1574 	mov	dptr,#(_eeprom + 0x0017)
   064C E4                 1575 	clr	a
   064D 93                 1576 	movc	a,@a+dptr
   064E FD                 1577 	mov	r5,a
   064F 8D*01              1578 	mov	(_telegramm + 0x0001),r5
                           1579 ;	../fb_app_dim.c:238: telegramm[2]=eeprom[ADDRTAB+2];
   0651 90s00r18           1580 	mov	dptr,#(_eeprom + 0x0018)
   0654 E4                 1581 	clr	a
   0655 93                 1582 	movc	a,@a+dptr
   0656 FD                 1583 	mov	r5,a
   0657 8D*02              1584 	mov	(_telegramm + 0x0002),r5
                           1585 ;	../fb_app_dim.c:239: telegramm[3]=ga>>8;
   0659 8C 05              1586 	mov	ar5,r4
   065B 8D*03              1587 	mov	(_telegramm + 0x0003),r5
                           1588 ;	../fb_app_dim.c:240: telegramm[4]=ga;
   065D 8B*04              1589 	mov	(_telegramm + 0x0004),r3
                           1590 ;	../fb_app_dim.c:241: telegramm[5]=0xD1;
   065F 75*05 D1           1591 	mov	(_telegramm + 0x0005),#0xD1
                           1592 ;	../fb_app_dim.c:242: telegramm[6]=0x00;
   0662 75*06 00           1593 	mov	(_telegramm + 0x0006),#0x00
                           1594 ;	../fb_app_dim.c:243: telegramm[7]=rval;
   0665 A8*00              1595 	mov	r0,_bp
   0667 18                 1596 	dec	r0
   0668 18                 1597 	dec	r0
   0669 18                 1598 	dec	r0
   066A 86*07              1599 	mov	(_telegramm + 0x0007),@r0
                           1600 ;	../fb_app_dim.c:244: if(objno==8||objno==9)   //wert objekt rückmelden 1Byte
   066C BA 08 02           1601 	cjne	r2,#0x08,00111$
   066F 80 03              1602 	sjmp	00101$
   0671                    1603 00111$:
   0671 BA 09 0D           1604 	cjne	r2,#0x09,00102$
   0674                    1605 00101$:
                           1606 ;	../fb_app_dim.c:246: telegramm[5]=0xE2;
   0674 75*05 E2           1607 	mov	(_telegramm + 0x0005),#0xE2
                           1608 ;	../fb_app_dim.c:247: telegramm[7]=0x80;
   0677 75*07 80           1609 	mov	(_telegramm + 0x0007),#0x80
                           1610 ;	../fb_app_dim.c:248: telegramm[8]=rval;
   067A A8*00              1611 	mov	r0,_bp
   067C 18                 1612 	dec	r0
   067D 18                 1613 	dec	r0
   067E 18                 1614 	dec	r0
   067F 86*08              1615 	mov	(_telegramm + 0x0008),@r0
   0681                    1616 00102$:
                           1617 ;	../fb_app_dim.c:250: send_telegramm();
   0681 12s00r00           1618 	lcall	_send_telegramm
   0684                    1619 00106$:
   0684 D0*00              1620 	pop	_bp
   0686 22                 1621 	ret
                           1622 	.area CSEG    (CODE)
                           1623 	.area CONST   (CODE)
   0000                    1624 __str_0:
   0000 0A                 1625 	.db 0x0A
   0001 77 72 5F 76 61 6C  1626 	.ascii "wr_val_rq "
        5F 72 71 20
   000B 00                 1627 	.db 0x00
   000C                    1628 __str_1:
   000C 20                 1629 	.ascii " "
   000D 00                 1630 	.db 0x00
                           1631 	.area XINIT   (CODE)
                           1632 	.area CABS    (ABS,CODE)
