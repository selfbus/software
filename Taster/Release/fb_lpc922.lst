                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.1.4 #7479 (Mar 23 2012) (MINGW32)
                              4 ; This file was generated Sat May 12 20:44:55 2012
                              5 ;--------------------------------------------------------
                              6 	.module fb_lpc922
                              7 	.optsdcc -mmcs51 --model-small
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _eeprom
                             13 	.globl _userram
                             14 	.globl _read_obj_value
                             15 	.globl _read_value_req
                             16 	.globl _write_value_req
                             17 	.globl _P3_1
                             18 	.globl _P3_0
                             19 	.globl _P1_7
                             20 	.globl _P1_6
                             21 	.globl _P1_5
                             22 	.globl _P1_4
                             23 	.globl _P1_3
                             24 	.globl _P1_2
                             25 	.globl _P1_1
                             26 	.globl _P1_0
                             27 	.globl _P0_7
                             28 	.globl _P0_6
                             29 	.globl _P0_5
                             30 	.globl _P0_4
                             31 	.globl _P0_3
                             32 	.globl _P0_2
                             33 	.globl _P0_1
                             34 	.globl _P0_0
                             35 	.globl _I2CON_0
                             36 	.globl _I2CON_2
                             37 	.globl _I2CON_3
                             38 	.globl _I2CON_4
                             39 	.globl _I2CON_5
                             40 	.globl _I2CON_6
                             41 	.globl _SCON_7
                             42 	.globl _SCON_6
                             43 	.globl _SCON_5
                             44 	.globl _SCON_4
                             45 	.globl _SCON_3
                             46 	.globl _SCON_2
                             47 	.globl _SCON_1
                             48 	.globl _SCON_0
                             49 	.globl _IP0_0
                             50 	.globl _IP0_1
                             51 	.globl _IP0_2
                             52 	.globl _IP0_3
                             53 	.globl _IP0_4
                             54 	.globl _IP0_5
                             55 	.globl _IP0_6
                             56 	.globl _IP1_0
                             57 	.globl _IP1_1
                             58 	.globl _IP1_2
                             59 	.globl _IP1_6
                             60 	.globl _IEN1_0
                             61 	.globl _IEN1_1
                             62 	.globl _IEN1_2
                             63 	.globl _IEN0_0
                             64 	.globl _IEN0_1
                             65 	.globl _IEN0_2
                             66 	.globl _IEN0_3
                             67 	.globl _IEN0_4
                             68 	.globl _IEN0_5
                             69 	.globl _IEN0_6
                             70 	.globl _IEN0_7
                             71 	.globl _TCON_0
                             72 	.globl _TCON_1
                             73 	.globl _TCON_2
                             74 	.globl _TCON_3
                             75 	.globl _TCON_4
                             76 	.globl _TCON_5
                             77 	.globl _TCON_6
                             78 	.globl _TCON_7
                             79 	.globl _PSW_7
                             80 	.globl _PSW_6
                             81 	.globl _PSW_5
                             82 	.globl _PSW_4
                             83 	.globl _PSW_3
                             84 	.globl _PSW_2
                             85 	.globl _PSW_1
                             86 	.globl _PSW_0
                             87 	.globl _IEN1
                             88 	.globl _IP0H
                             89 	.globl _WFEED2
                             90 	.globl _WFEED1
                             91 	.globl _WDL
                             92 	.globl _WDCON
                             93 	.globl _TRIM
                             94 	.globl _TAMOD
                             95 	.globl _SSTAT
                             96 	.globl _RTCL
                             97 	.globl _RTCH
                             98 	.globl _RTCCON
                             99 	.globl _RSTSRC
                            100 	.globl _PT0AD
                            101 	.globl _PCONA
                            102 	.globl _P3M2
                            103 	.globl _P3M1
                            104 	.globl _P1M2
                            105 	.globl _P1M1
                            106 	.globl _P0M2
                            107 	.globl _P0M1
                            108 	.globl _KBPATN
                            109 	.globl _KBMASK
                            110 	.globl _KBCON
                            111 	.globl _IP1H
                            112 	.globl _IP1
                            113 	.globl _I2STAT
                            114 	.globl _I2SCLL
                            115 	.globl _I2SCLH
                            116 	.globl _I2DAT
                            117 	.globl _I2CON
                            118 	.globl _I2ADR
                            119 	.globl _FMDATA
                            120 	.globl _FMCON
                            121 	.globl _FMADRL
                            122 	.globl _FMADRH
                            123 	.globl _DIVM
                            124 	.globl _CMP2
                            125 	.globl _CMP1
                            126 	.globl _BRGCON
                            127 	.globl _BRGR1
                            128 	.globl _BRGR0
                            129 	.globl _SADEN
                            130 	.globl _SADDR
                            131 	.globl _AUXR1
                            132 	.globl _SBUF
                            133 	.globl _SCON
                            134 	.globl _IP0
                            135 	.globl _IEN0
                            136 	.globl _TH1
                            137 	.globl _TH0
                            138 	.globl _TL1
                            139 	.globl _TL0
                            140 	.globl _TMOD
                            141 	.globl _TCON
                            142 	.globl _PCON
                            143 	.globl _DPH
                            144 	.globl _DPL
                            145 	.globl _SP
                            146 	.globl _B
                            147 	.globl _ACC
                            148 	.globl _PSW
                            149 	.globl _P3
                            150 	.globl _P1
                            151 	.globl _P0
                            152 	.globl _inc_pcount
                            153 	.globl _connected
                            154 	.globl _transparency
                            155 	.globl _send_nack
                            156 	.globl _send_ack
                            157 	.globl _wait_for_ack
                            158 	.globl _fbtx_bit
                            159 	.globl _auto_ack
                            160 	.globl _tel_sent
                            161 	.globl _tel_arrived
                            162 	.globl _its_me
                            163 	.globl _nack
                            164 	.globl _ack
                            165 	.globl _fb_parity
                            166 	.globl _interrupted
                            167 	.globl _parity_ok
                            168 	.globl _status60
                            169 	.globl _tx_nextsend
                            170 	.globl _tx_nextwrite
                            171 	.globl _repeat_count
                            172 	.globl _fb_state
                            173 	.globl _fb_pattern
                            174 	.globl _fbrx_byte
                            175 	.globl _cs
                            176 	.globl _telpos
                            177 	.globl _tx_buffer
                            178 	.globl _telegramm
                            179 	.globl _senders_pcount
                            180 	.globl _mem_adrl
                            181 	.globl _mem_adrh
                            182 	.globl _mem_length
                            183 	.globl _pcount
                            184 	.globl _conl
                            185 	.globl _conh
                            186 	.globl _X1_int
                            187 	.globl _T1_int
                            188 	.globl _init_rx
                            189 	.globl _init_tx
                            190 	.globl _gapos_in_gat
                            191 	.globl _build_tel
                            192 	.globl _send_obj_value
                            193 	.globl _process_tel
                            194 	.globl _write_memory
                            195 	.globl _set_pa
                            196 	.globl _read_objflags
                            197 	.globl _find_first_objno
                            198 	.globl _find_ga
                            199 	.globl _restart_hw
                            200 ;--------------------------------------------------------
                            201 ; special function registers
                            202 ;--------------------------------------------------------
                            203 	.area RSEG    (ABS,DATA)
   0000                     204 	.org 0x0000
                    0080    205 _P0	=	0x0080
                    0090    206 _P1	=	0x0090
                    00B0    207 _P3	=	0x00b0
                    00D0    208 _PSW	=	0x00d0
                    00E0    209 _ACC	=	0x00e0
                    00F0    210 _B	=	0x00f0
                    0081    211 _SP	=	0x0081
                    0082    212 _DPL	=	0x0082
                    0083    213 _DPH	=	0x0083
                    0087    214 _PCON	=	0x0087
                    0088    215 _TCON	=	0x0088
                    0089    216 _TMOD	=	0x0089
                    008A    217 _TL0	=	0x008a
                    008B    218 _TL1	=	0x008b
                    008C    219 _TH0	=	0x008c
                    008D    220 _TH1	=	0x008d
                    00A8    221 _IEN0	=	0x00a8
                    00B8    222 _IP0	=	0x00b8
                    0098    223 _SCON	=	0x0098
                    0099    224 _SBUF	=	0x0099
                    00A2    225 _AUXR1	=	0x00a2
                    00A9    226 _SADDR	=	0x00a9
                    00B9    227 _SADEN	=	0x00b9
                    00BE    228 _BRGR0	=	0x00be
                    00BF    229 _BRGR1	=	0x00bf
                    00BD    230 _BRGCON	=	0x00bd
                    00AC    231 _CMP1	=	0x00ac
                    00AD    232 _CMP2	=	0x00ad
                    0095    233 _DIVM	=	0x0095
                    00E7    234 _FMADRH	=	0x00e7
                    00E6    235 _FMADRL	=	0x00e6
                    00E4    236 _FMCON	=	0x00e4
                    00E5    237 _FMDATA	=	0x00e5
                    00DB    238 _I2ADR	=	0x00db
                    00D8    239 _I2CON	=	0x00d8
                    00DA    240 _I2DAT	=	0x00da
                    00DD    241 _I2SCLH	=	0x00dd
                    00DC    242 _I2SCLL	=	0x00dc
                    00D9    243 _I2STAT	=	0x00d9
                    00F8    244 _IP1	=	0x00f8
                    00F7    245 _IP1H	=	0x00f7
                    0094    246 _KBCON	=	0x0094
                    0086    247 _KBMASK	=	0x0086
                    0093    248 _KBPATN	=	0x0093
                    0084    249 _P0M1	=	0x0084
                    0085    250 _P0M2	=	0x0085
                    0091    251 _P1M1	=	0x0091
                    0092    252 _P1M2	=	0x0092
                    00B1    253 _P3M1	=	0x00b1
                    00B2    254 _P3M2	=	0x00b2
                    00B5    255 _PCONA	=	0x00b5
                    00F6    256 _PT0AD	=	0x00f6
                    00DF    257 _RSTSRC	=	0x00df
                    00D1    258 _RTCCON	=	0x00d1
                    00D2    259 _RTCH	=	0x00d2
                    00D3    260 _RTCL	=	0x00d3
                    00BA    261 _SSTAT	=	0x00ba
                    008F    262 _TAMOD	=	0x008f
                    0096    263 _TRIM	=	0x0096
                    00A7    264 _WDCON	=	0x00a7
                    00C1    265 _WDL	=	0x00c1
                    00C2    266 _WFEED1	=	0x00c2
                    00C3    267 _WFEED2	=	0x00c3
                    00B7    268 _IP0H	=	0x00b7
                    00E8    269 _IEN1	=	0x00e8
                            270 ;--------------------------------------------------------
                            271 ; special function bits
                            272 ;--------------------------------------------------------
                            273 	.area RSEG    (ABS,DATA)
   0000                     274 	.org 0x0000
                    00D0    275 _PSW_0	=	0x00d0
                    00D1    276 _PSW_1	=	0x00d1
                    00D2    277 _PSW_2	=	0x00d2
                    00D3    278 _PSW_3	=	0x00d3
                    00D4    279 _PSW_4	=	0x00d4
                    00D5    280 _PSW_5	=	0x00d5
                    00D6    281 _PSW_6	=	0x00d6
                    00D7    282 _PSW_7	=	0x00d7
                    008F    283 _TCON_7	=	0x008f
                    008E    284 _TCON_6	=	0x008e
                    008D    285 _TCON_5	=	0x008d
                    008C    286 _TCON_4	=	0x008c
                    008B    287 _TCON_3	=	0x008b
                    008A    288 _TCON_2	=	0x008a
                    0089    289 _TCON_1	=	0x0089
                    0088    290 _TCON_0	=	0x0088
                    00AF    291 _IEN0_7	=	0x00af
                    00AE    292 _IEN0_6	=	0x00ae
                    00AD    293 _IEN0_5	=	0x00ad
                    00AC    294 _IEN0_4	=	0x00ac
                    00AB    295 _IEN0_3	=	0x00ab
                    00AA    296 _IEN0_2	=	0x00aa
                    00A9    297 _IEN0_1	=	0x00a9
                    00A8    298 _IEN0_0	=	0x00a8
                    00EA    299 _IEN1_2	=	0x00ea
                    00E9    300 _IEN1_1	=	0x00e9
                    00E8    301 _IEN1_0	=	0x00e8
                    00FE    302 _IP1_6	=	0x00fe
                    00FA    303 _IP1_2	=	0x00fa
                    00F9    304 _IP1_1	=	0x00f9
                    00F8    305 _IP1_0	=	0x00f8
                    00BE    306 _IP0_6	=	0x00be
                    00BD    307 _IP0_5	=	0x00bd
                    00BC    308 _IP0_4	=	0x00bc
                    00BB    309 _IP0_3	=	0x00bb
                    00BA    310 _IP0_2	=	0x00ba
                    00B9    311 _IP0_1	=	0x00b9
                    00B8    312 _IP0_0	=	0x00b8
                    0098    313 _SCON_0	=	0x0098
                    0099    314 _SCON_1	=	0x0099
                    009A    315 _SCON_2	=	0x009a
                    009B    316 _SCON_3	=	0x009b
                    009C    317 _SCON_4	=	0x009c
                    009D    318 _SCON_5	=	0x009d
                    009E    319 _SCON_6	=	0x009e
                    009F    320 _SCON_7	=	0x009f
                    00DE    321 _I2CON_6	=	0x00de
                    00DD    322 _I2CON_5	=	0x00dd
                    00DC    323 _I2CON_4	=	0x00dc
                    00DB    324 _I2CON_3	=	0x00db
                    00DA    325 _I2CON_2	=	0x00da
                    00D8    326 _I2CON_0	=	0x00d8
                    0080    327 _P0_0	=	0x0080
                    0081    328 _P0_1	=	0x0081
                    0082    329 _P0_2	=	0x0082
                    0083    330 _P0_3	=	0x0083
                    0084    331 _P0_4	=	0x0084
                    0085    332 _P0_5	=	0x0085
                    0086    333 _P0_6	=	0x0086
                    0087    334 _P0_7	=	0x0087
                    0090    335 _P1_0	=	0x0090
                    0091    336 _P1_1	=	0x0091
                    0092    337 _P1_2	=	0x0092
                    0093    338 _P1_3	=	0x0093
                    0094    339 _P1_4	=	0x0094
                    0095    340 _P1_5	=	0x0095
                    0096    341 _P1_6	=	0x0096
                    0097    342 _P1_7	=	0x0097
                    00B0    343 _P3_0	=	0x00b0
                    00B1    344 _P3_1	=	0x00b1
                            345 ;--------------------------------------------------------
                            346 ; overlayable register banks
                            347 ;--------------------------------------------------------
                            348 	.area REG_BANK_0	(REL,OVR,DATA)
   0000                     349 	.ds 8
                            350 ;--------------------------------------------------------
                            351 ; overlayable bit register bank
                            352 ;--------------------------------------------------------
                            353 	.area BIT_BANK	(REL,OVR,DATA)
   0000                     354 bits:
   0000                     355 	.ds 1
                    8000    356 	b0 = bits[0]
                    8100    357 	b1 = bits[1]
                    8200    358 	b2 = bits[2]
                    8300    359 	b3 = bits[3]
                    8400    360 	b4 = bits[4]
                    8500    361 	b5 = bits[5]
                    8600    362 	b6 = bits[6]
                    8700    363 	b7 = bits[7]
                            364 ;--------------------------------------------------------
                            365 ; internal ram data
                            366 ;--------------------------------------------------------
                            367 	.area DSEG    (DATA)
   0000                     368 _conh::
   0000                     369 	.ds 1
   0001                     370 _conl::
   0001                     371 	.ds 1
   0002                     372 _pcount::
   0002                     373 	.ds 1
   0003                     374 _mem_length::
   0003                     375 	.ds 1
   0004                     376 _mem_adrh::
   0004                     377 	.ds 1
   0005                     378 _mem_adrl::
   0005                     379 	.ds 1
   0006                     380 _senders_pcount::
   0006                     381 	.ds 1
   0007                     382 _telegramm::
   0007                     383 	.ds 23
   001E                     384 _tx_buffer::
   001E                     385 	.ds 8
   0026                     386 _telpos::
   0026                     387 	.ds 1
   0027                     388 _cs::
   0027                     389 	.ds 1
   0028                     390 _fbrx_byte::
   0028                     391 	.ds 1
   0029                     392 _fb_pattern::
   0029                     393 	.ds 1
   002A                     394 _fb_state::
   002A                     395 	.ds 1
   002B                     396 _repeat_count::
   002B                     397 	.ds 1
   002C                     398 _tx_nextwrite::
   002C                     399 	.ds 1
   002D                     400 _tx_nextsend::
   002D                     401 	.ds 1
   002E                     402 _status60::
   002E                     403 	.ds 1
                            404 ;--------------------------------------------------------
                            405 ; overlayable items in internal ram 
                            406 ;--------------------------------------------------------
                            407 ;--------------------------------------------------------
                            408 ; indirectly addressable internal ram data
                            409 ;--------------------------------------------------------
                            410 	.area ISEG    (DATA)
                            411 ;--------------------------------------------------------
                            412 ; absolute internal ram data
                            413 ;--------------------------------------------------------
                            414 	.area IABS    (ABS,DATA)
                            415 	.area IABS    (ABS,DATA)
                            416 ;--------------------------------------------------------
                            417 ; bit data
                            418 ;--------------------------------------------------------
                            419 	.area BSEG    (BIT)
   0000                     420 _parity_ok::
   0000                     421 	.ds 1
   0001                     422 _interrupted::
   0001                     423 	.ds 1
   0002                     424 _fb_parity::
   0002                     425 	.ds 1
   0003                     426 _ack::
   0003                     427 	.ds 1
   0004                     428 _nack::
   0004                     429 	.ds 1
   0005                     430 _its_me::
   0005                     431 	.ds 1
   0006                     432 _tel_arrived::
   0006                     433 	.ds 1
   0007                     434 _tel_sent::
   0007                     435 	.ds 1
   0008                     436 _auto_ack::
   0008                     437 	.ds 1
   0009                     438 _fbtx_bit::
   0009                     439 	.ds 1
   000A                     440 _wait_for_ack::
   000A                     441 	.ds 1
   000B                     442 _send_ack::
   000B                     443 	.ds 1
   000C                     444 _send_nack::
   000C                     445 	.ds 1
   000D                     446 _transparency::
   000D                     447 	.ds 1
   000E                     448 _connected::
   000E                     449 	.ds 1
   000F                     450 _inc_pcount::
   000F                     451 	.ds 1
                            452 ;--------------------------------------------------------
                            453 ; paged external ram data
                            454 ;--------------------------------------------------------
                            455 	.area PSEG    (PAG,XDATA)
                            456 ;--------------------------------------------------------
                            457 ; external ram data
                            458 ;--------------------------------------------------------
                            459 	.area XSEG    (XDATA)
                            460 ;--------------------------------------------------------
                            461 ; absolute external ram data
                            462 ;--------------------------------------------------------
                            463 	.area XABS    (ABS,XDATA)
                            464 ;--------------------------------------------------------
                            465 ; external initialized ram data
                            466 ;--------------------------------------------------------
                            467 	.area XISEG   (XDATA)
                            468 	.area HOME    (CODE)
                            469 	.area GSINIT0 (CODE)
                            470 	.area GSINIT1 (CODE)
                            471 	.area GSINIT2 (CODE)
                            472 	.area GSINIT3 (CODE)
                            473 	.area GSINIT4 (CODE)
                            474 	.area GSINIT5 (CODE)
                            475 	.area GSINIT  (CODE)
                            476 	.area GSFINAL (CODE)
                            477 	.area CSEG    (CODE)
                            478 ;--------------------------------------------------------
                            479 ; global & static initialisations
                            480 ;--------------------------------------------------------
                            481 	.area HOME    (CODE)
                            482 	.area GSINIT  (CODE)
                            483 	.area GSFINAL (CODE)
                            484 	.area GSINIT  (CODE)
                            485 ;--------------------------------------------------------
                            486 ; Home
                            487 ;--------------------------------------------------------
                            488 	.area HOME    (CODE)
                            489 	.area HOME    (CODE)
                            490 ;--------------------------------------------------------
                            491 ; code
                            492 ;--------------------------------------------------------
                            493 	.area CSEG    (CODE)
                            494 ;------------------------------------------------------------
                            495 ;Allocation info for local variables in function 'X1_int'
                            496 ;------------------------------------------------------------
                            497 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:60: void X1_int(void) __interrupt (2)		// Flanke des Startbits löst int1 aus
                            498 ;	-----------------------------------------
                            499 ;	 function X1_int
                            500 ;	-----------------------------------------
   0000                     501 _X1_int:
                    0007    502 	ar7 = 0x07
                    0006    503 	ar6 = 0x06
                    0005    504 	ar5 = 0x05
                    0004    505 	ar4 = 0x04
                    0003    506 	ar3 = 0x03
                    0002    507 	ar2 = 0x02
                    0001    508 	ar1 = 0x01
                    0000    509 	ar0 = 0x00
   0000 C0 E0               510 	push	acc
   0002 C0 D0               511 	push	psw
                            512 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:63: EX1=0;			// int1 stoppen								1 cycle = 0,27127us
   0004 C2 AA               513 	clr	_IEN0_2
                            514 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:64: TR1=0;			// Timer 1 stoppen
   0006 C2 8E               515 	clr	_TCON_6
                            516 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:65: TMOD=(TMOD & 0x0F) + 0x20;	// Timer 1 als 8-Bit autoreload
   0008 74 0F               517 	mov	a,#0x0F
   000A 55 89               518 	anl	a,_TMOD
   000C 24 20               519 	add	a,#0x20
   000E F5 89               520 	mov	_TMOD,a
                            521 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:66: TL1=53;//108;//128;		// Timer laden so dass in state 2 bei 75µs abgefragt wird
   0010 75 8B 35            522 	mov	_TL1,#0x35
                            523 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:67: TH1=128;//128;			// autoreload auf 35µs setzen (gilt für sprung von 2 auf 3)
   0013 75 8D 80            524 	mov	_TH1,#0x80
                            525 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:68: TF1=0;			// Timer1-flag löschen						1 cycle
   0016 C2 8F               526 	clr	_TCON_7
                            527 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:69: TR1=1;			// Timer1 starten							1 cycle
   0018 D2 8E               528 	setb	_TCON_6
                            529 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:70: ET1=1;			// Timer1-int aktiv							1 cycle
   001A D2 AB               530 	setb	_IEN0_3
                            531 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:71: fb_state=2;		// nächster state
   001C 75*2A 02            532 	mov	_fb_state,#0x02
                            533 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:72: fb_parity=0;	// Parity Bit löschen
   001F C2*02               534 	clr	_fb_parity
                            535 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:73: parity_ok=1;	// wird bei Fehler gelöscht
   0021 D2*00               536 	setb	_parity_ok
                            537 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:74: fb_pattern=0;
   0023 75*29 00            538 	mov	_fb_pattern,#0x00
                            539 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:75: fbrx_byte=0;
   0026 75*28 00            540 	mov	_fbrx_byte,#0x00
                            541 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:76: interrupted=1;	// signalisiert app, dass unterbrochen wurde
   0029 D2*01               542 	setb	_interrupted
   002B D0 D0               543 	pop	psw
   002D D0 E0               544 	pop	acc
   002F 32                  545 	reti
                            546 ;	eliminated unneeded mov psw,# (no regs used in bank)
                            547 ;	eliminated unneeded push/pop dpl
                            548 ;	eliminated unneeded push/pop dph
                            549 ;	eliminated unneeded push/pop b
                            550 ;------------------------------------------------------------
                            551 ;Allocation info for local variables in function 'T1_int'
                            552 ;------------------------------------------------------------
                            553 ;fbrx_bit                  Allocated to registers b0 
                            554 ;send_byte                 Allocated to registers r7 
                            555 ;------------------------------------------------------------
                            556 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:81: void T1_int(void) __interrupt (3) 	// Timer 1 Interrupt
                            557 ;	-----------------------------------------
                            558 ;	 function T1_int
                            559 ;	-----------------------------------------
   0030                     560 _T1_int:
   0030 C0*00               561 	push	bits
   0032 C0 E0               562 	push	acc
   0034 C0 F0               563 	push	b
   0036 C0 82               564 	push	dpl
   0038 C0 83               565 	push	dph
   003A C0 07               566 	push	(0+7)
   003C C0 06               567 	push	(0+6)
   003E C0 05               568 	push	(0+5)
   0040 C0 04               569 	push	(0+4)
   0042 C0 03               570 	push	(0+3)
   0044 C0 02               571 	push	(0+2)
   0046 C0 01               572 	push	(0+1)
   0048 C0 00               573 	push	(0+0)
   004A C0 D0               574 	push	psw
   004C 75 D0 00            575 	mov	psw,#0x00
                            576 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:87: switch (fb_state){
   004F E5*2A               577 	mov	a,_fb_state
   0051 FF                  578 	mov	r7,a
   0052 24 F1               579 	add	a,#0xff - 0x0E
   0054 50 03               580 	jnc	00318$
   0056 02s03r4D            581 	ljmp	00217$
   0059                     582 00318$:
   0059 EF                  583 	mov	a,r7
   005A 2F                  584 	add	a,r7
   005B 2F                  585 	add	a,r7
   005C 90s00r60            586 	mov	dptr,#00319$
   005F 73                  587 	jmp	@a+dptr
   0060                     588 00319$:
   0060 02s00r8D            589 	ljmp	00101$
   0063 02s03r4D            590 	ljmp	00217$
   0066 02s01r00            591 	ljmp	00115$
   0069 02s01rBA            592 	ljmp	00151$
   006C 02s01rC3            593 	ljmp	00152$
   006F 02s02r38            594 	ljmp	00173$
   0072 02s03r4D            595 	ljmp	00217$
   0075 02s03r4D            596 	ljmp	00217$
   0078 02s03r4D            597 	ljmp	00217$
   007B 02s03r4D            598 	ljmp	00217$
   007E 02s02r5C            599 	ljmp	00180$
   0081 02s02rC4            600 	ljmp	00201$
   0084 02s03r4D            601 	ljmp	00217$
   0087 02s02rE8            602 	ljmp	00208$
   008A 02s03r36            603 	ljmp	00216$
                            604 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:91: case 0:
   008D                     605 00101$:
                            606 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:92: TR1=0;			// Timer 1 stoppen
   008D C2 8E               607 	clr	_TCON_6
                            608 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:93: TMOD=(TMOD & 0x0F) + 0x20;	// Timer 1 als 8-Bit autoreload
   008F 74 0F               609 	mov	a,#0x0F
   0091 55 89               610 	anl	a,_TMOD
   0093 24 20               611 	add	a,#0x20
   0095 F5 89               612 	mov	_TMOD,a
                            613 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:94: TL1=128;		// Timer laden
   0097 75 8B 80            614 	mov	_TL1,#0x80
                            615 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:95: TH1=128;
   009A 75 8D 80            616 	mov	_TH1,#0x80
                            617 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:96: TF1=0;			// Timer1-flag löschen						1 cycle
   009D C2 8F               618 	clr	_TCON_7
                            619 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:97: TR1=1;			// Timer1 starten							1 cycle
   009F D2 8E               620 	setb	_TCON_6
                            621 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:98: if(tx_nextsend != tx_nextwrite) { 			// wenn zu sendendes Objekt vorhanden
   00A1 E5*2C               622 	mov	a,_tx_nextwrite
   00A3 B5*2D 02            623 	cjne	a,_tx_nextsend,00320$
   00A6 80 51               624 	sjmp	00113$
   00A8                     625 00320$:
                            626 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:99: if(build_tel(tx_buffer[tx_nextsend])) {	// wenn Telegramm gebildet werden konnte
   00A8 E5*2D               627 	mov	a,_tx_nextsend
   00AA 24r1E               628 	add	a,#_tx_buffer
   00AC F9                  629 	mov	r1,a
   00AD 87 82               630 	mov	dpl,@r1
   00AF 12s04r35            631 	lcall	_build_tel
   00B2 50 3D               632 	jnc	00110$
                            633 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:100: EX1=0; 				//Um zu vermeiden dass man in die Abfrage hinein-empfängt
   00B4 C2 AA               634 	clr	_IEN0_2
                            635 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:101: if(!fb_state) { 	//nur bilden wenn vorher kein rx_intit durch ext int kam
   00B6 E5*2A               636 	mov	a,_fb_state
   00B8 70 32               637 	jnz	00108$
                            638 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:102: if((tx_buffer[tx_nextsend]&0x20)==0) {	// wenn erstmaliges Senden des Objektes
   00BA E5*2D               639 	mov	a,_tx_nextsend
   00BC 24r1E               640 	add	a,#_tx_buffer
   00BE F9                  641 	mov	r1,a
   00BF E7                  642 	mov	a,@r1
   00C0 FF                  643 	mov	r7,a
   00C1 20 E5 07            644 	jb	acc.5,00103$
                            645 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:103: tx_buffer[tx_nextsend]|=0x20;		// Bit für "wird gerade gesendet"
   00C4 74 20               646 	mov	a,#0x20
   00C6 4F                  647 	orl	a,r7
   00C7 F7                  648 	mov	@r1,a
                            649 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:104: repeat_count=0;						// Wiederholungszähler für nicht geackte Telegramme
   00C8 75*2B 00            650 	mov	_repeat_count,#0x00
   00CB                     651 00103$:
                            652 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:106: if (repeat_count<4) init_tx();		// Senden starten
   00CB 74 FC               653 	mov	a,#0x100 - 0x04
   00CD 25*2B               654 	add	a,_repeat_count
   00CF 40 05               655 	jc	00105$
   00D1 12s03r98            656 	lcall	_init_tx
   00D4 80 16               657 	sjmp	00108$
   00D6                     658 00105$:
                            659 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:108: tx_nextsend++;
   00D6 05*2D               660 	inc	_tx_nextsend
                            661 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:109: tx_nextsend&=0x07;
   00D8 53*2D 07            662 	anl	_tx_nextsend,#0x07
                            663 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:110: wait_for_ack=0;
   00DB C2*0A               664 	clr	_wait_for_ack
                            665 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:111: inc_pcount=0;
   00DD C2*0F               666 	clr	_inc_pcount
                            667 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:112: init_rx();
   00DF 12s03r6C            668 	lcall	_init_rx
                            669 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:113: TR1=0;		// hier nicht noch einmal die ganze busfree Zeit warten
   00E2 C2 8E               670 	clr	_TCON_6
                            671 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:114: TH1=0xF0;
   00E4 75 8D F0            672 	mov	_TH1,#0xF0
                            673 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:115: TL1=0x00;
   00E7 75 8B 00            674 	mov	_TL1,#0x00
                            675 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:116: TR1=1;
   00EA D2 8E               676 	setb	_TCON_6
   00EC                     677 00108$:
                            678 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:119: EX1=1;	// ext1 int einschalten falls Empfang...
   00EC D2 AA               679 	setb	_IEN0_2
   00EE 02s03r4D            680 	ljmp	00217$
   00F1                     681 00110$:
                            682 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:122: tx_nextsend++; //hier Zeiger erhöhen wenn Telegramm nicht gebildet werden konnte
   00F1 05*2D               683 	inc	_tx_nextsend
                            684 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:123: tx_nextsend&=0x07;
   00F3 53*2D 07            685 	anl	_tx_nextsend,#0x07
   00F6 02s03r4D            686 	ljmp	00217$
   00F9                     687 00113$:
                            688 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:127: TR1=0;		// nichts mehr zu tun, also statemachine stoppen
   00F9 C2 8E               689 	clr	_TCON_6
                            690 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:128: EX1=1;		// sicherstellen, dass ext. Int. 1 aktiv ist
   00FB D2 AA               691 	setb	_IEN0_2
                            692 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:130: break;
   00FD 02s03r4D            693 	ljmp	00217$
                            694 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:133: case 2: // T=75us
   0100                     695 00115$:
                            696 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:134: fbrx_bit=!IE1;				// Flipflop des ext. Int. 1 auslesen, ist 1 bei fallender Flanke am Pin
   0100 A2 8B               697 	mov	c,_TCON_3
   0102 B3                  698 	cpl	c
   0103 92*00               699 	mov	b0,c
                            700 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:135: IE1=0;						// Flipflop zurücksetzen
   0105 C2 8B               701 	clr	_TCON_3
                            702 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:136: fb_state=3;// nächster state: 3
   0107 75*2A 03            703 	mov	_fb_state,#0x03
                            704 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:137: TH1=0;// reload auf 70µs (zeit swischen state 3 und 2)
   010A 75 8D 00            705 	mov	_TH1,#0x00
                            706 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:138: if(fb_pattern==0) {			// fb_pattern=0 bedeutet, dass bisher nur das Startbit empfangen wurde
   010D E5*29               707 	mov	a,_fb_pattern
   010F 70 0A               708 	jnz	00149$
                            709 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:139: fb_pattern=1;			// 70us nach Startbit, als näcstes kommt Datenbit 0
   0111 75*29 01            710 	mov	_fb_pattern,#0x01
                            711 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:140: ack=0;					// Empfang eines neuen Bytes, also ack/nack Flags zurücksetzen
   0114 C2*03               712 	clr	_ack
                            713 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:141: nack=0;
   0116 C2*04               714 	clr	_nack
   0118 02s03r4D            715 	ljmp	00217$
   011B                     716 00149$:
                            717 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:144: if(fb_pattern<129) {					// Daten-Bit LSB first
   011B 74 7F               718 	mov	a,#0x100 - 0x81
   011D 25*29               719 	add	a,_fb_pattern
   011F 40 1C               720 	jc	00146$
                            721 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:145: if(fbrx_bit) {
   0121 30*00 08            722 	jnb	b0,00117$
                            723 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:146: fb_parity=!fb_parity;			// Paritybit berechnen
   0124 B2*02               724 	cpl	_fb_parity
                            725 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:147: fbrx_byte+=fb_pattern;			// Datenbit speichern
   0126 E5*29               726 	mov	a,_fb_pattern
   0128 25*28               727 	add	a,_fbrx_byte
   012A F5*28               728 	mov	_fbrx_byte,a
   012C                     729 00117$:
                            730 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:149: fb_pattern=fb_pattern<<1;			// nächstes Bit
   012C E5*29               731 	mov	a,_fb_pattern
   012E 25*29               732 	add	a,_fb_pattern
                            733 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:150: if(fb_pattern==0) fb_pattern=129;	// alle Daten-Bits gelesen, Parity-Bit folgt
   0130 F5*29               734 	mov	_fb_pattern,a
   0132 60 03               735 	jz	00328$
   0134 02s03r4D            736 	ljmp	00217$
   0137                     737 00328$:
   0137 75*29 81            738 	mov	_fb_pattern,#0x81
   013A 02s03r4D            739 	ljmp	00217$
   013D                     740 00146$:
                            741 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:153: TR1=0;
   013D C2 8E               742 	clr	_TCON_6
                            743 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:154: TF1=0; //prüfen ob erforderlich!!!
   013F C2 8F               744 	clr	_TCON_7
                            745 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:155: if(fb_parity==fbrx_bit) {				// Parity-Bit OK
   0141 A2*02               746 	mov	c,_fb_parity
   0143 20*00 01            747 	jb	b0,00329$
   0146 B3                  748 	cpl	c
   0147                     749 00329$:
   0147 50 26               750 	jnc	00130$
                            751 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:156: if (telpos==0) {						// erstes empfangenes Byte
   0149 E5*26               752 	mov	a,_telpos
   014B 70 0E               753 	jnz	00125$
                            754 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:157: if (fbrx_byte==0xCC) ack=1;				// ACK empfangen
   014D 74 CC               755 	mov	a,#0xCC
   014F B5*28 02            756 	cjne	a,_fbrx_byte,00121$
   0152 D2*03               757 	setb	_ack
   0154                     758 00121$:
                            759 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:158: if (fbrx_byte==0x0C) nack=1;			// NACK empfangen
   0154 74 0C               760 	mov	a,#0x0C
   0156 B5*28 02            761 	cjne	a,_fbrx_byte,00125$
   0159 D2*04               762 	setb	_nack
   015B                     763 00125$:
                            764 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:160: if (!ack && !nack) {					// Datenbyte empfangen
   015B 20*03 13            765 	jb	_ack,00131$
   015E 20*04 10            766 	jb	_nack,00131$
                            767 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:161: telegramm[telpos]=fbrx_byte;			// Byte speichern
   0161 E5*26               768 	mov	a,_telpos
   0163 24r07               769 	add	a,#_telegramm
   0165 F8                  770 	mov	r0,a
                            771 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:162: cs^=fbrx_byte;							// Checksum berechnen
   0166 E5*28               772 	mov	a,_fbrx_byte
   0168 F6                  773 	mov	@r0,a
   0169 62*27               774 	xrl	_cs,a
                            775 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:163: telpos++;								// Telegrammzeiger erhöhen
   016B 05*26               776 	inc	_telpos
   016D 80 02               777 	sjmp	00131$
   016F                     778 00130$:
                            779 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:166: else parity_ok=0;						// Parity Error
   016F C2*00               780 	clr	_parity_ok
   0171                     781 00131$:
                            782 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:168: if (wait_for_ack) {						// es wird ein ACK erwartet
                            783 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:169: wait_for_ack=0;							// Flag zurücksetzen, da wir es ja gerade abarbeiten
   0171 10*0A 02            784 	jbc	_wait_for_ack,00338$
   0174 80 1D               785 	sjmp	00143$
   0176                     786 00338$:
                            787 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:170: if (ack && parity_ok) {					// ACK empfangen und auch erwartet
   0176 30*03 14            788 	jnb	_ack,00135$
   0179 30*00 11            789 	jnb	_parity_ok,00135$
                            790 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:171: repeat_count=4;						// keine Wiederholtelegramme mehr senden
   017C 75*2B 04            791 	mov	_repeat_count,#0x04
                            792 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:172: if(inc_pcount) {
                            793 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:173: inc_pcount=0;
   017F 10*0F 02            794 	jbc	_inc_pcount,00341$
   0182 80 09               795 	sjmp	00135$
   0184                     796 00341$:
                            797 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:174: pcount+=4;
   0184 E5*02               798 	mov	a,_pcount
   0186 24 04               799 	add	a,#0x04
   0188 F5*02               800 	mov	_pcount,a
                            801 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:175: pcount&=0x3C;
   018A 53*02 3C            802 	anl	_pcount,#0x3C
   018D                     803 00135$:
                            804 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:178: init_rx();
   018D 12s03r6C            805 	lcall	_init_rx
   0190 02s03r4D            806 	ljmp	00217$
   0193                     807 00143$:
                            808 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:181: if (parity_ok && (!ack && !nack)) {		// ganz normales Datenbyte
   0193 30*00 1E            809 	jnb	_parity_ok,00138$
   0196 20*03 1B            810 	jb	_ack,00138$
   0199 20*04 18            811 	jb	_nack,00138$
                            812 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:182: TMOD=(TMOD & 0x0F) +0x10;			// Timer 1 als 16-Bit Timer
   019C 74 0F               813 	mov	a,#0x0F
   019E 55 89               814 	anl	a,_TMOD
   01A0 24 10               815 	add	a,#0x10
   01A2 F5 89               816 	mov	_TMOD,a
                            817 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:183: TH1=0xFA;//0xFA;							// Timer 1 auf Timeout-Position setzen (370us)
   01A4 75 8D FA            818 	mov	_TH1,#0xFA
                            819 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:184: TL1=0x70;//4f 0xAB; (bis hierher sinds 91µs)
   01A7 75 8B 70            820 	mov	_TL1,#0x70
                            821 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:185: TR1=1;
   01AA D2 8E               822 	setb	_TCON_6
                            823 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:186: fb_state=4;							// nächster state: timeout = Telegramm fertig
   01AC 75*2A 04            824 	mov	_fb_state,#0x04
                            825 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:187: EX1=1;								// int1 aktiv, falls noch ein Byte kommt
   01AF D2 AA               826 	setb	_IEN0_2
   01B1 02s03r4D            827 	ljmp	00217$
   01B4                     828 00138$:
                            829 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:189: else init_rx();							// irgendwas empfangen
   01B4 12s03r6C            830 	lcall	_init_rx
                            831 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:193: break;
   01B7 02s03r4D            832 	ljmp	00217$
                            833 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:195: case 3: // T=104us=0us
   01BA                     834 00151$:
                            835 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:196: TH1=128;// reload auf 35µs (Zeit zwischen State 2 und 3)
   01BA 75 8D 80            836 	mov	_TH1,#0x80
                            837 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:197: fb_state=2;//1
   01BD 75*2A 02            838 	mov	_fb_state,#0x02
                            839 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:198: break;
   01C0 02s03r4D            840 	ljmp	00217$
                            841 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:200: case 4:	//	Timeout, d.h. Telegramm-Ende
   01C3                     842 00152$:
                            843 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:201: if (auto_ack && telpos>4) {		// wenn ACK gesendet werden soll und Telegramm zumindest 5 Bytes hat
   01C3 30*08 64            844 	jnb	_auto_ack,00170$
   01C6 E5*26               845 	mov	a,_telpos
   01C8 24 FB               846 	add	a,#0xff - 0x04
   01CA 50 5E               847 	jnc	00170$
                            848 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:202: TR1=0;
   01CC C2 8E               849 	clr	_TCON_6
                            850 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:203: TMOD=(TMOD & 0x0F) +0x10;	// Timer 1 als 16-Bit Timer
   01CE 74 0F               851 	mov	a,#0x0F
   01D0 55 89               852 	anl	a,_TMOD
   01D2 24 10               853 	add	a,#0x10
   01D4 F5 89               854 	mov	_TMOD,a
                            855 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:204: TH1=0xEF;					// Timer 1 auf ACK-Position setzen (15 Bit Pause = 2708µs (26 Bit) nach Beginn Startbit vom letzten Datenbyte)
   01D6 75 8D EF            856 	mov	_TH1,#0xEF
                            857 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:205: TL1=0x42;
   01D9 75 8B 42            858 	mov	_TL1,#0x42
                            859 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:206: TR1=1;
   01DC D2 8E               860 	setb	_TCON_6
                            861 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:207: its_me=transparency;			// indiziert, ob dieses Gerät adressiert wurde, bei transparecy=1 immer
   01DE A2*0D               862 	mov	c,_transparency
   01E0 92*05               863 	mov	_its_me,c
                            864 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:208: if(telegramm[5]&0x80) {
   01E2 E5*0C               865 	mov	a,(_telegramm + 0x0005)
   01E4 30 E7 1F            866 	jnb	acc.7,00162$
                            867 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:209: if (gapos_in_gat(telegramm[3],telegramm[4])!=0xFF) its_me=1;	// Gruppenadresse
   01E7 85*0A 82            868 	mov	dpl,(_telegramm + 0x0003)
   01EA C0*0B               869 	push	(_telegramm + 0x0004)
   01EC 12s03rE2            870 	lcall	_gapos_in_gat
   01EF AF 82               871 	mov	r7,dpl
   01F1 15 81               872 	dec	sp
   01F3 BF FF 02            873 	cjne	r7,#0xFF,00348$
   01F6 80 02               874 	sjmp	00154$
   01F8                     875 00348$:
   01F8 D2*05               876 	setb	_its_me
   01FA                     877 00154$:
                            878 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:210: if (telegramm[3]==0 && telegramm[4]==0) its_me=1;				// Broadcast
   01FA E5*0A               879 	mov	a,(_telegramm + 0x0003)
   01FC 70 1C               880 	jnz	00163$
   01FE E5*0B               881 	mov	a,(_telegramm + 0x0004)
   0200 70 18               882 	jnz	00163$
   0202 D2*05               883 	setb	_its_me
   0204 80 14               884 	sjmp	00163$
   0206                     885 00162$:
                            886 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:212: else if(telegramm[3]==eeprom[ADDRTAB+1] && telegramm[4]==eeprom[ADDRTAB+2]) its_me=1;	// phys. Adresse
   0206 90 1D 17            887 	mov	dptr,#(_eeprom + 0x0017)
   0209 E4                  888 	clr	a
   020A 93                  889 	movc	a,@a+dptr
   020B FF                  890 	mov	r7,a
   020C B5*0A 0B            891 	cjne	a,(_telegramm + 0x0003),00163$
   020F 90 1D 18            892 	mov	dptr,#(_eeprom + 0x0018)
   0212 E4                  893 	clr	a
   0213 93                  894 	movc	a,@a+dptr
   0214 FF                  895 	mov	r7,a
   0215 B5*0B 02            896 	cjne	a,(_telegramm + 0x0004),00163$
   0218 D2*05               897 	setb	_its_me
   021A                     898 00163$:
                            899 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:213: if ((cs==0xFF) && its_me) tel_arrived=1;
   021A 74 FF               900 	mov	a,#0xFF
   021C B5*27 05            901 	cjne	a,_cs,00165$
   021F 30*05 02            902 	jnb	_its_me,00165$
   0222 D2*06               903 	setb	_tel_arrived
   0224                     904 00165$:
                            905 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:214: fb_state=5;					// nächster state: ACK-Position erreicht
   0224 75*2A 05            906 	mov	_fb_state,#0x05
   0227 02s03r4D            907 	ljmp	00217$
   022A                     908 00170$:
                            909 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:218: if (telpos>1) tel_arrived=1;	// trotzdem den Eingang eines Telegramms anzeigen
   022A E5*26               910 	mov	a,_telpos
   022C 24 FE               911 	add	a,#0xff - 0x01
   022E 50 02               912 	jnc	00168$
   0230 D2*06               913 	setb	_tel_arrived
   0232                     914 00168$:
                            915 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:219: init_rx();						// wieder in den Empfang zurück
   0232 12s03r6C            916 	lcall	_init_rx
                            917 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:221: break;
   0235 02s03r4D            918 	ljmp	00217$
                            919 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:223: case 5:	// ACK-Position erreicht
   0238                     920 00173$:
                            921 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:224: TR1=0;
   0238 C2 8E               922 	clr	_TCON_6
                            923 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:225: if (cs==0xFF) {	// Checksum OK
   023A 74 FF               924 	mov	a,#0xFF
   023C B5*27 13            925 	cjne	a,_cs,00178$
                            926 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:226: if (its_me) {					// Gerät adressiert
   023F 30*05 0A            927 	jnb	_its_me,00175$
                            928 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:227: send_ack=1;
   0242 D2*0B               929 	setb	_send_ack
                            930 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:228: init_tx();						// Senden initiieren
   0244 12s03r98            931 	lcall	_init_tx
                            932 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:229: wait_for_ack=0;					// bei ACK senden nicht erneut auf ACK warten
   0247 C2*0A               933 	clr	_wait_for_ack
   0249 02s03r4D            934 	ljmp	00217$
   024C                     935 00175$:
                            936 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:231: else init_rx();					// Gerät nicht adressiert, also zurück zu Empfang
   024C 12s03r6C            937 	lcall	_init_rx
   024F 02s03r4D            938 	ljmp	00217$
   0252                     939 00178$:
                            940 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:234: send_nack=1;
   0252 D2*0C               941 	setb	_send_nack
                            942 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:235: init_tx();
   0254 12s03r98            943 	lcall	_init_tx
                            944 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:236: wait_for_ack=0;					// bei NACK senden nicht erneut auf ACK warten
   0257 C2*0A               945 	clr	_wait_for_ack
                            946 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:238: break;
   0259 02s03r4D            947 	ljmp	00217$
                            948 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:242: case 10:	// Byte Senden, T=0us
   025C                     949 00180$:
                            950 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:243: send_byte=telegramm[telpos];
   025C E5*26               951 	mov	a,_telpos
   025E 24r07               952 	add	a,#_telegramm
   0260 F9                  953 	mov	r1,a
   0261 87 07               954 	mov	ar7,@r1
                            955 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:244: if (send_ack) send_byte=0xCC;
   0263 30*0B 02            956 	jnb	_send_ack,00182$
   0266 7F CC               957 	mov	r7,#0xCC
   0268                     958 00182$:
                            959 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:245: if (send_nack) send_byte=0x0C;
   0268 30*0C 02            960 	jnb	_send_nack,00184$
   026B 7F 0C               961 	mov	r7,#0x0C
   026D                     962 00184$:
                            963 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:246: EX1=0;					// Empfang verhindern
   026D C2 AA               964 	clr	_IEN0_2
                            965 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:247: if(fb_state==10){
   026F 74 0A               966 	mov	a,#0x0A
   0271 B5*2A 02            967 	cjne	a,_fb_state,00364$
   0274 80 03               968 	sjmp	00365$
   0276                     969 00364$:
   0276 02s03r4D            970 	ljmp	00217$
   0279                     971 00365$:
                            972 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:248: if (fb_pattern<=128) {			// Startbit und Datenbits (pattern=0:startbit, 1 2 4 8 .. 128 Datenbits, 129 parity)
   0279 E5*29               973 	mov	a,_fb_pattern
   027B 24 7F               974 	add	a,#0xff - 0x80
   027D 40 2C               975 	jc	00197$
                            976 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:249: if ((send_byte & fb_pattern)==0) {	// wenn Bit logisch 0 ist
   027F E5*29               977 	mov	a,_fb_pattern
   0281 5F                  978 	anl	a,r7
   0282 70 08               979 	jnz	00186$
                            980 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:251: FBOUTC=1;						// Bus runter ziehen
   0284 D2 96               981 	setb	_P1_6
                            982 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:253: fbtx_bit=0;						// fbtx_bit dient zur späteren Kollisionsprüfung
   0286 C2*09               983 	clr	_fbtx_bit
                            984 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:254: fb_parity=!fb_parity;			// Parity-Bit berechnen
   0288 B2*02               985 	cpl	_fb_parity
   028A 80 02               986 	sjmp	00187$
   028C                     987 00186$:
                            988 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:256: else fbtx_bit=1;
   028C D2*09               989 	setb	_fbtx_bit
   028E                     990 00187$:
                            991 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:257: if (fb_pattern==0) {				// wenn Startbit: parity zurücksetzen
   028E E5*29               992 	mov	a,_fb_pattern
   0290 70 07               993 	jnz	00189$
                            994 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:258: fb_pattern=1;					// auf erstes Datenbit zeigen
   0292 75*29 01            995 	mov	_fb_pattern,#0x01
                            996 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:259: fb_parity=0;
   0295 C2*02               997 	clr	_fb_parity
   0297 80 06               998 	sjmp	00190$
   0299                     999 00189$:
                           1000 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:261: else fb_pattern=fb_pattern<<1;		// nächstes Datenbit
   0299 E5*29              1001 	mov	a,_fb_pattern
   029B 25*29              1002 	add	a,_fb_pattern
   029D F5*29              1003 	mov	_fb_pattern,a
   029F                    1004 00190$:
                           1005 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:262: if(fb_pattern==0) fb_pattern=129;	// alle Daten-Bits gesendet, Parity-Bit folgt
   029F E5*29              1006 	mov	a,_fb_pattern
   02A1 70 03              1007 	jnz	00192$
   02A3 75*29 81           1008 	mov	_fb_pattern,#0x81
   02A6                    1009 00192$:
                           1010 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:263: fb_state=11;
   02A6 75*2A 0B           1011 	mov	_fb_state,#0x0B
   02A9 80 13              1012 	sjmp	00198$
   02AB                    1013 00197$:
                           1014 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:266: if (!fb_parity) {				// wenn Parity-Bit logisch 0
   02AB 20*02 06           1015 	jb	_fb_parity,00194$
                           1016 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:267: FBOUTC=1;						// Bus runterziehen
   02AE D2 96              1017 	setb	_P1_6
                           1018 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:268: fbtx_bit=0;						// fbtx_bit dient zur späteren Kollisionsprüfung
   02B0 C2*09              1019 	clr	_fbtx_bit
   02B2 80 02              1020 	sjmp	00195$
   02B4                    1021 00194$:
                           1022 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:270: else fbtx_bit=1;
   02B4 D2*09              1023 	setb	_fbtx_bit
   02B6                    1024 00195$:
                           1025 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:271: telpos++;					// nächstes Byte
   02B6 05*26              1026 	inc	_telpos
                           1027 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:272: fb_pattern=0;				// wieder mit Startbit beginnen
   02B8 75*29 00           1028 	mov	_fb_pattern,#0x00
                           1029 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:273: fb_state=13;				// Prüfen ob Telegramm fertig
   02BB 75*2A 0D           1030 	mov	_fb_state,#0x0D
   02BE                    1031 00198$:
                           1032 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:275: TH1=18; //reload 70µ -delay interrupt (von state 11 auf 13)
   02BE 75 8D 12           1033 	mov	_TH1,#0x12
                           1034 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:277: break;
   02C1 02s03r4D           1035 	ljmp	00217$
                           1036 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:279: case 11:	// Sendestufe aus, T=35us
   02C4                    1037 00201$:
                           1038 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:280: if(telpos==0 && fb_pattern==1) {	// 1. Byte Startbit
   02C4 E5*26              1039 	mov	a,_telpos
   02C6 70 07              1040 	jnz	00203$
   02C8 74 01              1041 	mov	a,#0x01
   02CA B5*29 02           1042 	cjne	a,_fb_pattern,00203$
                           1043 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:281: repeat_count++;		// angefangener Sendeversuch, also Zähler erhöhen
   02CD 05*2B              1044 	inc	_repeat_count
   02CF                    1045 00203$:
                           1046 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:283: FBOUTC=0;				// Sendestufe aus
   02CF C2 96              1047 	clr	_P1_6
                           1048 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:284: if (fbtx_bit & IE1) {	// Kollision
   02D1 A2*09              1049 	mov	c,_fbtx_bit
   02D3 82 8B              1050 	anl	c,_TCON_3
   02D5 50 07              1051 	jnc	00206$
                           1052 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:285: wait_for_ack=0;
   02D7 C2*0A              1053 	clr	_wait_for_ack
                           1054 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:286: init_rx();				// Senden abbrechen und Empfang initialisieren
   02D9 12s03r6C           1055 	lcall	_init_rx
   02DC 80 06              1056 	sjmp	00207$
   02DE                    1057 00206$:
                           1058 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:289: fb_state=10;//12;
   02DE 75*2A 0A           1059 	mov	_fb_state,#0x0A
                           1060 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:290: TH1=110;// 35µs + delay (von state 10 auf 11)
   02E1 75 8D 6E           1061 	mov	_TH1,#0x6E
   02E4                    1062 00207$:
                           1063 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:292: IE1=0;					// Flipflop löschen
   02E4 C2 8B              1064 	clr	_TCON_3
                           1065 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:293: break;
                           1066 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:299: case 13:	// Byte übertragen, T=35us, prüfen ob Telegramm fertig
   02E6 80 65              1067 	sjmp	00217$
   02E8                    1068 00208$:
                           1069 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:300: FBOUTC=0;
   02E8 C2 96              1070 	clr	_P1_6
                           1071 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:301: TR1=0;
   02EA C2 8E              1072 	clr	_TCON_6
                           1073 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:302: TMOD=(TMOD & 0x0F) +0x10;	// Timer 1 als 16-Bit Timer
   02EC 74 0F              1074 	mov	a,#0x0F
   02EE 55 89              1075 	anl	a,_TMOD
   02F0 24 10              1076 	add	a,#0x10
   02F2 F5 89              1077 	mov	_TMOD,a
                           1078 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:303: TH1=0xFB;					// Timer 1 auf Interbyte Abstand setzen (3 Bit Pause = 312µs 
   02F4 75 8D FB           1079 	mov	_TH1,#0xFB
                           1080 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:304: TL1=0x90;
   02F7 75 8B 90           1081 	mov	_TL1,#0x90
                           1082 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:305: TR1=1;
   02FA D2 8E              1083 	setb	_TCON_6
                           1084 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:306: if (send_ack || send_nack) {	// ACK/NACK senden
   02FC 20*0B 03           1085 	jb	_send_ack,00212$
   02FF 30*0C 05           1086 	jnb	_send_nack,00213$
   0302                    1087 00212$:
                           1088 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:307: init_rx();					// ACK senden abgeschlossen, also statemachine auf Anfang
   0302 12s03r6C           1089 	lcall	_init_rx
   0305 80 2B              1090 	sjmp	00214$
   0307                    1091 00213$:
                           1092 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:310: if (telpos>((telegramm[5]&0x0F)+7)) {		// Telegramm fertig gesendet
   0307 74 0F              1093 	mov	a,#0x0F
   0309 55*0C              1094 	anl	a,(_telegramm + 0x0005)
   030B FF                 1095 	mov	r7,a
   030C 7E 00              1096 	mov	r6,#0x00
   030E 74 07              1097 	mov	a,#0x07
   0310 2F                 1098 	add	a,r7
   0311 FF                 1099 	mov	r7,a
   0312 E4                 1100 	clr	a
   0313 3E                 1101 	addc	a,r6
   0314 FE                 1102 	mov	r6,a
   0315 AC*26              1103 	mov	r4,_telpos
   0317 7D 00              1104 	mov	r5,#0x00
   0319 C3                 1105 	clr	c
   031A EF                 1106 	mov	a,r7
   031B 9C                 1107 	subb	a,r4
   031C EE                 1108 	mov	a,r6
   031D 64 80              1109 	xrl	a,#0x80
   031F 8D F0              1110 	mov	b,r5
   0321 63 F0 80           1111 	xrl	b,#0x80
   0324 95 F0              1112 	subb	a,b
   0326 50 07              1113 	jnc	00210$
                           1114 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:311: tel_sent=1;
   0328 D2*07              1115 	setb	_tel_sent
                           1116 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:312: init_rx();	// Telegramm senden abgeschlossen, ggf. wiederholen wenn nicht geackt wird
   032A 12s03r6C           1117 	lcall	_init_rx
   032D 80 03              1118 	sjmp	00214$
   032F                    1119 00210$:
                           1120 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:314: else fb_state=14;		// nächstes Byte: Interbyte Abstand einhalten
   032F 75*2A 0E           1121 	mov	_fb_state,#0x0E
   0332                    1122 00214$:
                           1123 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:316: IE1=0;
   0332 C2 8B              1124 	clr	_TCON_3
                           1125 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:317: break;
                           1126 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:319: case 14:	// Interbyte Abstand erreicht (=Stopbit + 2 Bit)
   0334 80 17              1127 	sjmp	00217$
   0336                    1128 00216$:
                           1129 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:320: TR1=0;
   0336 C2 8E              1130 	clr	_TCON_6
                           1131 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:321: TMOD=(TMOD & 0x0F) +0x20;			// Timer 1 als 8-Bit autoreload
   0338 74 0F              1132 	mov	a,#0x0F
   033A 55 89              1133 	anl	a,_TMOD
   033C 24 20              1134 	add	a,#0x20
   033E F5 89              1135 	mov	_TMOD,a
                           1136 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:322: TH1=110;							// Timer 1 auf 104/3 us laden
   0340 75 8D 6E           1137 	mov	_TH1,#0x6E
                           1138 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:323: TL1=128;
   0343 75 8B 80           1139 	mov	_TL1,#0x80
                           1140 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:324: TF1=0;
   0346 C2 8F              1141 	clr	_TCON_7
                           1142 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:325: TR1=1;
   0348 D2 8E              1143 	setb	_TCON_6
                           1144 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:326: fb_state=10;
   034A 75*2A 0A           1145 	mov	_fb_state,#0x0A
                           1146 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:331: }
   034D                    1147 00217$:
                           1148 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:332: interrupted=1;			// zeigt der app, dass sie unterbrochen wurde
   034D D2*01              1149 	setb	_interrupted
   034F D0 D0              1150 	pop	psw
   0351 D0 00              1151 	pop	(0+0)
   0353 D0 01              1152 	pop	(0+1)
   0355 D0 02              1153 	pop	(0+2)
   0357 D0 03              1154 	pop	(0+3)
   0359 D0 04              1155 	pop	(0+4)
   035B D0 05              1156 	pop	(0+5)
   035D D0 06              1157 	pop	(0+6)
   035F D0 07              1158 	pop	(0+7)
   0361 D0 83              1159 	pop	dph
   0363 D0 82              1160 	pop	dpl
   0365 D0 F0              1161 	pop	b
   0367 D0 E0              1162 	pop	acc
   0369 D0*00              1163 	pop	bits
   036B 32                 1164 	reti
                           1165 ;------------------------------------------------------------
                           1166 ;Allocation info for local variables in function 'init_rx'
                           1167 ;------------------------------------------------------------
                           1168 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:336: void init_rx(void) 	// Empfangen initiieren (statemachine auf Anfang)
                           1169 ;	-----------------------------------------
                           1170 ;	 function init_rx
                           1171 ;	-----------------------------------------
   036C                    1172 _init_rx:
                           1173 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:338: fb_state=0;
   036C 75*2A 00           1174 	mov	_fb_state,#0x00
                           1175 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:339: IE1=0;
   036F C2 8B              1176 	clr	_TCON_3
                           1177 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:340: TR1=0;
   0371 C2 8E              1178 	clr	_TCON_6
                           1179 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:341: ET1=0;
   0373 C2 AB              1180 	clr	_IEN0_3
                           1181 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:342: cs=0;
   0375 75*27 00           1182 	mov	_cs,#0x00
                           1183 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:343: telpos=0;
   0378 75*26 00           1184 	mov	_telpos,#0x00
                           1185 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:344: TR1=0;
   037B C2 8E              1186 	clr	_TCON_6
                           1187 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:345: TMOD=(TMOD & 0x0F) +0x10;	// Timer 1 als 16-Bit Timer
   037D 74 0F              1188 	mov	a,#0x0F
   037F 55 89              1189 	anl	a,_TMOD
   0381 24 10              1190 	add	a,#0x10
   0383 F5 89              1191 	mov	_TMOD,a
                           1192 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:346: TH1=0x89;					// busfree Zeit = 15 Bit (auf ACK) + 11 Bit (ACK) + 53 Bit
   0385 75 8D 89           1193 	mov	_TH1,#0x89
                           1194 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:347: TL1=0xAF;
   0388 75 8B AF           1195 	mov	_TL1,#0xAF
                           1196 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:348: send_ack=0;
   038B C2*0B              1197 	clr	_send_ack
                           1198 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:349: send_nack=0;
   038D C2*0C              1199 	clr	_send_nack
                           1200 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:350: TF1=0;
   038F C2 8F              1201 	clr	_TCON_7
                           1202 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:351: TR1=1;
   0391 D2 8E              1203 	setb	_TCON_6
                           1204 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:352: EX1=1;
   0393 D2 AA              1205 	setb	_IEN0_2
                           1206 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:353: ET1=1;
   0395 D2 AB              1207 	setb	_IEN0_3
   0397 22                 1208 	ret
                           1209 ;------------------------------------------------------------
                           1210 ;Allocation info for local variables in function 'init_tx'
                           1211 ;------------------------------------------------------------
                           1212 ;n                         Allocated to registers r6 
                           1213 ;cs_pos                    Allocated to registers r7 
                           1214 ;------------------------------------------------------------
                           1215 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:357: void init_tx(void) 		// Checksum des Telegramms berechnen und Senden initiieren
                           1216 ;	-----------------------------------------
                           1217 ;	 function init_tx
                           1218 ;	-----------------------------------------
   0398                    1219 _init_tx:
                           1220 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:361: TR1=0;
   0398 C2 8E              1221 	clr	_TCON_6
                           1222 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:362: TMOD=(TMOD & 0x0F) +0x20;			// Timer 1 als 8-Bit autoreload
   039A 74 0F              1223 	mov	a,#0x0F
   039C 55 89              1224 	anl	a,_TMOD
   039E 24 20              1225 	add	a,#0x20
   03A0 F5 89              1226 	mov	_TMOD,a
                           1227 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:363: TH1=110;							// von state 10 auf 11
   03A2 75 8D 6E           1228 	mov	_TH1,#0x6E
                           1229 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:364: TL1=128;							// von hier bis state 10
   03A5 75 8B 80           1230 	mov	_TL1,#0x80
                           1231 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:365: TF1=0;
   03A8 C2 8F              1232 	clr	_TCON_7
                           1233 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:367: cs_pos=(telegramm[5]&0x0F)+7;		// Position der Checksum im Telegramm
   03AA 74 0F              1234 	mov	a,#0x0F
   03AC 55*0C              1235 	anl	a,(_telegramm + 0x0005)
   03AE 24 07              1236 	add	a,#0x07
   03B0 FF                 1237 	mov	r7,a
                           1238 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:368: cs=0xFF;
   03B1 75*27 FF           1239 	mov	_cs,#0xFF
                           1240 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:369: for(n=0;n<cs_pos;n++) {
   03B4 7E 00              1241 	mov	r6,#0x00
   03B6                    1242 00101$:
   03B6 C3                 1243 	clr	c
   03B7 EE                 1244 	mov	a,r6
   03B8 9F                 1245 	subb	a,r7
   03B9 50 0B              1246 	jnc	00104$
                           1247 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:370: cs^=telegramm[n];				// Checksum berechnen
   03BB EE                 1248 	mov	a,r6
   03BC 24r07              1249 	add	a,#_telegramm
   03BE F9                 1250 	mov	r1,a
   03BF E7                 1251 	mov	a,@r1
   03C0 FD                 1252 	mov	r5,a
   03C1 62*27              1253 	xrl	_cs,a
                           1254 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:369: for(n=0;n<cs_pos;n++) {
   03C3 0E                 1255 	inc	r6
   03C4 80 F0              1256 	sjmp	00101$
   03C6                    1257 00104$:
                           1258 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:372: telegramm[cs_pos]=cs;				// Checksum hinter Nutzdaten anfügen
   03C6 EF                 1259 	mov	a,r7
   03C7 24r07              1260 	add	a,#_telegramm
   03C9 F8                 1261 	mov	r0,a
   03CA A6*27              1262 	mov	@r0,_cs
                           1263 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:373: ack=0;
   03CC C2*03              1264 	clr	_ack
                           1265 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:374: nack=0;
   03CE C2*04              1266 	clr	_nack
                           1267 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:375: wait_for_ack=1;
   03D0 D2*0A              1268 	setb	_wait_for_ack
                           1269 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:377: fb_state=10;						// nächster state: senden
   03D2 75*2A 0A           1270 	mov	_fb_state,#0x0A
                           1271 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:378: fb_pattern=0;						// nächstes zu sendendes Bit, 0=Startbit
   03D5 75*29 00           1272 	mov	_fb_pattern,#0x00
                           1273 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:379: telpos=0;							// nächstes zu sendende Byte
   03D8 75*26 00           1274 	mov	_telpos,#0x00
                           1275 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:380: EX1=0;								// ext. int1 inaktiv
   03DB C2 AA              1276 	clr	_IEN0_2
                           1277 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:381: TR1=1;								// Timer 1 starten
   03DD D2 8E              1278 	setb	_TCON_6
                           1279 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:382: ET1=1;								// Timer 1 int. aktiv
   03DF D2 AB              1280 	setb	_IEN0_3
   03E1 22                 1281 	ret
                           1282 ;------------------------------------------------------------
                           1283 ;Allocation info for local variables in function 'gapos_in_gat'
                           1284 ;------------------------------------------------------------
                           1285 ;gal                       Allocated to stack - _bp -3
                           1286 ;gah                       Allocated to registers r7 
                           1287 ;ga_position               Allocated to registers r6 
                           1288 ;n                         Allocated to registers 
                           1289 ;------------------------------------------------------------
                           1290 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:390: unsigned char gapos_in_gat(unsigned char gah, unsigned char gal)
                           1291 ;	-----------------------------------------
                           1292 ;	 function gapos_in_gat
                           1293 ;	-----------------------------------------
   03E2                    1294 _gapos_in_gat:
   03E2 C0*00              1295 	push	_bp
   03E4 85 81*00           1296 	mov	_bp,sp
   03E7 AF 82              1297 	mov	r7,dpl
                           1298 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:394: ga_position=0xFF; 			// default return Wert 0xFF = nicht gefunden
   03E9 7E FF              1299 	mov	r6,#0xFF
                           1300 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:395: if (eeprom[ADDRTAB]<0xFF && !transparency){
   03EB 90 1D 16           1301 	mov	dptr,#(_eeprom + 0x0016)
   03EE E4                 1302 	clr	a
   03EF 93                 1303 	movc	a,@a+dptr
   03F0 FD                 1304 	mov	r5,a
   03F1 BD FF 00           1305 	cjne	r5,#0xFF,00130$
   03F4                    1306 00130$:
   03F4 50 3A              1307 	jnc	00107$
   03F6 20*0D 37           1308 	jb	_transparency,00107$
                           1309 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:396: if (eeprom[ADDRTAB]) {
   03F9 90 1D 16           1310 	mov	dptr,#(_eeprom + 0x0016)
   03FC E4                 1311 	clr	a
   03FD 93                 1312 	movc	a,@a+dptr
   03FE 60 30              1313 	jz	00107$
                           1314 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:397: for (n=1;n<=eeprom[ADDRTAB];n++) {
   0400 7D 01              1315 	mov	r5,#0x01
   0402                    1316 00109$:
   0402 90 1D 16           1317 	mov	dptr,#(_eeprom + 0x0016)
   0405 E4                 1318 	clr	a
   0406 93                 1319 	movc	a,@a+dptr
   0407 FC                 1320 	mov	r4,a
   0408 C3                 1321 	clr	c
   0409 9D                 1322 	subb	a,r5
   040A 40 24              1323 	jc	00107$
                           1324 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:398: if (gah==eeprom[ADDRTAB+n*2+1] && gal==eeprom[ADDRTAB+n*2+2]) ga_position=n;	// Berechnung in [] nicht in lokale var !!!
   040C ED                 1325 	mov	a,r5
   040D 2D                 1326 	add	a,r5
   040E FC                 1327 	mov	r4,a
   040F 24 17              1328 	add	a,#0x17
   0411 90 1D 00           1329 	mov	dptr,#_eeprom
   0414 93                 1330 	movc	a,@a+dptr
   0415 FB                 1331 	mov	r3,a
   0416 EF                 1332 	mov	a,r7
   0417 B5 03 13           1333 	cjne	a,ar3,00111$
   041A 74 18              1334 	mov	a,#0x18
   041C 2C                 1335 	add	a,r4
   041D 90 1D 00           1336 	mov	dptr,#_eeprom
   0420 93                 1337 	movc	a,@a+dptr
   0421 FC                 1338 	mov	r4,a
   0422 E5*00              1339 	mov	a,_bp
   0424 24 FD              1340 	add	a,#0xfd
   0426 F8                 1341 	mov	r0,a
   0427 E6                 1342 	mov	a,@r0
   0428 B5 04 02           1343 	cjne	a,ar4,00111$
   042B 8D 06              1344 	mov	ar6,r5
   042D                    1345 00111$:
                           1346 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:397: for (n=1;n<=eeprom[ADDRTAB];n++) {
   042D 0D                 1347 	inc	r5
   042E 80 D2              1348 	sjmp	00109$
   0430                    1349 00107$:
                           1350 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:402: return (ga_position);
   0430 8E 82              1351 	mov	dpl,r6
   0432 D0*00              1352 	pop	_bp
   0434 22                 1353 	ret
                           1354 ;------------------------------------------------------------
                           1355 ;Allocation info for local variables in function 'build_tel'
                           1356 ;------------------------------------------------------------
                           1357 ;objno                     Allocated to registers r7 
                           1358 ;build_ok                  Allocated to registers b0 
                           1359 ;objvalue                  Allocated to stack - _bp +1
                           1360 ;ga                        Allocated to registers r5 r6 
                           1361 ;objtype                   Allocated to registers r6 
                           1362 ;n                         Allocated to registers r7 
                           1363 ;length                    Allocated to registers r6 
                           1364 ;type                      Allocated to registers b2 
                           1365 ;repeatflag                Allocated to registers b1 
                           1366 ;------------------------------------------------------------
                           1367 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:408: __bit build_tel(unsigned char objno)
                           1368 ;	-----------------------------------------
                           1369 ;	 function build_tel
                           1370 ;	-----------------------------------------
   0435                    1371 _build_tel:
   0435 C0*00              1372 	push	_bp
   0437 E5 81              1373 	mov	a,sp
   0439 F5*00              1374 	mov	_bp,a
   043B 24 04              1375 	add	a,#0x04
   043D F5 81              1376 	mov	sp,a
   043F AF 82              1377 	mov	r7,dpl
                           1378 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:410: __bit build_ok=0;
   0441 C2*00              1379 	clr	b0
                           1380 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:417: repeatflag=objno&0x20;
   0443 EF                 1381 	mov	a,r7
   0444 A2 E5              1382 	mov	c,acc[5]
   0446 E4                 1383 	clr	a
   0447 33                 1384 	rlc	a
   0448 FE                 1385 	mov	r6,a
   0449 24 FF              1386 	add	a,#0xff
   044B 92*00              1387 	mov	b1,c
                           1388 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:419: if(objno<128) {		// Multicast
   044D BF 80 00           1389 	cjne	r7,#0x80,00169$
   0450                    1390 00169$:
   0450 40 03              1391 	jc	00170$
   0452 02s05r4D           1392 	ljmp	00130$
   0455                    1393 00170$:
                           1394 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:420: type=(objno&0x40);	// bei Multicast ist type0 normal und type1 response telegramm
   0455 EF                 1395 	mov	a,r7
   0456 23                 1396 	rl	a
   0457 23                 1397 	rl	a
   0458 54 01              1398 	anl	a,#0x01
   045A 24 FF              1399 	add	a,#0xff
   045C 92*00              1400 	mov	b2,c
                           1401 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:421: objno&=0x1F;
   045E 53 07 1F           1402 	anl	ar7,#0x1F
                           1403 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:423: objvalue=read_obj_value(objno);		// Objektwert lesen
   0461 8F 82              1404 	mov	dpl,r7
   0463 C0 07              1405 	push	ar7
   0465 C0*00              1406 	push	bits
   0467 12s00r00           1407 	lcall	_read_obj_value
   046A AB 82              1408 	mov	r3,dpl
   046C AC 83              1409 	mov	r4,dph
   046E AD F0              1410 	mov	r5,b
   0470 FE                 1411 	mov	r6,a
   0471 D0*00              1412 	pop	bits
   0473 D0 07              1413 	pop	ar7
   0475 A8*00              1414 	mov	r0,_bp
   0477 08                 1415 	inc	r0
   0478 A6 03              1416 	mov	@r0,ar3
   047A 08                 1417 	inc	r0
   047B A6 04              1418 	mov	@r0,ar4
   047D 08                 1419 	inc	r0
   047E A6 05              1420 	mov	@r0,ar5
   0480 08                 1421 	inc	r0
   0481 A6 06              1422 	mov	@r0,ar6
                           1423 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:425: ga=find_ga(objno);					// wenn keine Gruppenadresse hinterlegt nix tun
   0483 8F 82              1424 	mov	dpl,r7
   0485 C0 07              1425 	push	ar7
   0487 C0*00              1426 	push	bits
   0489 12s08rDA           1427 	lcall	_find_ga
   048C AA 82              1428 	mov	r2,dpl
   048E AE 83              1429 	mov	r6,dph
   0490 D0*00              1430 	pop	bits
   0492 D0 07              1431 	pop	ar7
   0494 8A 05              1432 	mov	ar5,r2
                           1433 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:426: if (ga!=0)
   0496 ED                 1434 	mov	a,r5
   0497 4E                 1435 	orl	a,r6
   0498 70 03              1436 	jnz	00171$
   049A 02s06r2C           1437 	ljmp	00131$
   049D                    1438 00171$:
                           1439 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:428: telegramm[0]=0xBC;
   049D 75*07 BC           1440 	mov	_telegramm,#0xBC
                           1441 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:429: telegramm[1]=eeprom[ADDRTAB+1];
   04A0 90 1D 17           1442 	mov	dptr,#(_eeprom + 0x0017)
   04A3 E4                 1443 	clr	a
   04A4 93                 1444 	movc	a,@a+dptr
   04A5 FC                 1445 	mov	r4,a
   04A6 8C*08              1446 	mov	(_telegramm + 0x0001),r4
                           1447 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:430: telegramm[2]=eeprom[ADDRTAB+2];
   04A8 90 1D 18           1448 	mov	dptr,#(_eeprom + 0x0018)
   04AB E4                 1449 	clr	a
   04AC 93                 1450 	movc	a,@a+dptr
   04AD FC                 1451 	mov	r4,a
   04AE 8C*09              1452 	mov	(_telegramm + 0x0002),r4
                           1453 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:431: telegramm[3]=ga>>8;
   04B0 8E 04              1454 	mov	ar4,r6
   04B2 8C*0A              1455 	mov	(_telegramm + 0x0003),r4
                           1456 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:432: telegramm[4]=ga;
   04B4 8D*0B              1457 	mov	(_telegramm + 0x0004),r5
                           1458 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:433: telegramm[6]=0x00;
   04B6 75*0D 00           1459 	mov	(_telegramm + 0x0006),#0x00
                           1460 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:434: if (type) telegramm[7]=0x40;		// read_value_response Telegramm (angefordert)
   04B9 30*00 05           1461 	jnb	b2,00102$
   04BC 75*0E 40           1462 	mov	(_telegramm + 0x0007),#0x40
   04BF 80 03              1463 	sjmp	00103$
   04C1                    1464 00102$:
                           1465 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:435: else telegramm[7]=0x80;				// write_value_request Telegramm (nicht angefordert)
   04C1 75*0E 80           1466 	mov	(_telegramm + 0x0007),#0x80
   04C4                    1467 00103$:
                           1468 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:437: objtype=eeprom[eeprom[COMMSTABPTR]+objno*3+4];
   04C4 90 1D 12           1469 	mov	dptr,#(_eeprom + 0x0012)
   04C7 E4                 1470 	clr	a
   04C8 93                 1471 	movc	a,@a+dptr
   04C9 FE                 1472 	mov	r6,a
   04CA EF                 1473 	mov	a,r7
   04CB 75 F0 03           1474 	mov	b,#0x03
   04CE A4                 1475 	mul	ab
   04CF 2E                 1476 	add	a,r6
   04D0 24 04              1477 	add	a,#0x04
   04D2 90 1D 00           1478 	mov	dptr,#_eeprom
   04D5 93                 1479 	movc	a,@a+dptr
                           1480 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:439: if(objtype>6) length=objtype-5; else length=1;
   04D6 FE                 1481 	mov  r6,a
   04D7 24 F9              1482 	add	a,#0xff - 0x06
   04D9 50 06              1483 	jnc	00105$
   04DB EE                 1484 	mov	a,r6
   04DC 24 FB              1485 	add	a,#0xFB
   04DE FE                 1486 	mov	r6,a
   04DF 80 02              1487 	sjmp	00106$
   04E1                    1488 00105$:
   04E1 7E 01              1489 	mov	r6,#0x01
   04E3                    1490 00106$:
                           1491 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:440: telegramm[5]=0xE0+length;
   04E3 74 E0              1492 	mov	a,#0xE0
   04E5 2E                 1493 	add	a,r6
   04E6 F5*0C              1494 	mov	(_telegramm + 0x0005),a
                           1495 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:441: if (length>1) telegramm[length+6]=objvalue; else telegramm[7]+=(objvalue&0x3F);
   04E8 EE                 1496 	mov	a,r6
   04E9 24 FE              1497 	add	a,#0xff - 0x01
   04EB 50 0F              1498 	jnc	00108$
   04ED 74 06              1499 	mov	a,#0x06
   04EF 2E                 1500 	add	a,r6
   04F0 24r07              1501 	add	a,#_telegramm
   04F2 F9                 1502 	mov	r1,a
   04F3 A8*00              1503 	mov	r0,_bp
   04F5 08                 1504 	inc	r0
   04F6 86 03              1505 	mov	ar3,@r0
   04F8 A7 03              1506 	mov	@r1,ar3
   04FA 80 10              1507 	sjmp	00109$
   04FC                    1508 00108$:
   04FC A8*00              1509 	mov	r0,_bp
   04FE 08                 1510 	inc	r0
   04FF 74 3F              1511 	mov	a,#0x3F
   0501 56                 1512 	anl	a,@r0
   0502 FA                 1513 	mov	r2,a
   0503 E4                 1514 	clr	a
   0504 FB                 1515 	mov	r3,a
   0505 FC                 1516 	mov	r4,a
   0506 FD                 1517 	mov	r5,a
   0507 EA                 1518 	mov	a,r2
   0508 25*0E              1519 	add	a,(_telegramm + 0x0007)
   050A F5*0E              1520 	mov	(_telegramm + 0x0007),a
   050C                    1521 00109$:
                           1522 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:442: if (length>2) telegramm[length+5]=objvalue>>8;
   050C EE                 1523 	mov	a,r6
   050D 24 FD              1524 	add	a,#0xff - 0x02
   050F 50 0E              1525 	jnc	00111$
   0511 74 05              1526 	mov	a,#0x05
   0513 2E                 1527 	add	a,r6
   0514 24r07              1528 	add	a,#_telegramm
   0516 F9                 1529 	mov	r1,a
   0517 A8*00              1530 	mov	r0,_bp
   0519 08                 1531 	inc	r0
   051A 08                 1532 	inc	r0
   051B 86 05              1533 	mov	ar5,@r0
   051D A7 05              1534 	mov	@r1,ar5
   051F                    1535 00111$:
                           1536 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:443: if (length>3) telegramm[length+4]=objvalue>>16;
   051F EE                 1537 	mov	a,r6
   0520 24 FC              1538 	add	a,#0xff - 0x03
   0522 50 0F              1539 	jnc	00113$
   0524 74 04              1540 	mov	a,#0x04
   0526 2E                 1541 	add	a,r6
   0527 24r07              1542 	add	a,#_telegramm
   0529 F9                 1543 	mov	r1,a
   052A A8*00              1544 	mov	r0,_bp
   052C 08                 1545 	inc	r0
   052D 08                 1546 	inc	r0
   052E 08                 1547 	inc	r0
   052F 86 05              1548 	mov	ar5,@r0
   0531 A7 05              1549 	mov	@r1,ar5
   0533                    1550 00113$:
                           1551 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:444: if (length>4) telegramm[length+3]=objvalue>>24;
   0533 EE                 1552 	mov	a,r6
   0534 24 FB              1553 	add	a,#0xff - 0x04
   0536 50 10              1554 	jnc	00115$
   0538 74 03              1555 	mov	a,#0x03
   053A 2E                 1556 	add	a,r6
   053B 24r07              1557 	add	a,#_telegramm
   053D F9                 1558 	mov	r1,a
   053E A8*00              1559 	mov	r0,_bp
   0540 08                 1560 	inc	r0
   0541 08                 1561 	inc	r0
   0542 08                 1562 	inc	r0
   0543 08                 1563 	inc	r0
   0544 86 06              1564 	mov	ar6,@r0
   0546 A7 06              1565 	mov	@r1,ar6
   0548                    1566 00115$:
                           1567 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:446: build_ok=1;
   0548 D2*00              1568 	setb	b0
   054A 02s06r2C           1569 	ljmp	00131$
   054D                    1570 00130$:
                           1571 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:450: telegramm[0]=0xB0;				// Control Byte
   054D 75*07 B0           1572 	mov	_telegramm,#0xB0
                           1573 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:451: telegramm[1]=eeprom[ADDRTAB+1];	// Quelladresse ist phys. Adresse
   0550 90 1D 17           1574 	mov	dptr,#(_eeprom + 0x0017)
   0553 E4                 1575 	clr	a
   0554 93                 1576 	movc	a,@a+dptr
   0555 FE                 1577 	mov	r6,a
   0556 8E*08              1578 	mov	(_telegramm + 0x0001),r6
                           1579 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:452: telegramm[2]=eeprom[ADDRTAB+2];
   0558 90 1D 18           1580 	mov	dptr,#(_eeprom + 0x0018)
   055B E4                 1581 	clr	a
   055C 93                 1582 	movc	a,@a+dptr
   055D FE                 1583 	mov	r6,a
   055E 8E*09              1584 	mov	(_telegramm + 0x0002),r6
                           1585 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:453: telegramm[3]=conh;
   0560 85*00*0A           1586 	mov	(_telegramm + 0x0003),_conh
                           1587 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:454: telegramm[4]=conl;
   0563 85*01*0B           1588 	mov	(_telegramm + 0x0004),_conl
                           1589 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:456: switch(objno&0x1F) {
   0566 53 07 1F           1590 	anl	ar7,#0x1F
   0569 EF                 1591 	mov	a,r7
   056A 24 FA              1592 	add	a,#0xff - 0x05
   056C 50 03              1593 	jnc	00178$
   056E 02s06r2A           1594 	ljmp	00128$
   0571                    1595 00178$:
   0571 EF                 1596 	mov	a,r7
   0572 2F                 1597 	add	a,r7
   0573 2F                 1598 	add	a,r7
   0574 90s05r78           1599 	mov	dptr,#00179$
   0577 73                 1600 	jmp	@a+dptr
   0578                    1601 00179$:
   0578 02s06r2A           1602 	ljmp	00128$
   057B 02s05r8A           1603 	ljmp	00118$
   057E 02s05r96           1604 	ljmp	00119$
   0581 02s05rAD           1605 	ljmp	00120$
   0584 02s05rBE           1606 	ljmp	00121$
   0587 02s06r24           1607 	ljmp	00127$
                           1608 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:457: case 1:	// NCD ACK Quittierung (129)
   058A                    1609 00118$:
                           1610 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:458: telegramm[5]=0x60;					// DRL
   058A 75*0C 60           1611 	mov	(_telegramm + 0x0005),#0x60
                           1612 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:459: telegramm[6]=senders_pcount + 0xC2;	// Bit 6,7(TCPI = 11 NCD Quittierung) und Bit 0,1 (10=ACK)
   058D 74 C2              1613 	mov	a,#0xC2
   058F 25*06              1614 	add	a,_senders_pcount
   0591 F5*0D              1615 	mov	(_telegramm + 0x0006),a
                           1616 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:461: break;
   0593 02s06r2A           1617 	ljmp	00128$
                           1618 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:462: case 2:	// read mask response (130)
   0596                    1619 00119$:
                           1620 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:463: telegramm[5]=0x63;					// DRL
   0596 75*0C 63           1621 	mov	(_telegramm + 0x0005),#0x63
                           1622 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:464: telegramm[6]=pcount + 0x43;			// bei response immer eigene Paketnummer senden
   0599 74 43              1623 	mov	a,#0x43
   059B 25*02              1624 	add	a,_pcount
   059D F5*0D              1625 	mov	(_telegramm + 0x0006),a
                           1626 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:465: telegramm[7]=0x40;
   059F 75*0E 40           1627 	mov	(_telegramm + 0x0007),#0x40
                           1628 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:466: telegramm[8]=0x00;
   05A2 75*0F 00           1629 	mov	(_telegramm + 0x0008),#0x00
                           1630 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:467: telegramm[9]=0x12;					// Maskenversion 1 = BCU1
   05A5 75*10 12           1631 	mov	(_telegramm + 0x0009),#0x12
                           1632 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:468: inc_pcount=1;
   05A8 D2*0F              1633 	setb	_inc_pcount
                           1634 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:469: break;
   05AA 02s06r2A           1635 	ljmp	00128$
                           1636 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:470: case 3:	// read PA response (131)
   05AD                    1637 00120$:
                           1638 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:471: telegramm[3]=0x00;			// Zieladresse auf 0000, da Broadcast
   05AD 75*0A 00           1639 	mov	(_telegramm + 0x0003),#0x00
                           1640 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:472: telegramm[4]=0x00;
   05B0 75*0B 00           1641 	mov	(_telegramm + 0x0004),#0x00
                           1642 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:473: telegramm[5]=0xE1;			// DRL
   05B3 75*0C E1           1643 	mov	(_telegramm + 0x0005),#0xE1
                           1644 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:474: telegramm[6]=0x01;
   05B6 75*0D 01           1645 	mov	(_telegramm + 0x0006),#0x01
                           1646 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:475: telegramm[7]=0x40;
   05B9 75*0E 40           1647 	mov	(_telegramm + 0x0007),#0x40
                           1648 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:476: break;
                           1649 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:477: case 4:	// memory_read_response (132)
   05BC 80 6C              1650 	sjmp	00128$
   05BE                    1651 00121$:
                           1652 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:478: for(n=0;n<mem_length;n++) {
   05BE 7F 00              1653 	mov	r7,#0x00
   05C0                    1654 00134$:
   05C0 C3                 1655 	clr	c
   05C1 EF                 1656 	mov	a,r7
   05C2 95*03              1657 	subb	a,_mem_length
   05C4 50 42              1658 	jnc	00137$
                           1659 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:479: if (mem_adrh==0) {
   05C6 E5*04              1660 	mov	a,_mem_adrh
   05C8 70 2C              1661 	jnz	00125$
                           1662 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:480: telegramm[n+10]=userram[mem_adrl+n];
   05CA 74 0A              1663 	mov	a,#0x0A
   05CC 2F                 1664 	add	a,r7
   05CD 24r07              1665 	add	a,#_telegramm
   05CF F9                 1666 	mov	r1,a
   05D0 EF                 1667 	mov	a,r7
   05D1 25*05              1668 	add	a,_mem_adrl
   05D3 90 1C 00           1669 	mov	dptr,#_userram
   05D6 93                 1670 	movc	a,@a+dptr
   05D7 F7                 1671 	mov	@r1,a
                           1672 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:481: if(mem_adrl+n==0x60) telegramm[n+10]=status60;	// ausser bei 0x60
   05D8 AD*05              1673 	mov	r5,_mem_adrl
   05DA 7E 00              1674 	mov	r6,#0x00
   05DC 8F 03              1675 	mov	ar3,r7
   05DE 7C 00              1676 	mov	r4,#0x00
   05E0 EB                 1677 	mov	a,r3
   05E1 2D                 1678 	add	a,r5
   05E2 FD                 1679 	mov	r5,a
   05E3 EC                 1680 	mov	a,r4
   05E4 3E                 1681 	addc	a,r6
   05E5 FE                 1682 	mov	r6,a
   05E6 BD 60 1C           1683 	cjne	r5,#0x60,00136$
   05E9 BE 00 19           1684 	cjne	r6,#0x00,00136$
   05EC 74 0A              1685 	mov	a,#0x0A
   05EE 2F                 1686 	add	a,r7
   05EF 24r07              1687 	add	a,#_telegramm
   05F1 F8                 1688 	mov	r0,a
   05F2 A6*2E              1689 	mov	@r0,_status60
   05F4 80 0F              1690 	sjmp	00136$
   05F6                    1691 00125$:
                           1692 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:483: else telegramm[n+10]=eeprom[mem_adrl+n];
   05F6 74 0A              1693 	mov	a,#0x0A
   05F8 2F                 1694 	add	a,r7
   05F9 24r07              1695 	add	a,#_telegramm
   05FB F9                 1696 	mov	r1,a
   05FC EF                 1697 	mov	a,r7
   05FD 25*05              1698 	add	a,_mem_adrl
   05FF 90 1D 00           1699 	mov	dptr,#_eeprom
   0602 93                 1700 	movc	a,@a+dptr
   0603 FE                 1701 	mov	r6,a
   0604 F7                 1702 	mov	@r1,a
   0605                    1703 00136$:
                           1704 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:478: for(n=0;n<mem_length;n++) {
   0605 0F                 1705 	inc	r7
   0606 80 B8              1706 	sjmp	00134$
   0608                    1707 00137$:
                           1708 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:485: telegramm[5]=mem_length+0x63;		// DRL (Anzahl Bytes + 3)
   0608 74 63              1709 	mov	a,#0x63
   060A 25*03              1710 	add	a,_mem_length
   060C F5*0C              1711 	mov	(_telegramm + 0x0005),a
                           1712 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:486: telegramm[6]=pcount|0x42;			// eigener Paketzaehler, TCPI und ersten beiden Befehlsbits
   060E 74 42              1713 	mov	a,#0x42
   0610 45*02              1714 	orl	a,_pcount
   0612 F5*0D              1715 	mov	(_telegramm + 0x0006),a
                           1716 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:487: telegramm[7]=mem_length|0x40;		// letzten 2 Befehlsbits
   0614 74 40              1717 	mov	a,#0x40
   0616 45*03              1718 	orl	a,_mem_length
   0618 F5*0E              1719 	mov	(_telegramm + 0x0007),a
                           1720 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:488: telegramm[8]=mem_adrh;
   061A 85*04*0F           1721 	mov	(_telegramm + 0x0008),_mem_adrh
                           1722 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:489: telegramm[9]=mem_adrl;
   061D 85*05*10           1723 	mov	(_telegramm + 0x0009),_mem_adrl
                           1724 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:490: inc_pcount=1;
   0620 D2*0F              1725 	setb	_inc_pcount
                           1726 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:491: break;
                           1727 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:492: case 5:	// T-disconnect (133)
   0622 80 06              1728 	sjmp	00128$
   0624                    1729 00127$:
                           1730 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:493: telegramm[5]=0x60;
   0624 75*0C 60           1731 	mov	(_telegramm + 0x0005),#0x60
                           1732 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:494: telegramm[6]=0x81;
   0627 75*0D 81           1733 	mov	(_telegramm + 0x0006),#0x81
                           1734 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:496: }
   062A                    1735 00128$:
                           1736 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:497: build_ok=1;
   062A D2*00              1737 	setb	b0
   062C                    1738 00131$:
                           1739 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:499: if(repeatflag) telegramm[0]&=0xDF;		// Wiederholungsbit löschen für Wiederholtelegramm
   062C 30*00 06           1740 	jnb	b1,00133$
   062F 74 DF              1741 	mov	a,#0xDF
   0631 55*07              1742 	anl	a,_telegramm
   0633 F5*07              1743 	mov	_telegramm,a
   0635                    1744 00133$:
                           1745 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:500: return(build_ok);
   0635 A2*00              1746 	mov	c,b0
   0637 85*00 81           1747 	mov	sp,_bp
   063A D0*00              1748 	pop	_bp
   063C 22                 1749 	ret
                           1750 ;------------------------------------------------------------
                           1751 ;Allocation info for local variables in function 'send_obj_value'
                           1752 ;------------------------------------------------------------
                           1753 ;objno                     Allocated to registers r7 
                           1754 ;success                   Allocated to registers b0 
                           1755 ;------------------------------------------------------------
                           1756 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:504: __bit send_obj_value(unsigned char objno)
                           1757 ;	-----------------------------------------
                           1758 ;	 function send_obj_value
                           1759 ;	-----------------------------------------
   063D                    1760 _send_obj_value:
   063D AF 82              1761 	mov	r7,dpl
                           1762 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:506: __bit success=0;
   063F C2*00              1763 	clr	b0
                           1764 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:508: if(tx_nextsend!=((tx_nextwrite+1)&0x07)) {
   0641 AD*2C              1765 	mov	r5,_tx_nextwrite
   0643 7E 00              1766 	mov	r6,#0x00
   0645 0D                 1767 	inc	r5
   0646 BD 00 01           1768 	cjne	r5,#0x00,00107$
   0649 0E                 1769 	inc	r6
   064A                    1770 00107$:
   064A 53 05 07           1771 	anl	ar5,#0x07
   064D 7E 00              1772 	mov	r6,#0x00
   064F AB*2D              1773 	mov	r3,_tx_nextsend
   0651 7C 00              1774 	mov	r4,#0x00
   0653 EB                 1775 	mov	a,r3
   0654 B5 05 06           1776 	cjne	a,ar5,00108$
   0657 EC                 1777 	mov	a,r4
   0658 B5 06 02           1778 	cjne	a,ar6,00108$
   065B 80 0E              1779 	sjmp	00102$
   065D                    1780 00108$:
                           1781 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:509: tx_buffer[tx_nextwrite]=objno;
   065D E5*2C              1782 	mov	a,_tx_nextwrite
   065F 24r1E              1783 	add	a,#_tx_buffer
   0661 F8                 1784 	mov	r0,a
   0662 A6 07              1785 	mov	@r0,ar7
                           1786 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:510: tx_nextwrite++;
   0664 05*2C              1787 	inc	_tx_nextwrite
                           1788 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:511: tx_nextwrite&=0x07;
   0666 53*2C 07           1789 	anl	_tx_nextwrite,#0x07
                           1790 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:512: success=1;
   0669 D2*00              1791 	setb	b0
   066B                    1792 00102$:
                           1793 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:514: TR1=1;	// statemachine starten falls vorher in state 0 gestoppt
   066B D2 8E              1794 	setb	_TCON_6
                           1795 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:515: return(success);
   066D A2*00              1796 	mov	c,b0
   066F 22                 1797 	ret
                           1798 ;------------------------------------------------------------
                           1799 ;Allocation info for local variables in function 'process_tel'
                           1800 ;------------------------------------------------------------
                           1801 ;tpdu                      Allocated to registers r6 
                           1802 ;apdu                      Allocated to registers r5 
                           1803 ;------------------------------------------------------------
                           1804 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:521: void process_tel(void)
                           1805 ;	-----------------------------------------
                           1806 ;	 function process_tel
                           1807 ;	-----------------------------------------
   0670                    1808 _process_tel:
                           1809 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:525: tel_arrived=0;
   0670 C2*06              1810 	clr	_tel_arrived
                           1811 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:526: tpdu=telegramm[6]&0xC3;
   0672 AF*0D              1812 	mov	r7,(_telegramm + 0x0006)
   0674 74 C3              1813 	mov	a,#0xC3
   0676 5F                 1814 	anl	a,r7
   0677 FE                 1815 	mov	r6,a
                           1816 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:527: apdu=telegramm[7];
   0678 AD*0E              1817 	mov	r5,(_telegramm + 0x0007)
                           1818 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:530: if(telegramm[3]==0 && telegramm[4]==0) {	// nur wenn wenn Zieladresse = 0
   067A E5*0A              1819 	mov	a,(_telegramm + 0x0003)
   067C FC                 1820 	mov	r4,a
   067D 70 2B              1821 	jnz	00142$
   067F E5*0B              1822 	mov	a,(_telegramm + 0x0004)
   0681 70 27              1823 	jnz	00142$
                           1824 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:531: if(status60 & 0x01) {					// und nur im prog mode
   0683 E5*2E              1825 	mov	a,_status60
   0685 20 E0 01           1826 	jb	acc.0,00201$
   0688 22                 1827 	ret
   0689                    1828 00201$:
                           1829 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:532: if(tpdu==BROADCAST_PDU_SET_PA_REQ && apdu==SET_PHYSADDR_REQUEST) set_pa();				// 00000000 11000000
   0689 EE                 1830 	mov	a,r6
   068A 70 0E              1831 	jnz	00102$
   068C BD C0 0B           1832 	cjne	r5,#0xC0,00102$
   068F C0 06              1833 	push	ar6
   0691 C0 05              1834 	push	ar5
   0693 12s08r4E           1835 	lcall	_set_pa
   0696 D0 05              1836 	pop	ar5
   0698 D0 06              1837 	pop	ar6
   069A                    1838 00102$:
                           1839 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:533: if(tpdu==BROADCAST_PDU_READ_PA && apdu==READ_PHYSADDR_REQUEST) send_obj_value(READ_PHYSADDR_RESPONSE);	// 00000001 00000000
   069A BE 01 02           1840 	cjne	r6,#0x01,00205$
   069D 80 01              1841 	sjmp	00206$
   069F                    1842 00205$:
   069F 22                 1843 	ret
   06A0                    1844 00206$:
   06A0 ED                 1845 	mov	a,r5
   06A1 60 01              1846 	jz	00207$
   06A3 22                 1847 	ret
   06A4                    1848 00207$:
   06A4 75 82 83           1849 	mov	dpl,#0x83
   06A7 02s06r3D           1850 	ljmp	_send_obj_value
   06AA                    1851 00142$:
                           1852 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:538: if((telegramm[5]&0x80)==0x00) {	// Destination Adress Flag Bit 7, 0=phys. Adr., 1=Gruppenadr.
   06AA E5*0C              1853 	mov	a,(_telegramm + 0x0005)
   06AC 30 E7 03           1854 	jnb	acc.7,00208$
   06AF 02s07r56           1855 	ljmp	00139$
   06B2                    1856 00208$:
                           1857 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:539: if(telegramm[3]==eeprom[ADDRTAB+1] && telegramm[4]==eeprom[ADDRTAB+2]) {	// nur wenn es die eigene phys. Adr. ist
   06B2 90 1D 17           1858 	mov	dptr,#(_eeprom + 0x0017)
   06B5 E4                 1859 	clr	a
   06B6 93                 1860 	movc	a,@a+dptr
   06B7 FB                 1861 	mov	r3,a
   06B8 EC                 1862 	mov	a,r4
   06B9 B5 03 02           1863 	cjne	a,ar3,00209$
   06BC 80 01              1864 	sjmp	00210$
   06BE                    1865 00209$:
   06BE 22                 1866 	ret
   06BF                    1867 00210$:
   06BF 90 1D 18           1868 	mov	dptr,#(_eeprom + 0x0018)
   06C2 E4                 1869 	clr	a
   06C3 93                 1870 	movc	a,@a+dptr
   06C4 FC                 1871 	mov	r4,a
   06C5 B5*0B 02           1872 	cjne	a,(_telegramm + 0x0004),00211$
   06C8 80 01              1873 	sjmp	00212$
   06CA                    1874 00211$:
   06CA 22                 1875 	ret
   06CB                    1876 00212$:
                           1877 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:543: switch (tpdu) {	// transport layer control field
   06CB BE 42 02           1878 	cjne	r6,#0x42,00213$
   06CE 80 15              1879 	sjmp	00109$
   06D0                    1880 00213$:
   06D0 BE 43 02           1881 	cjne	r6,#0x43,00214$
   06D3 80 41              1882 	sjmp	00114$
   06D5                    1883 00214$:
   06D5 BE 80 02           1884 	cjne	r6,#0x80,00215$
   06D8 80 56              1885 	sjmp	00119$
   06DA                    1886 00215$:
   06DA BE 81 02           1887 	cjne	r6,#0x81,00216$
   06DD 80 62              1888 	sjmp	00122$
   06DF                    1889 00216$:
   06DF BE 83 02           1890 	cjne	r6,#0x83,00217$
   06E2 80 6C              1891 	sjmp	00127$
   06E4                    1892 00217$:
   06E4 22                 1893 	ret
                           1894 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:545: case DATA_PDU_MEMORY_OPERATIONS:
   06E5                    1895 00109$:
                           1896 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:546: senders_pcount=telegramm[6]&0x3C;
   06E5 74 3C              1897 	mov	a,#0x3C
   06E7 5F                 1898 	anl	a,r7
   06E8 F5*06              1899 	mov	_senders_pcount,a
                           1900 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:547: apdu &= 0xF0;						// da bei memory operations nur obere 4 Bits aktiv
   06EA 53 05 F0           1901 	anl	ar5,#0xF0
                           1902 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:548: if(apdu==WRITE_MEMORY_REQUEST) {	// 01pppp10 1000xxxx
   06ED BD 80 0D           1903 	cjne	r5,#0x80,00111$
                           1904 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:549: send_obj_value(NCD_ACK);
   06F0 75 82 81           1905 	mov	dpl,#0x81
   06F3 C0 05              1906 	push	ar5
   06F5 12s06r3D           1907 	lcall	_send_obj_value
                           1908 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:550: write_memory();
   06F8 12s07r6E           1909 	lcall	_write_memory
   06FB D0 05              1910 	pop	ar5
   06FD                    1911 00111$:
                           1912 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:552: if(apdu==READ_MEMORY_REQUEST) {		// 01pppp10 0000xxxx
   06FD ED                 1913 	mov	a,r5
   06FE 60 01              1914 	jz	00220$
   0700 22                 1915 	ret
   0701                    1916 00220$:
                           1917 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:553: mem_length=telegramm[7];		// Anzahl Bytes für späteres(!) memory Auslesen
   0701 85*0E*03           1918 	mov	_mem_length,(_telegramm + 0x0007)
                           1919 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:554: mem_adrh = telegramm[8];		// Adresse
   0704 85*0F*04           1920 	mov	_mem_adrh,(_telegramm + 0x0008)
                           1921 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:555: mem_adrl = telegramm[9];
   0707 85*10*05           1922 	mov	_mem_adrl,(_telegramm + 0x0009)
                           1923 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:556: send_obj_value(NCD_ACK);
   070A 75 82 81           1924 	mov	dpl,#0x81
   070D 12s06r3D           1925 	lcall	_send_obj_value
                           1926 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:557: send_obj_value(READ_MEMORY_RESPONSE);
   0710 75 82 84           1927 	mov	dpl,#0x84
                           1928 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:559: break;
                           1929 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:561: case DATA_PDU_MISC_OPERATIONS:
   0713 02s06r3D           1930 	ljmp	_send_obj_value
   0716                    1931 00114$:
                           1932 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:562: senders_pcount=telegramm[6]&0x3C;
   0716 74 3C              1933 	mov	a,#0x3C
   0718 5F                 1934 	anl	a,r7
   0719 F5*06              1935 	mov	_senders_pcount,a
                           1936 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:563: if(apdu==RESTART_REQUEST) {		// 01pppp11 10000000
   071B BD 80 03           1937 	cjne	r5,#0x80,00116$
                           1938 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:564: AUXR1|=0x08;				// Software Reset
   071E 43 A2 08           1939 	orl	_AUXR1,#0x08
   0721                    1940 00116$:
                           1941 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:566: if(apdu==READ_MASK_VERSION_REQUEST) {		// 01pppp11 00000000
   0721 ED                 1942 	mov	a,r5
   0722 70 49              1943 	jnz	00145$
                           1944 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:567: send_obj_value(NCD_ACK);
   0724 75 82 81           1945 	mov	dpl,#0x81
   0727 12s06r3D           1946 	lcall	_send_obj_value
                           1947 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:568: send_obj_value(READ_MASK_VERSION_RESPONSE);
   072A 75 82 82           1948 	mov	dpl,#0x82
                           1949 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:570: break;
                           1950 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:572: case CONNECT_PDU:	// 10000000 xxxxxxxx
   072D 02s06r3D           1951 	ljmp	_send_obj_value
   0730                    1952 00119$:
                           1953 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:573: if(!connected) {				// wenn bereits verbunden: ignorieren
   0730 20*0E 3A           1954 	jb	_connected,00145$
                           1955 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:574: connected=1;
   0733 D2*0E              1956 	setb	_connected
                           1957 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:575: conh=telegramm[1];			// phys. Adresse des Verbindungspartners
   0735 85*08*00           1958 	mov	_conh,(_telegramm + 0x0001)
                           1959 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:576: conl=telegramm[2];
   0738 85*09*01           1960 	mov	_conl,(_telegramm + 0x0002)
                           1961 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:577: pcount=0;					// Paketzaehler zuruecksetzen
   073B 75*02 00           1962 	mov	_pcount,#0x00
                           1963 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:578: inc_pcount=0;
   073E C2*0F              1964 	clr	_inc_pcount
                           1965 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:580: break;
                           1966 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:582: case DISCONNECT_PDU:	// 10000001 xxxxxxxx
   0740 22                 1967 	ret
   0741                    1968 00122$:
                           1969 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:583: if(conh==telegramm[1] && conl==telegramm[2] && connected)	{	// nur abbauen, wenn verbunden und Anforderung vom Verbindungspartner, kein ACK senden
   0741 E5*08              1970 	mov	a,(_telegramm + 0x0001)
   0743 B5*00 27           1971 	cjne	a,_conh,00145$
   0746 E5*09              1972 	mov	a,(_telegramm + 0x0002)
   0748 B5*01 22           1973 	cjne	a,_conl,00145$
                           1974 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:584: connected=0;
   074B 10*0E 01           1975 	jbc	_connected,00229$
   074E 22                 1976 	ret
   074F                    1977 00229$:
                           1978 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:588: break;
                           1979 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:590: case NACK_PDU:	// 11pppp11 xxxxxxxx
   074F 22                 1980 	ret
   0750                    1981 00127$:
                           1982 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:591: send_obj_value(T_DISCONNECT);
   0750 75 82 85           1983 	mov	dpl,#0x85
                           1984 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:593: }
   0753 02s06r3D           1985 	ljmp	_send_obj_value
   0756                    1986 00139$:
                           1987 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:599: if(tpdu==GROUP_PDU){
   0756 EE                 1988 	mov	a,r6
   0757 70 14              1989 	jnz	00145$
                           1990 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:600: if((apdu&0xC0)==WRITE_GROUP) write_value_req();	// Objektwerte schreiben (zB. EISx)		00000000 10xxxxxx
   0759 74 C0              1991 	mov	a,#0xC0
   075B 5D                 1992 	anl	a,r5
   075C FF                 1993 	mov	r7,a
   075D BF 80 07           1994 	cjne	r7,#0x80,00133$
   0760 C0 05              1995 	push	ar5
   0762 12s00r00           1996 	lcall	_write_value_req
   0765 D0 05              1997 	pop	ar5
   0767                    1998 00133$:
                           1999 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:601: if(apdu==READ_GROUP_REQUEST) read_value_req();	// Objektwert lesen und read_value_response senden	00000000 00000000
   0767 ED                 2000 	mov	a,r5
   0768 70 03              2001 	jnz	00145$
   076A 02s00r00           2002 	ljmp	_read_value_req
   076D                    2003 00145$:
   076D 22                 2004 	ret
                           2005 ;------------------------------------------------------------
                           2006 ;Allocation info for local variables in function 'write_memory'
                           2007 ;------------------------------------------------------------
                           2008 ;ab                        Allocated to stack - _bp +1
                           2009 ;n                         Allocated to stack - _bp +2
                           2010 ;sloc0                     Allocated to stack - _bp +3
                           2011 ;------------------------------------------------------------
                           2012 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:612: void write_memory(void)
                           2013 ;	-----------------------------------------
                           2014 ;	 function write_memory
                           2015 ;	-----------------------------------------
   076E                    2016 _write_memory:
   076E C0*00              2017 	push	_bp
   0770 E5 81              2018 	mov	a,sp
   0772 F5*00              2019 	mov	_bp,a
   0774 24 04              2020 	add	a,#0x04
   0776 F5 81              2021 	mov	sp,a
                           2022 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:616: ab=telegramm[7]&0x0F;		// Anzahl Bytes
   0778 A8*00              2023 	mov	r0,_bp
   077A 08                 2024 	inc	r0
   077B 74 0F              2025 	mov	a,#0x0F
   077D 55*0E              2026 	anl	a,(_telegramm + 0x0007)
   077F F6                 2027 	mov	@r0,a
                           2028 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:618: while(fb_state!=0);					// warten falls noch gesendet wird
   0780                    2029 00101$:
   0780 E5*2A              2030 	mov	a,_fb_state
   0782 70 FC              2031 	jnz	00101$
                           2032 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:620: EA=0;
   0784 C2 AF              2033 	clr	_IEN0_7
                           2034 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:621: START_WRITECYCLE;					// load command, leert das pageregister
   0786 75 E4 00           2035 	mov	_FMCON,#0x00
                           2036 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:622: for(n=0;n<ab;n++) {
   0789 AE*10              2037 	mov	r6,(_telegramm + 0x0009)
   078B AD*0F              2038 	mov	r5,(_telegramm + 0x0008)
   078D 74 01              2039 	mov	a,#0x01
   078F 5D                 2040 	anl	a,r5
   0790 24 1C              2041 	add	a,#0x1C
   0792 FC                 2042 	mov	r4,a
   0793 A8*00              2043 	mov	r0,_bp
   0795 08                 2044 	inc	r0
   0796 08                 2045 	inc	r0
   0797 76 00              2046 	mov	@r0,#0x00
   0799                    2047 00111$:
   0799 A8*00              2048 	mov	r0,_bp
   079B 08                 2049 	inc	r0
   079C 08                 2050 	inc	r0
   079D A9*00              2051 	mov	r1,_bp
   079F 09                 2052 	inc	r1
   07A0 C3                 2053 	clr	c
   07A1 E6                 2054 	mov	a,@r0
   07A2 97                 2055 	subb	a,@r1
   07A3 40 03              2056 	jc	00135$
   07A5 02s08r43           2057 	ljmp	00114$
   07A8                    2058 00135$:
                           2059 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:623: if(telegramm[8]==0 && (telegramm[9]+n)==0x60) status60=telegramm[10+n];
   07A8 ED                 2060 	mov	a,r5
   07A9 70 30              2061 	jnz	00105$
   07AB C0 04              2062 	push	ar4
   07AD 8E 02              2063 	mov	ar2,r6
   07AF 7C 00              2064 	mov	r4,#0x00
   07B1 A8*00              2065 	mov	r0,_bp
   07B3 08                 2066 	inc	r0
   07B4 08                 2067 	inc	r0
   07B5 86 03              2068 	mov	ar3,@r0
   07B7 7F 00              2069 	mov	r7,#0x00
   07B9 EB                 2070 	mov	a,r3
   07BA 2A                 2071 	add	a,r2
   07BB FA                 2072 	mov	r2,a
   07BC EF                 2073 	mov	a,r7
   07BD 3C                 2074 	addc	a,r4
   07BE FC                 2075 	mov	r4,a
   07BF BA 60 05           2076 	cjne	r2,#0x60,00137$
   07C2 BC 00 02           2077 	cjne	r4,#0x00,00137$
   07C5 80 04              2078 	sjmp	00138$
   07C7                    2079 00137$:
   07C7 D0 04              2080 	pop	ar4
   07C9 80 10              2081 	sjmp	00105$
   07CB                    2082 00138$:
   07CB D0 04              2083 	pop	ar4
   07CD A8*00              2084 	mov	r0,_bp
   07CF 08                 2085 	inc	r0
   07D0 08                 2086 	inc	r0
   07D1 74 0A              2087 	mov	a,#0x0A
   07D3 26                 2088 	add	a,@r0
   07D4 24r07              2089 	add	a,#_telegramm
   07D6 F9                 2090 	mov	r1,a
   07D7 87*2E              2091 	mov	_status60,@r1
   07D9 80 02              2092 	sjmp	00106$
   07DB                    2093 00105$:
                           2094 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:624: else WRITE_BYTE(telegramm[8],telegramm[9]+n,telegramm[n+10]);
   07DB 8C E7              2095 	mov	_FMADRH,r4
   07DD                    2096 00106$:
   07DD A8*00              2097 	mov	r0,_bp
   07DF 08                 2098 	inc	r0
   07E0 08                 2099 	inc	r0
   07E1 E6                 2100 	mov	a,@r0
   07E2 2E                 2101 	add	a,r6
   07E3 F5 E6              2102 	mov	_FMADRL,a
   07E5 A8*00              2103 	mov	r0,_bp
   07E7 08                 2104 	inc	r0
   07E8 08                 2105 	inc	r0
   07E9 74 0A              2106 	mov	a,#0x0A
   07EB 26                 2107 	add	a,@r0
   07EC 24r07              2108 	add	a,#_telegramm
   07EE F9                 2109 	mov	r1,a
   07EF 87 E5              2110 	mov	_FMDATA,@r1
                           2111 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:626: if ((((telegramm[9]+n)&0x3F)==0x3F) && n!=(ab-1)) {		// Ende des 64-Byte Pageregisters, also zwischendurch flashen
   07F1 8E 03              2112 	mov	ar3,r6
   07F3 7F 00              2113 	mov	r7,#0x00
   07F5 A8*00              2114 	mov	r0,_bp
   07F7 08                 2115 	inc	r0
   07F8 08                 2116 	inc	r0
   07F9 E5*00              2117 	mov	a,_bp
   07FB 24 03              2118 	add	a,#0x03
   07FD F9                 2119 	mov	r1,a
   07FE E6                 2120 	mov	a,@r0
   07FF F7                 2121 	mov	@r1,a
   0800 09                 2122 	inc	r1
   0801 77 00              2123 	mov	@r1,#0x00
   0803 E5*00              2124 	mov	a,_bp
   0805 24 03              2125 	add	a,#0x03
   0807 F8                 2126 	mov	r0,a
   0808 E6                 2127 	mov	a,@r0
   0809 2B                 2128 	add	a,r3
   080A FB                 2129 	mov	r3,a
   080B 08                 2130 	inc	r0
   080C E6                 2131 	mov	a,@r0
   080D 3F                 2132 	addc	a,r7
   080E 53 03 3F           2133 	anl	ar3,#0x3F
   0811 7F 00              2134 	mov	r7,#0x00
   0813 BB 3F 25           2135 	cjne	r3,#0x3F,00113$
   0816 BF 00 22           2136 	cjne	r7,#0x00,00113$
   0819 A8*00              2137 	mov	r0,_bp
   081B 08                 2138 	inc	r0
   081C 86 03              2139 	mov	ar3,@r0
   081E 7F 00              2140 	mov	r7,#0x00
   0820 1B                 2141 	dec	r3
   0821 BB FF 01           2142 	cjne	r3,#0xFF,00141$
   0824 1F                 2143 	dec	r7
   0825                    2144 00141$:
   0825 E5*00              2145 	mov	a,_bp
   0827 24 03              2146 	add	a,#0x03
   0829 F8                 2147 	mov	r0,a
   082A E6                 2148 	mov	a,@r0
   082B B5 03 07           2149 	cjne	a,ar3,00142$
   082E 08                 2150 	inc	r0
   082F E6                 2151 	mov	a,@r0
   0830 B5 07 02           2152 	cjne	a,ar7,00142$
   0833 80 06              2153 	sjmp	00113$
   0835                    2154 00142$:
                           2155 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:627: STOP_WRITECYCLE;			// write command, schreibt pageregister ins flash und versetzt CPU in idle fuer 4ms
   0835 75 E4 68           2156 	mov	_FMCON,#0x68
                           2157 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:628: START_WRITECYCLE;		// load command, leert das pageregister
   0838 75 E4 00           2158 	mov	_FMCON,#0x00
   083B                    2159 00113$:
                           2160 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:622: for(n=0;n<ab;n++) {
   083B A8*00              2161 	mov	r0,_bp
   083D 08                 2162 	inc	r0
   083E 08                 2163 	inc	r0
   083F 06                 2164 	inc	@r0
   0840 02s07r99           2165 	ljmp	00111$
   0843                    2166 00114$:
                           2167 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:631: STOP_WRITECYCLE;					// write command, schreibt pageregister ins flash und versetzt CPU in idle fuer 4ms
   0843 75 E4 68           2168 	mov	_FMCON,#0x68
                           2169 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:632: EA=1;
   0846 D2 AF              2170 	setb	_IEN0_7
   0848 85*00 81           2171 	mov	sp,_bp
   084B D0*00              2172 	pop	_bp
   084D 22                 2173 	ret
                           2174 ;------------------------------------------------------------
                           2175 ;Allocation info for local variables in function 'set_pa'
                           2176 ;------------------------------------------------------------
                           2177 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:637: void set_pa(void)
                           2178 ;	-----------------------------------------
                           2179 ;	 function set_pa
                           2180 ;	-----------------------------------------
   084E                    2181 _set_pa:
                           2182 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:639: while(fb_state!=0);		// warten falls noch gesendet wird
   084E                    2183 00101$:
   084E E5*2A              2184 	mov	a,_fb_state
   0850 70 FC              2185 	jnz	00101$
                           2186 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:640: EA=0;
   0852 C2 AF              2187 	clr	_IEN0_7
                           2188 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:641: FMCON=0x00;				// load command, leert das pageregister
   0854 75 E4 00           2189 	mov	_FMCON,#0x00
                           2190 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:642: FMADRH=0x1D;
   0857 75 E7 1D           2191 	mov	_FMADRH,#0x1D
                           2192 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:643: FMADRL=ADDRTAB+1;
   085A 75 E6 17           2193 	mov	_FMADRL,#0x17
                           2194 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:644: FMDATA=telegramm[8];
   085D 85*0F E5           2195 	mov	_FMDATA,(_telegramm + 0x0008)
                           2196 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:645: FMDATA=telegramm[9];	// nächstes Byte, da autoinkrement
   0860 85*10 E5           2197 	mov	_FMDATA,(_telegramm + 0x0009)
                           2198 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:646: FMCON=0x68;				// write command, schreibt pageregister ins flash und versetzt CPU in idle fuer 4ms
   0863 75 E4 68           2199 	mov	_FMCON,#0x68
                           2200 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:647: EA=1;
   0866 D2 AF              2201 	setb	_IEN0_7
   0868 22                 2202 	ret
                           2203 ;------------------------------------------------------------
                           2204 ;Allocation info for local variables in function 'read_objflags'
                           2205 ;------------------------------------------------------------
                           2206 ;objno                     Allocated to registers r7 
                           2207 ;------------------------------------------------------------
                           2208 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:653: unsigned char read_objflags(unsigned char objno)
                           2209 ;	-----------------------------------------
                           2210 ;	 function read_objflags
                           2211 ;	-----------------------------------------
   0869                    2212 _read_objflags:
   0869 AF 82              2213 	mov	r7,dpl
                           2214 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:655: return(eeprom[eeprom[COMMSTABPTR]+3+3*objno]);
   086B 90 1D 12           2215 	mov	dptr,#(_eeprom + 0x0012)
   086E E4                 2216 	clr	a
   086F 93                 2217 	movc	a,@a+dptr
   0870 FE                 2218 	mov	r6,a
   0871 0E                 2219 	inc	r6
   0872 0E                 2220 	inc	r6
   0873 0E                 2221 	inc	r6
   0874 EF                 2222 	mov	a,r7
   0875 75 F0 03           2223 	mov	b,#0x03
   0878 A4                 2224 	mul	ab
   0879 2E                 2225 	add	a,r6
   087A 90 1D 00           2226 	mov	dptr,#_eeprom
   087D 93                 2227 	movc	a,@a+dptr
   087E F5 82              2228 	mov	dpl,a
   0880 22                 2229 	ret
                           2230 ;------------------------------------------------------------
                           2231 ;Allocation info for local variables in function 'find_first_objno'
                           2232 ;------------------------------------------------------------
                           2233 ;gal                       Allocated to stack - _bp -3
                           2234 ;gah                       Allocated to registers r7 
                           2235 ;gaposgat                  Allocated to registers r7 
                           2236 ;gaposass                  Allocated to registers r2 
                           2237 ;atp                       Allocated to registers r5 
                           2238 ;assmax                    Allocated to registers r4 
                           2239 ;n                         Allocated to registers r3 
                           2240 ;objno                     Allocated to registers r6 
                           2241 ;asspos                    Allocated to registers 
                           2242 ;------------------------------------------------------------
                           2243 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:660: unsigned char find_first_objno(unsigned char gah, unsigned char gal)
                           2244 ;	-----------------------------------------
                           2245 ;	 function find_first_objno
                           2246 ;	-----------------------------------------
   0881                    2247 _find_first_objno:
   0881 C0*00              2248 	push	_bp
   0883 85 81*00           2249 	mov	_bp,sp
   0886 AF 82              2250 	mov	r7,dpl
                           2251 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:664: objno=0xFF;
   0888 7E FF              2252 	mov	r6,#0xFF
                           2253 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:665: gaposgat=gapos_in_gat(gah,gal);
   088A C0 06              2254 	push	ar6
   088C E5*00              2255 	mov	a,_bp
   088E 24 FD              2256 	add	a,#0xfd
   0890 F8                 2257 	mov	r0,a
   0891 E6                 2258 	mov	a,@r0
   0892 C0 E0              2259 	push	acc
   0894 8F 82              2260 	mov	dpl,r7
   0896 12s03rE2           2261 	lcall	_gapos_in_gat
   0899 AF 82              2262 	mov	r7,dpl
   089B 15 81              2263 	dec	sp
   089D D0 06              2264 	pop	ar6
                           2265 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:667: atp=eeprom[ASSOCTABPTR];	// Pointer auf Assoziationstabelle
   089F 90 1D 11           2266 	mov	dptr,#(_eeprom + 0x0011)
   08A2 E4                 2267 	clr	a
   08A3 93                 2268 	movc	a,@a+dptr
                           2269 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:668: assmax=eeprom[atp];			// Anzahl Assoziationen
   08A4 FD                 2270 	mov	r5,a
   08A5 F5 82              2271 	mov	dpl,a
   08A7 75 83 1D           2272 	mov	dph,#(_eeprom >> 8)
   08AA E4                 2273 	clr	a
   08AB 93                 2274 	movc	a,@a+dptr
   08AC FC                 2275 	mov	r4,a
                           2276 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:669: if (gaposgat!=0xFF) {	// falls Gruppenadresse nicht vorhanden
   08AD BF FF 02           2277 	cjne	r7,#0xFF,00119$
   08B0 80 23              2278 	sjmp	00107$
   08B2                    2279 00119$:
                           2280 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:670: n=0;
   08B2 7B 00              2281 	mov	r3,#0x00
                           2282 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:671: asspos=atp+1;
   08B4 0D                 2283 	inc	r5
                           2284 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:672: while(n<assmax) { 	// Schleife ueber Assoziationstabelle
   08B5                    2285 00103$:
   08B5 C3                 2286 	clr	c
   08B6 EB                 2287 	mov	a,r3
   08B7 9C                 2288 	subb	a,r4
   08B8 50 1B              2289 	jnc	00107$
                           2290 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:673: gaposass=eeprom[asspos];
   08BA 8D 82              2291 	mov	dpl,r5
   08BC 75 83 1D           2292 	mov	dph,#(_eeprom >> 8)
   08BF E4                 2293 	clr	a
   08C0 93                 2294 	movc	a,@a+dptr
   08C1 FA                 2295 	mov	r2,a
                           2296 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:674: if(gaposgat==gaposass) {
   08C2 EF                 2297 	mov	a,r7
   08C3 B5 02 0A           2298 	cjne	a,ar2,00102$
                           2299 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:675: objno=eeprom[asspos+1];
   08C6 ED                 2300 	mov	a,r5
   08C7 04                 2301 	inc	a
   08C8 90 1D 00           2302 	mov	dptr,#_eeprom
   08CB 93                 2303 	movc	a,@a+dptr
   08CC FA                 2304 	mov	r2,a
   08CD FE                 2305 	mov	r6,a
                           2306 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:676: n=assmax;
   08CE 8C 03              2307 	mov	ar3,r4
   08D0                    2308 00102$:
                           2309 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:678: n++;
   08D0 0B                 2310 	inc	r3
                           2311 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:679: asspos+=2;
   08D1 0D                 2312 	inc	r5
   08D2 0D                 2313 	inc	r5
   08D3 80 E0              2314 	sjmp	00103$
   08D5                    2315 00107$:
                           2316 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:682: return (objno);
   08D5 8E 82              2317 	mov	dpl,r6
   08D7 D0*00              2318 	pop	_bp
   08D9 22                 2319 	ret
                           2320 ;------------------------------------------------------------
                           2321 ;Allocation info for local variables in function 'find_ga'
                           2322 ;------------------------------------------------------------
                           2323 ;objno                     Allocated to registers r7 
                           2324 ;asstab                    Allocated to registers 
                           2325 ;gapos                     Allocated to registers r6 
                           2326 ;asspos                    Allocated to registers r5 
                           2327 ;ga                        Allocated to registers r7 r5 
                           2328 ;------------------------------------------------------------
                           2329 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:687: unsigned int find_ga(unsigned char objno)
                           2330 ;	-----------------------------------------
                           2331 ;	 function find_ga
                           2332 ;	-----------------------------------------
   08DA                    2333 _find_ga:
   08DA AF 82              2334 	mov	r7,dpl
                           2335 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:692: gapos=0xFE;
   08DC 7E FE              2336 	mov	r6,#0xFE
                           2337 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:693: asstab=eeprom[ASSOCTABPTR];		// Adresse der Assoziationstabelle
   08DE 90 1D 11           2338 	mov	dptr,#(_eeprom + 0x0011)
   08E1 E4                 2339 	clr	a
   08E2 93                 2340 	movc	a,@a+dptr
   08E3 FD                 2341 	mov	r5,a
                           2342 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:694: asspos=asstab+1+2*objno;
   08E4 0D                 2343 	inc	r5
   08E5 EF                 2344 	mov	a,r7
   08E6 2F                 2345 	add	a,r7
   08E7 2D                 2346 	add	a,r5
                           2347 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:696: if(eeprom[asspos+1]==objno) gapos=eeprom[asspos];
   08E8 FD                 2348 	mov	r5,a
   08E9 04                 2349 	inc	a
   08EA 90 1D 00           2350 	mov	dptr,#_eeprom
   08ED 93                 2351 	movc	a,@a+dptr
   08EE FC                 2352 	mov	r4,a
   08EF B5 07 09           2353 	cjne	a,ar7,00102$
   08F2 8D 82              2354 	mov	dpl,r5
   08F4 75 83 1D           2355 	mov	dph,#(_eeprom >> 8)
   08F7 E4                 2356 	clr	a
   08F8 93                 2357 	movc	a,@a+dptr
   08F9 FF                 2358 	mov	r7,a
   08FA FE                 2359 	mov	r6,a
   08FB                    2360 00102$:
                           2361 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:698: if(gapos!=0xFE) {
   08FB BE FE 02           2362 	cjne	r6,#0xFE,00114$
   08FE 80 1D              2363 	sjmp	00104$
   0900                    2364 00114$:
                           2365 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:700: ga=eeprom[ADDRTAB+1+gapos*2]*256;
   0900 EE                 2366 	mov	a,r6
   0901 2E                 2367 	add	a,r6
   0902 FE                 2368 	mov	r6,a
   0903 24 17              2369 	add	a,#0x17
   0905 90 1D 00           2370 	mov	dptr,#_eeprom
   0908 93                 2371 	movc	a,@a+dptr
   0909 FD                 2372 	mov	r5,a
   090A 7F 00              2373 	mov	r7,#0x00
                           2374 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:701: ga+=eeprom[ADDRTAB+2+gapos*2];
   090C 74 18              2375 	mov	a,#0x18
   090E 2E                 2376 	add	a,r6
   090F 90 1D 00           2377 	mov	dptr,#_eeprom
   0912 93                 2378 	movc	a,@a+dptr
   0913 FE                 2379 	mov	r6,a
   0914 7C 00              2380 	mov	r4,#0x00
   0916 2F                 2381 	add	a,r7
   0917 FF                 2382 	mov	r7,a
   0918 EC                 2383 	mov	a,r4
   0919 3D                 2384 	addc	a,r5
   091A FD                 2385 	mov	r5,a
   091B 80 04              2386 	sjmp	00105$
   091D                    2387 00104$:
                           2388 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:703: else ga=0;
   091D 7F 00              2389 	mov	r7,#0x00
   091F 7D 00              2390 	mov	r5,#0x00
   0921                    2391 00105$:
                           2392 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:705: return(ga);
   0921 8F 82              2393 	mov	dpl,r7
   0923 8D 83              2394 	mov	dph,r5
   0925 22                 2395 	ret
                           2396 ;------------------------------------------------------------
                           2397 ;Allocation info for local variables in function 'restart_hw'
                           2398 ;------------------------------------------------------------
                           2399 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:711: void restart_hw(void)
                           2400 ;	-----------------------------------------
                           2401 ;	 function restart_hw
                           2402 ;	-----------------------------------------
   0926                    2403 _restart_hw:
                           2404 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:713: DIVM=0;			// Taktferquenz nicht teilen -> volles Tempo
   0926 75 95 00           2405 	mov	_DIVM,#0x00
                           2406 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:715: P1M1=0x14;		// Port 1 auf quasi-bidirektional,
   0929 75 91 14           2407 	mov	_P1M1,#0x14
                           2408 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:716: P1M2=0x4C;		// ausser P1.2(T0 als PWM Ausgang)=open-drain,
   092C 75 92 4C           2409 	mov	_P1M2,#0x4C
                           2410 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:720: FBOUTC=0;		// Bus-Ausgang auf low
   092F C2 96              2411 	clr	_P1_6
                           2412 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:722: TMOD=0x21;		// Timer 0 als 16-Bit Timer, Timer 1 als 8 Bit autoreload
   0931 75 89 21           2413 	mov	_TMOD,#0x21
                           2414 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:723: TAMOD=0x00;
   0934 75 8F 00           2415 	mov	_TAMOD,#0x00
                           2416 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:724: TR0=0;			// Timer 0 (zur Verwendung in app) zunaechst stoppen 
   0937 C2 8C              2417 	clr	_TCON_4
                           2418 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:725: TR1=0;			// Timer 1 (Empfangs-Timer, nicht in app verwenden!) zunaechst stoppen
   0939 C2 8E              2419 	clr	_TCON_6
                           2420 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:726: TH1=128;		// Timer 1 auf 104us/3
   093B 75 8D 80           2421 	mov	_TH1,#0x80
                           2422 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:727: TL1=128;
   093E 75 8B 80           2423 	mov	_TL1,#0x80
                           2424 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:728: TF1=0;
   0941 C2 8F              2425 	clr	_TCON_7
                           2426 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:730: RTCH=0x0E;		// Real Time Clock auf 65ms laden
   0943 75 D2 0E           2427 	mov	_RTCH,#0x0E
                           2428 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:731: RTCL=0xA0;		// (RTC ist ein down-counter mit 128 bit prescaler und osc-clock)
   0946 75 D3 A0           2429 	mov	_RTCL,#0xA0
                           2430 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:732: RTCCON=0x61;	// ... und starten
   0949 75 D1 61           2431 	mov	_RTCCON,#0x61
                           2432 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:734: interrupted=0;	// wird durch die interrupt-routine auf 1 gesetzt
   094C C2*01              2433 	clr	_interrupted
                           2434 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:735: IEN0=0x00;
   094E 75 A8 00           2435 	mov	_IEN0,#0x00
                           2436 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:736: IEN1=0x00;
   0951 75 E8 00           2437 	mov	_IEN1,#0x00
                           2438 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:738: ET1=0;			// Interrupt von Timer 1 sperren
   0954 C2 AB              2439 	clr	_IEN0_3
                           2440 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:739: EX0=0;			// Externen Interrupt 0 sperren
   0956 C2 A8              2441 	clr	_IEN0_0
                           2442 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:740: EX1=0;			// Externen Interrupt 1 sperren
   0958 C2 AA              2443 	clr	_IEN0_2
                           2444 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:741: EA=1;			// Interrupts prinzipiell freigeben
   095A D2 AF              2445 	setb	_IEN0_7
                           2446 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:743: IP0=0x04;		// höchste Priorität fuer ext1
   095C 75 B8 04           2447 	mov	_IP0,#0x04
                           2448 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:744: IP0H=0x0C;
   095F 75 B7 0C           2449 	mov	_IP0H,#0x0C
                           2450 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:745: IT1=1;			// Interrupt 1 flankengetriggert=1
   0962 D2 8A              2451 	setb	_TCON_2
                           2452 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:747: status60=0x2E;	// Status-Byte (steht normal im userram an 0x60)
   0964 75*2E 2E           2453 	mov	_status60,#0x2E
                           2454 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:749: ack=0;			// ack und nack flag zurücksetzen
   0967 C2*03              2455 	clr	_ack
                           2456 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:750: nack=0;
   0969 C2*04              2457 	clr	_nack
                           2458 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:751: send_ack=0;
   096B C2*0B              2459 	clr	_send_ack
                           2460 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:752: send_nack=0;
   096D C2*0C              2461 	clr	_send_nack
                           2462 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:753: tel_arrived=0;	// kein Telegramm empfangen
   096F C2*06              2463 	clr	_tel_arrived
                           2464 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:754: auto_ack=1;		// empfangene Telegramme automatisch mit ack bestätigen
   0971 D2*08              2465 	setb	_auto_ack
                           2466 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:755: tx_nextwrite=0;	// Zeiger auf nächste zu schreibende Objektnr. in tx_buffer
   0973 75*2C 00           2467 	mov	_tx_nextwrite,#0x00
                           2468 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:756: tx_nextsend=0;	// Zeiger auf nächste zu sendende Objektnr. in tx_buffer
   0976 75*2D 00           2469 	mov	_tx_nextsend,#0x00
                           2470 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:757: pcount=0;		// Paketzaehler initialisieren
   0979 75*02 00           2471 	mov	_pcount,#0x00
                           2472 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:758: inc_pcount=0;
   097C C2*0F              2473 	clr	_inc_pcount
                           2474 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:759: connected=0;	// keine Verbindung
   097E C2*0E              2475 	clr	_connected
                           2476 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:760: transparency=0;	// fremde Gruppentelegramme werden ignoriert
   0980 C2*0D              2477 	clr	_transparency
                           2478 ;	C:/Freebus/C_Programme/oldisprogramm/lib_lpc922/fb_lpc922.c:761: init_rx();		// Empfang initialisieren
   0982 02s03r6C           2479 	ljmp	_init_rx
                           2480 	.area CSEG    (CODE)
                           2481 	.area CONST   (CODE)
                    1C00   2482 _userram	=	0x1c00
                    1D00   2483 _eeprom	=	0x1d00
                           2484 	.area XINIT   (CODE)
                           2485 	.area CABS    (ABS,CODE)
